<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArqEye - Enterprise Architecture Intelligence</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            900: '#1a1f3a',
                            700: '#2d3561',
                            500: '#4a5899',
                            300: '#7b8fd9',
                        },
                        accent: {
                            500: '#00d4aa',
                            300: '#5ae4c8',
                        },
                        gray: {
                            900: '#0f1115',
                            800: '#1a1d24',
                            700: '#2d3139',
                            600: '#464a54',
                            500: '#6c717d',
                            300: '#b4b8c3',
                            100: '#e8eaed',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0f1115;
            color: #e8eaed;
        }
        
        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }
        
        .arqeye-glow {
            box-shadow: 0 0 20px rgba(0, 212, 170, 0.3);
        }
        
        .transcript-line {
            transition: all 0.2s;
        }
        
        .transcript-line:hover {
            background: rgba(74, 88, 153, 0.1);
        }
        
        .stat-card {
            background: linear-gradient(135deg, #1a1d24 0%, #2d3139 100%);
        }
        
        .scrollbar-thin::-webkit-scrollbar {
            width: 8px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-track {
            background: #1a1d24;
        }
        
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background: #464a54;
            border-radius: 4px;
        }
        
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
            background: #6c717d;
        }
        
        .meeting-card {
            transition: all 0.3s;
            border: 1px solid #2d3139;
        }
        
        .meeting-card:hover {
            border-color: #464a54;
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        .decision-card {
            background: #1a1d24;
            border: 1px solid #2d3139;
            transition: all 0.3s;
        }
        
        .decision-card:hover {
            border-color: #4a5899;
        }
        
        .confidence-badge {
            background: linear-gradient(135deg, #00d4aa 0%, #5ae4c8 100%);
            color: #0f1115;
            font-weight: 600;
        }
        
        .mode-card {
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #2d3139;
        }
        
        .mode-card:hover {
            border-color: #4a5899;
        }
        
        .mode-card.active {
            border-color: #00d4aa;
            background: rgba(0, 212, 170, 0.05);
        }
    </style>
</head>
<body class="bg-gray-900">
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Icons (simplified SVG components)
        const Icons = {
            Dashboard: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
            ),
            Calendar: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
            ),
            Check: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            ),
            Grid: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                </svg>
            ),
            Chart: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
            ),
            Settings: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
            ),
            Search: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
            ),
            Bell: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                </svg>
            ),
            ChevronLeft: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
                </svg>
            ),
            Users: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
            ),
            Download: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                </svg>
            ),
            Filter: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                </svg>
            ),
            Robot: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
            ),
            Category: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
                </svg>
            ),
            Network: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                </svg>
            ),
            Shield: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
            ),
            Video: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                </svg>
            )
        };

        // Sidebar Component
        function Sidebar({ currentPage, setCurrentPage, sidebarOpen }) {
            const navigation = [
                { name: 'Dashboard', page: 'dashboard', icon: Icons.Dashboard },
                { name: 'Meetings', page: 'meetings', icon: Icons.Calendar },
                { name: 'Join Meeting', page: 'join-meeting', icon: Icons.Video },
                { name: 'Decisions', page: 'decisions', icon: Icons.Check },
                { name: 'Categories', page: 'categories', icon: Icons.Category },
                { name: 'Applications', page: 'applications', icon: Icons.Grid },
                { name: 'Interfaces', page: 'interfaces', icon: Icons.Network },
                { name: 'Landscape', page: 'landscape', icon: Icons.Network },
                { name: 'Audit Trail', page: 'audit', icon: Icons.Shield },
                { name: 'Analytics', page: 'analytics', icon: Icons.Chart },
                { name: 'Settings', page: 'settings', icon: Icons.Settings },
            ];

            return (
                <div className={`fixed inset-y-0 z-50 flex flex-col bg-gray-900 transition-all duration-300 ${sidebarOpen ? 'w-60' : 'w-20'}`}>
                    <div className="flex h-16 items-center justify-between px-6">
                        {sidebarOpen && (
                            <div className="flex items-center gap-2">
                                <svg className="h-8 w-8 flex-shrink-0" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect width="100" height="100" rx="10" fill="#0a0a0a"/>
                                    <rect x="20" y="10" width="60" height="22" rx="2" fill="white"/>
                                    <rect x="14" y="38" width="72" height="18" rx="2" fill="white"/>
                                    <rect x="14" y="62" width="33" height="24" rx="2" fill="white"/>
                                    <rect x="53" y="62" width="33" height="24" rx="2" fill="white"/>
                                    <rect x="14" y="86" width="33" height="6" rx="1" fill="#00d4aa"/>
                                    <rect x="53" y="86" width="33" height="6" rx="1" fill="#00d4aa"/>
                                </svg>
                                <span className="text-xl font-bold text-white">ArqEye</span>
                            </div>
                        )}
                    </div>
                    <nav className="flex-1 px-3 py-4">
                        <ul className="space-y-1">
                            {navigation.map((item) => {
                                const Icon = item.icon;
                                const isActive = currentPage === item.page;
                                return (
                                    <li key={item.name}>
                                        <button
                                            onClick={() => setCurrentPage(item.page)}
                                            className={`w-full flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-semibold transition-colors ${
                                                isActive
                                                    ? 'bg-primary-500 text-white'
                                                    : 'text-gray-400 hover:bg-gray-800 hover:text-white'
                                            }`}
                                        >
                                            <Icon />
                                            {sidebarOpen && <span>{item.name}</span>}
                                        </button>
                                    </li>
                                );
                            })}
                        </ul>
                    </nav>
                </div>
            );
        }

        // TopBar Component
        function TopBar({ setCurrentPage, setSelectedMeeting }) {
            const [accountDropdownOpen, setAccountDropdownOpen] = useState(false);
            const [notificationsOpen, setNotificationsOpen] = useState(false);
            const [searchQuery, setSearchQuery] = useState('');
            const [searchOpen, setSearchOpen] = useState(false);
            const [askArqEyeOpen, setAskArqEyeOpen] = useState(false);
            const [chatInput, setChatInput] = useState('');
            const [chatMessages, setChatMessages] = useState([
                { role: 'arqeye', text: "Hi! I'm ArqEye, your architecture intelligence assistant. Ask me anything about your architecture decisions, standards, technical debt, or compliance." }
            ]);
            const [isTyping, setIsTyping] = useState(false);

            const demoResponses = {
                'default': "Based on your architecture knowledge base, I'd need more context to give a specific recommendation. Could you clarify which system or decision area you're asking about?",
                'technical debt': "Your current technical debt register shows 12 items. Top priority: Legacy OAuth 1.0 authentication (severity: High, repayment planned Q2 2026). 3 microservices still on Java 8 need migration to Java 17 LTS per ADR-089.",
                'migration': "SAP Migration Status: ECC 6.0 EHP 8 ‚Üí S/4HANA planned for Q2 2026. 47 custom programs documented. Previously postponed Sept 2024 due to resource constraints. Current capacity: 3 active migrations already in flight.",
                'azure': "Your enterprise standard is Azure-first (documented principle, July 2023). Current footprint: 12 Azure workloads, 5 Azure-certified architects, 0 AWS capability. Any AWS adoption would require ARB exception approval.",
                'security': "Active security items: Zero Trust Security Model (proposed, 78% confidence ‚Äî needs review). OAuth 2.0 migration approved (91% confidence). Legacy OAuth 1.0 flagged as high-severity technical debt.",
                'api': "API Gateway Selection: No prior organizational experience with Kong or Apigee. Confidence level: LOW. Recommendation: Engage specialist consultant before committing. This was flagged in the Jan 18 Technical Architecture meeting.",
                'standards': "Current architecture standards: Azure-first cloud strategy (July 2023), PostgreSQL for all new transactional data (PCI-DSS requirement), Strangler Fig Pattern for monolith decomposition (ADR-134), Java 17 LTS target (ADR-089).",
                'decisions': "Recent decisions: Azure AKS for containers (94% confidence, accepted), S/4HANA migration Q2 2026 (89%, accepted), Zero Trust model (78%, proposed ‚Äî needs approval), PostgreSQL standardization (91%, accepted).",
                'risk': "Top risks: Cloud vendor lock-in (High impact, from Security Architecture Review), Multi-cloud operational burden if AWS adopted without capability (High), SAP migration timeline pressure with 3 concurrent migrations (Medium).",
                'compliance': "Compliance posture: SOC2-ready architecture in place. GDPR data archival requirements documented in ADR-156. PCI-DSS driving PostgreSQL standardization. IFRS 17 impacting SAP go-live timeline ‚Äî Finance requires Q3 2026."
            };

            const handleSendMessage = () => {
                if (!chatInput.trim()) return;
                const userMsg = chatInput.trim();
                setChatMessages(prev => [...prev, { role: 'user', text: userMsg }]);
                setChatInput('');
                setIsTyping(true);

                setTimeout(() => {
                    const lower = userMsg.toLowerCase();
                    let response = demoResponses['default'];
                    for (const [key, val] of Object.entries(demoResponses)) {
                        if (key !== 'default' && lower.includes(key)) {
                            response = val;
                            break;
                        }
                    }
                    setChatMessages(prev => [...prev, { role: 'arqeye', text: response }]);
                    setIsTyping(false);
                }, 1200 + Math.random() * 800);
            };
            
            // Notifications data - using real data from the application
            const notifications = [
                { 
                    id: 1, 
                    type: 'meeting', 
                    title: 'New ArqEye response in Technical Design Authority', 
                    description: 'ArqEye identified a conflict with enterprise standard',
                    time: '5 min ago',
                    unread: true,
                    meeting: { type: 'meeting', title: 'Technical Design Authority - Jan 2026', date: 'Jan 15, 2026', category: 'TDA', id: 1 }
                },
                { 
                    id: 2, 
                    type: 'decision', 
                    title: 'Decision Accepted: Azure AKS for Containers', 
                    description: 'Confidence: 94% - Now tracked in decision register',
                    time: '1 hour ago',
                    unread: true
                },
                { 
                    id: 3, 
                    type: 'meeting', 
                    title: 'Upcoming: Data Governance Framework', 
                    description: 'Scheduled for tomorrow at 2:00 PM',
                    time: '2 hours ago',
                    unread: true,
                    meeting: { type: 'meeting', title: 'Data Governance Framework', date: 'Jan 20, 2026', category: 'Data', id: 6 }
                },
                { 
                    id: 4, 
                    type: 'action', 
                    title: 'Action Item Assigned: Schedule AKS Training', 
                    description: 'Due: Feb 15, 2026 - Assigned to Platform Team',
                    time: '3 hours ago',
                    unread: false
                },
                { 
                    id: 5, 
                    type: 'decision', 
                    title: 'Decision Proposed: Zero Trust Security Model', 
                    description: 'Confidence: 78% - Requires review',
                    time: '5 hours ago',
                    unread: false
                },
                { 
                    id: 6, 
                    type: 'meeting', 
                    title: 'Meeting Summary Available: SAP Migration Review', 
                    description: '3 decisions tracked, 2 risks identified',
                    time: 'Yesterday',
                    unread: false,
                    meeting: { type: 'meeting', title: 'SAP Migration Strategy Review', date: 'Jan 10, 2026', category: 'Enterprise', id: 2 }
                },
                { 
                    id: 7, 
                    type: 'risk', 
                    title: 'New Risk Identified: Cloud Vendor Lock-in', 
                    description: 'Impact: High - From Security Architecture Review',
                    time: 'Yesterday',
                    unread: false
                },
                { 
                    id: 8, 
                    type: 'tech-debt', 
                    title: 'Technical Debt Added: Legacy OAuth 1.0', 
                    description: 'Severity: High - Repayment planned Q2 2026',
                    time: '2 days ago',
                    unread: false
                },
            ];
            
            const unreadCount = notifications.filter(n => n.unread).length;
            
            // Handle notification click
            const handleNotificationClick = (notification) => {
                if (notification.meeting) {
                    setSelectedMeeting(notification.meeting);
                    setCurrentPage('meeting-detail');
                } else if (notification.type === 'decision') {
                    setCurrentPage('decisions');
                } else if (notification.type === 'action') {
                    setCurrentPage('categories');
                } else if (notification.type === 'risk') {
                    setCurrentPage('categories');
                } else if (notification.type === 'tech-debt') {
                    setCurrentPage('categories');
                }
                setNotificationsOpen(false);
            };
            
            // Search data
            const searchableItems = [
                // Meetings
                { type: 'meeting', title: 'Technical Design Authority - Jan 2026', date: 'Jan 15, 2026', category: 'TDA', id: 1 },
                { type: 'meeting', title: 'SAP Migration Strategy Review', date: 'Jan 10, 2026', category: 'Enterprise', id: 2 },
                { type: 'meeting', title: 'Cloud Platform Selection - Azure vs AWS', date: 'Jan 12, 2026', category: 'Solution', id: 3 },
                { type: 'meeting', title: 'Security Architecture Review', date: 'Jan 8, 2026', category: 'Security', id: 4 },
                { type: 'meeting', title: 'API Gateway Discussion', date: 'Jan 18, 2026', category: 'Technical', id: 5 },
                { type: 'meeting', title: 'Data Governance Framework', date: 'Jan 20, 2026', category: 'Data', id: 6 },
                
                // Decisions
                { type: 'decision', title: 'Adopt Azure AKS for Container Orchestration', status: 'Accepted', confidence: '94%' },
                { type: 'decision', title: 'Migrate from SAP ECC to S/4HANA in Q2 2026', status: 'Accepted', confidence: '89%' },
                { type: 'decision', title: 'Implement Zero Trust Security Model', status: 'Proposed', confidence: '78%' },
                { type: 'decision', title: 'Standardize on PostgreSQL for New Applications', status: 'Accepted', confidence: '91%' },
                { type: 'decision', title: 'Postpone AWS Adoption Until 2027', status: 'Accepted', confidence: '87%' },
                
                // Applications
                { type: 'application', title: 'CustomerPortal', status: 'Active', tech: 'React, Node.js' },
                { type: 'application', title: 'TransactionHub', status: 'Active', tech: 'Java, Spring Boot' },
                { type: 'application', title: 'SAP ECC', status: 'Active', tech: 'SAP, ABAP' },
                { type: 'application', title: 'NotificationService', status: 'Active', tech: 'Python, FastAPI' },
                { type: 'application', title: 'AnalyticsPlatform', status: 'In Development', tech: 'React, BigQuery' },
                { type: 'application', title: 'LegacyBilling', status: 'Deprecated', tech: 'PHP, MySQL' },
                
                // Categories
                { type: 'category', title: 'Technical Debt', count: '12 items', severity: 'High' },
                { type: 'category', title: 'Risks', count: '8 items', severity: 'Medium' },
                { type: 'category', title: 'Action Items', count: '24 items', severity: 'High' },
                { type: 'category', title: 'Architecture Principles', count: '15 items', severity: 'N/A' },
            ];
            
            // Filter results based on search query
            const searchResults = searchQuery.length > 0
                ? searchableItems.filter(item =>
                    item.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    (item.category && item.category.toLowerCase().includes(searchQuery.toLowerCase())) ||
                    (item.tech && item.tech.toLowerCase().includes(searchQuery.toLowerCase())) ||
                    (item.status && item.status.toLowerCase().includes(searchQuery.toLowerCase()))
                  )
                : [];
            
            // Group results by type
            const groupedResults = {
                meetings: searchResults.filter(r => r.type === 'meeting'),
                decisions: searchResults.filter(r => r.type === 'decision'),
                applications: searchResults.filter(r => r.type === 'application'),
                categories: searchResults.filter(r => r.type === 'category'),
            };
            
            // Handle search result click
            const handleResultClick = (result) => {
                if (result.type === 'meeting') {
                    setSelectedMeeting(result);
                    setCurrentPage('meeting-detail');
                } else if (result.type === 'decision') {
                    setCurrentPage('decisions');
                } else if (result.type === 'application') {
                    setCurrentPage('landscape');
                } else if (result.type === 'category') {
                    setCurrentPage('categories');
                }
                setSearchQuery('');
                setSearchOpen(false);
            };
            
            // Close dropdown when clicking outside
            useEffect(() => {
                function handleClickOutside(event) {
                    if (accountDropdownOpen && !event.target.closest('.account-dropdown')) {
                        setAccountDropdownOpen(false);
                    }
                    if (notificationsOpen && !event.target.closest('.notifications-dropdown')) {
                        setNotificationsOpen(false);
                    }
                    if (searchOpen && !event.target.closest('.search-container')) {
                        setSearchOpen(false);
                    }
                }
                document.addEventListener('mousedown', handleClickOutside);
                return () => document.removeEventListener('mousedown', handleClickOutside);
            }, [accountDropdownOpen, notificationsOpen, searchOpen]);
            
            return (
                <>
                    {/* Demo Mode Banner */}
                    <div className="sticky top-0 z-50 bg-accent-500/10 border-b border-accent-500/20 px-8 py-2">
                        <div className="flex items-center justify-center gap-2">
                            <span className="inline-flex items-center rounded-full bg-accent-500 px-3 py-1 text-xs font-semibold text-gray-900">
                                DEMO MODE
                            </span>
                            <span className="text-sm text-accent-300">
                                Viewing sample conversation data for demonstration purposes
                            </span>
                        </div>
                    </div>
                    
                    <div className="sticky top-0 z-40 flex h-16 items-center gap-4 border-b border-gray-700 bg-gray-800 px-6">
                    <div className="flex flex-1 gap-4">
                        <div className="relative flex-1 max-w-lg search-container">
                            <div className="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                                <Icons.Search />
                            </div>
                            <input
                                type="text"
                                value={searchQuery}
                                onChange={(e) => {
                                    setSearchQuery(e.target.value);
                                    setSearchOpen(e.target.value.length > 0);
                                }}
                                onFocus={() => searchQuery.length > 0 && setSearchOpen(true)}
                                className="block w-full rounded-lg border border-gray-600 bg-gray-700 py-2 pl-10 pr-3 text-sm text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none focus:ring-1 focus:ring-accent-500"
                                placeholder="Search meetings, decisions, applications..."
                            />
                            
                            {/* Search Results Dropdown */}
                            {searchOpen && searchResults.length > 0 && (
                                <div className="absolute top-full mt-2 w-full max-h-96 overflow-y-auto rounded-lg bg-gray-800 border border-gray-700 shadow-2xl scrollbar-thin">
                                    {/* Meetings */}
                                    {groupedResults.meetings.length > 0 && (
                                        <div className="p-2 border-b border-gray-700">
                                            <div className="px-2 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wide">
                                                Meetings ({groupedResults.meetings.length})
                                            </div>
                                            {groupedResults.meetings.map((result, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => handleResultClick(result)}
                                                    className="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 transition"
                                                >
                                                    <div className="font-medium text-white text-sm">{result.title}</div>
                                                    <div className="text-xs text-gray-400 mt-1">
                                                        {result.date} ‚Ä¢ {result.category}
                                                    </div>
                                                </button>
                                            ))}
                                        </div>
                                    )}
                                    
                                    {/* Decisions */}
                                    {groupedResults.decisions.length > 0 && (
                                        <div className="p-2 border-b border-gray-700">
                                            <div className="px-2 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wide">
                                                Decisions ({groupedResults.decisions.length})
                                            </div>
                                            {groupedResults.decisions.map((result, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => handleResultClick(result)}
                                                    className="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 transition"
                                                >
                                                    <div className="font-medium text-white text-sm">{result.title}</div>
                                                    <div className="flex items-center gap-2 mt-1">
                                                        <span className={`text-xs px-2 py-0.5 rounded-full ${
                                                            result.status === 'Accepted' 
                                                                ? 'bg-green-500/10 text-green-400' 
                                                                : 'bg-yellow-500/10 text-yellow-400'
                                                        }`}>
                                                            {result.status}
                                                        </span>
                                                        <span className="text-xs text-gray-400">
                                                            Confidence: {result.confidence}
                                                        </span>
                                                    </div>
                                                </button>
                                            ))}
                                        </div>
                                    )}
                                    
                                    {/* Applications */}
                                    {groupedResults.applications.length > 0 && (
                                        <div className="p-2 border-b border-gray-700">
                                            <div className="px-2 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wide">
                                                Applications ({groupedResults.applications.length})
                                            </div>
                                            {groupedResults.applications.map((result, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => handleResultClick(result)}
                                                    className="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 transition"
                                                >
                                                    <div className="font-medium text-white text-sm">{result.title}</div>
                                                    <div className="text-xs text-gray-400 mt-1">
                                                        {result.tech} ‚Ä¢ {result.status}
                                                    </div>
                                                </button>
                                            ))}
                                        </div>
                                    )}
                                    
                                    {/* Categories */}
                                    {groupedResults.categories.length > 0 && (
                                        <div className="p-2">
                                            <div className="px-2 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wide">
                                                Categories ({groupedResults.categories.length})
                                            </div>
                                            {groupedResults.categories.map((result, idx) => (
                                                <button
                                                    key={idx}
                                                    onClick={() => handleResultClick(result)}
                                                    className="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 transition"
                                                >
                                                    <div className="font-medium text-white text-sm">{result.title}</div>
                                                    <div className="text-xs text-gray-400 mt-1">{result.count}</div>
                                                </button>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            )}
                            
                            {/* No Results */}
                            {searchOpen && searchQuery.length > 0 && searchResults.length === 0 && (
                                <div className="absolute top-full mt-2 w-full rounded-lg bg-gray-800 border border-gray-700 shadow-2xl p-4 text-center">
                                    <div className="text-gray-400 text-sm">No results found for "{searchQuery}"</div>
                                </div>
                            )}
                        </div>
                    </div>
                    <div className="flex items-center gap-3">
                        {/* Ask ArqEye Button */}
                        <button 
                            onClick={() => setAskArqEyeOpen(!askArqEyeOpen)}
                            className={`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${
                                askArqEyeOpen 
                                    ? 'bg-accent-500 text-gray-900' 
                                    : 'bg-accent-500/10 border border-accent-500/30 text-accent-400 hover:bg-accent-500/20 hover:text-accent-300'
                            }`}
                        >
                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                            </svg>
                            Ask ArqEye
                        </button>
                        {/* Notifications Dropdown */}
                        <div className="relative notifications-dropdown">
                            <button 
                                onClick={() => setNotificationsOpen(!notificationsOpen)}
                                className="relative rounded-lg p-2 text-gray-400 hover:bg-gray-700 hover:text-white"
                            >
                                <Icons.Bell />
                                {unreadCount > 0 && (
                                    <>
                                        <span className="absolute top-1 right-1 h-2 w-2 rounded-full bg-accent-500 animate-pulse"></span>
                                        <span className="absolute -top-1 -right-1 bg-accent-500 text-gray-900 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">
                                            {unreadCount}
                                        </span>
                                    </>
                                )}
                            </button>
                            
                            {/* Notifications Dropdown Menu */}
                            {notificationsOpen && (
                                <div className="absolute right-0 mt-2 w-96 max-h-[600px] overflow-y-auto rounded-lg bg-gray-800 border border-gray-700 shadow-2xl scrollbar-thin">
                                    {/* Header */}
                                    <div className="sticky top-0 bg-gray-800 border-b border-gray-700 p-4 z-10">
                                        <div className="flex items-center justify-between">
                                            <h3 className="font-semibold text-white">Notifications</h3>
                                            {unreadCount > 0 && (
                                                <span className="text-xs bg-accent-500/20 text-accent-400 px-2 py-1 rounded-full">
                                                    {unreadCount} new
                                                </span>
                                            )}
                                        </div>
                                    </div>
                                    
                                    {/* Notifications List */}
                                    <div className="p-2">
                                        {notifications.map((notification) => (
                                            <button
                                                key={notification.id}
                                                onClick={() => handleNotificationClick(notification)}
                                                className={`w-full text-left px-3 py-3 rounded-lg hover:bg-gray-700 transition mb-2 ${
                                                    notification.unread ? 'bg-gray-700/50' : ''
                                                }`}
                                            >
                                                <div className="flex items-start gap-3">
                                                    {/* Icon based on type */}
                                                    <div className={`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center text-sm ${
                                                        notification.type === 'meeting' 
                                                            ? 'bg-blue-500/20 text-blue-400' 
                                                            : notification.type === 'decision'
                                                                ? 'bg-green-500/20 text-green-400'
                                                                : notification.type === 'action'
                                                                    ? 'bg-purple-500/20 text-purple-400'
                                                                    : notification.type === 'risk'
                                                                        ? 'bg-red-500/20 text-red-400'
                                                                        : 'bg-yellow-500/20 text-yellow-400'
                                                    }`}>
                                                        {notification.type === 'meeting' && 'üìÖ'}
                                                        {notification.type === 'decision' && '‚úÖ'}
                                                        {notification.type === 'action' && 'üìã'}
                                                        {notification.type === 'risk' && '‚ö†Ô∏è'}
                                                        {notification.type === 'tech-debt' && 'üîß'}
                                                    </div>
                                                    
                                                    <div className="flex-1 min-w-0">
                                                        <div className="flex items-start justify-between gap-2 mb-1">
                                                            <p className="font-medium text-white text-sm leading-tight">
                                                                {notification.title}
                                                            </p>
                                                            {notification.unread && (
                                                                <span className="flex-shrink-0 w-2 h-2 rounded-full bg-accent-500 mt-1"></span>
                                                            )}
                                                        </div>
                                                        <p className="text-xs text-gray-400 mb-1">
                                                            {notification.description}
                                                        </p>
                                                        <p className="text-xs text-gray-500">
                                                            {notification.time}
                                                        </p>
                                                    </div>
                                                </div>
                                            </button>
                                        ))}
                                    </div>
                                    
                                    {/* Footer */}
                                    <div className="sticky bottom-0 bg-gray-800 border-t border-gray-700 p-3">
                                        <button className="w-full text-center text-sm text-accent-400 hover:text-accent-300 font-medium">
                                            View All Notifications
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                        <div className="h-8 w-px bg-gray-700"></div>
                        
                        {/* Company Name */}
                        <div className="text-sm font-medium text-gray-300">
                            Model Company
                        </div>
                        
                        <div className="h-8 w-px bg-gray-700"></div>
                        
                        {/* Account Dropdown */}
                        <div className="relative account-dropdown">
                            <button 
                                onClick={() => setAccountDropdownOpen(!accountDropdownOpen)}
                                className="flex items-center gap-2 rounded-lg hover:bg-gray-700 px-2 py-1"
                            >
                                <div className="h-8 w-8 rounded-full bg-primary-500 flex items-center justify-center text-white font-semibold text-sm">
                                    SC
                                </div>
                            </button>
                            
                            {/* Dropdown Menu */}
                            {accountDropdownOpen && (
                                <div className="absolute right-0 mt-2 w-80 rounded-lg bg-gray-800 border border-gray-700 shadow-xl">
                                    {/* User Info */}
                                    <div className="p-4 border-b border-gray-700">
                                        <div className="flex items-start gap-3">
                                            <div className="h-12 w-12 rounded-full bg-primary-500 flex items-center justify-center text-white font-semibold text-lg">
                                                SC
                                            </div>
                                            <div className="flex-1">
                                                <div className="font-semibold text-white">Sarah Chen</div>
                                                <div className="text-sm text-gray-400">Enterprise Architect</div>
                                                <div className="text-xs text-gray-500 mt-1">sarah.chen@techcorp.com</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    {/* Company Info */}
                                    <div className="p-4 border-b border-gray-700 bg-gray-900/50">
                                        <div className="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Organization</div>
                                        <div className="font-semibold text-white">TechCorp Industries</div>
                                        <div className="text-sm text-gray-400 mt-1">Enterprise License</div>
                                        <div className="flex items-center gap-2 mt-2">
                                            <span className="inline-flex items-center rounded-full bg-green-500/10 text-green-400 border border-green-500/20 px-2 py-1 text-xs font-medium">
                                                Active
                                            </span>
                                            <span className="text-xs text-gray-500">Tenant ID: c3ed37c5</span>
                                        </div>
                                    </div>
                                    
                                    {/* Account Details */}
                                    <div className="p-4 border-b border-gray-700">
                                        <div className="space-y-3">
                                            <div className="flex items-center justify-between">
                                                <span className="text-sm text-gray-400">Role</span>
                                                <span className="text-sm font-medium text-white">Admin</span>
                                            </div>
                                            <div className="flex items-center justify-between">
                                                <span className="text-sm text-gray-400">Team Members</span>
                                                <span className="text-sm font-medium text-white">24</span>
                                            </div>
                                            <div className="flex items-center justify-between">
                                                <span className="text-sm text-gray-400">Meetings This Month</span>
                                                <span className="text-sm font-medium text-accent-500">47</span>
                                            </div>
                                            <div className="flex items-center justify-between">
                                                <span className="text-sm text-gray-400">Last Login</span>
                                                <span className="text-sm font-medium text-white">Jan 30, 2026 14:23</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    {/* Menu Items */}
                                    <div className="p-2">
                                        <button className="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 text-sm text-white">
                                            View Profile
                                        </button>
                                        <button className="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 text-sm text-white">
                                            Account Settings
                                        </button>
                                        <div className="h-px bg-gray-700 my-2"></div>
                                        <button className="w-full text-left px-3 py-2 rounded-lg hover:bg-gray-700 text-sm text-red-400">
                                            Sign Out
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>

                {/* Ask ArqEye Chat Panel */}
                {askArqEyeOpen && (
                    <div className="fixed top-0 right-0 z-[100] h-full w-[420px] bg-gray-900 border-l border-gray-700 shadow-2xl flex flex-col" style={{animation: 'slideInRight 0.25s ease-out'}}>
                        {/* Chat Header */}
                        <div className="flex items-center justify-between px-5 py-4 border-b border-gray-700 bg-gray-800">
                            <div className="flex items-center gap-3">
                                <div className="h-9 w-9 rounded-lg bg-accent-500/20 flex items-center justify-center">
                                    <svg className="w-5 h-5 text-accent-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                                    </svg>
                                </div>
                                <div>
                                    <h3 className="text-sm font-bold text-white">Ask ArqEye</h3>
                                    <div className="flex items-center gap-1.5">
                                        <span className="relative flex h-2 w-2">
                                            <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-accent-400 opacity-75"></span>
                                            <span className="relative inline-flex rounded-full h-2 w-2 bg-accent-500"></span>
                                        </span>
                                        <span className="text-xs text-accent-400">Connected to your knowledge base</span>
                                    </div>
                                </div>
                            </div>
                            <button onClick={() => setAskArqEyeOpen(false)} className="text-gray-400 hover:text-white transition-colors p-1 rounded-lg hover:bg-gray-700">
                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>

                        {/* Chat Messages */}
                        <div className="flex-1 overflow-y-auto p-4 space-y-4 scrollbar-thin">
                            {chatMessages.map((msg, idx) => (
                                <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                    <div className={`max-w-[85%] rounded-xl px-4 py-3 text-sm leading-relaxed ${
                                        msg.role === 'user'
                                            ? 'bg-primary-500 text-white rounded-br-sm'
                                            : 'bg-gray-800 border border-gray-700 text-gray-200 rounded-bl-sm'
                                    }`}>
                                        {msg.role === 'arqeye' && (
                                            <div className="flex items-center gap-1.5 mb-2">
                                                <span className="text-accent-400 font-bold text-xs">ArqEye</span>
                                                <span className="text-gray-600 text-xs">‚Ä¢</span>
                                                <span className="text-gray-500 text-xs">Architecture Intelligence</span>
                                            </div>
                                        )}
                                        {msg.text}
                                    </div>
                                </div>
                            ))}
                            {isTyping && (
                                <div className="flex justify-start">
                                    <div className="bg-gray-800 border border-gray-700 rounded-xl rounded-bl-sm px-4 py-3">
                                        <div className="flex items-center gap-1.5">
                                            <span className="text-accent-400 font-bold text-xs">ArqEye</span>
                                            <div className="flex gap-1 ml-2">
                                                <div className="w-1.5 h-1.5 bg-accent-400 rounded-full animate-bounce" style={{animationDelay: '0ms'}}></div>
                                                <div className="w-1.5 h-1.5 bg-accent-400 rounded-full animate-bounce" style={{animationDelay: '150ms'}}></div>
                                                <div className="w-1.5 h-1.5 bg-accent-400 rounded-full animate-bounce" style={{animationDelay: '300ms'}}></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>

                        {/* Quick Suggestions */}
                        {chatMessages.length <= 1 && (
                            <div className="px-4 pb-2">
                                <p className="text-xs text-gray-500 mb-2">Try asking about:</p>
                                <div className="flex flex-wrap gap-2">
                                    {['Technical debt', 'Azure standards', 'Security risks', 'Recent decisions', 'SAP migration', 'Compliance'].map((suggestion) => (
                                        <button
                                            key={suggestion}
                                            onClick={() => {
                                                setChatInput(suggestion);
                                            }}
                                            className="text-xs bg-gray-800 border border-gray-700 text-gray-300 px-3 py-1.5 rounded-full hover:border-accent-500/30 hover:text-accent-400 transition-colors"
                                        >
                                            {suggestion}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}

                        {/* Chat Input */}
                        <div className="border-t border-gray-700 p-4 bg-gray-800">
                            <div className="flex items-center gap-2">
                                <input
                                    type="text"
                                    value={chatInput}
                                    onChange={(e) => setChatInput(e.target.value)}
                                    onKeyDown={(e) => e.key === 'Enter' && handleSendMessage()}
                                    placeholder="Ask about your architecture..."
                                    className="flex-1 rounded-lg border border-gray-600 bg-gray-700 px-4 py-2.5 text-sm text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none focus:ring-1 focus:ring-accent-500"
                                    disabled={isTyping}
                                />
                                <button 
                                    onClick={handleSendMessage}
                                    disabled={!chatInput.trim() || isTyping}
                                    className="rounded-lg bg-accent-500 p-2.5 text-gray-900 hover:bg-accent-300 transition-colors disabled:opacity-40 disabled:cursor-not-allowed"
                                >
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                )}

                <style>{`
                    @keyframes slideInRight {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                `}</style>
                </>
            );
        }

        // Dashboard Page
        function Dashboard({ setCurrentPage, setSelectedMeeting }) {
            const stats = [
                { name: 'Meetings Attended', value: '47', change: '+12%', positive: true, icon: Icons.Calendar },
                { name: 'ARQEYE Responses', value: '128', change: '+8%', positive: true, icon: Icons.Robot },
                { name: 'Decisions Tracked', value: '34', change: 'No change', neutral: true, icon: Icons.Check },
                { name: 'Average Confidence', value: '87%', change: '+3%', positive: true, icon: Icons.Chart },
            ];

            return (
                <div className="space-y-8">
                    <div>
                        <h1 className="text-3xl font-bold text-white">Dashboard</h1>
                        <p className="mt-1 text-gray-400">Welcome back! Here's what's happening with ARQEYE.</p>
                    </div>

                    {/* Stats Grid */}
                    <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-4">
                        {stats.map((stat) => {
                            const Icon = stat.icon;
                            return (
                                <div key={stat.name} className="stat-card rounded-lg border border-gray-700 p-6">
                                    <div className="flex items-center justify-between">
                                        <div className="text-sm font-medium text-gray-400">{stat.name}</div>
                                        <div className="text-gray-500">
                                            <Icon />
                                        </div>
                                    </div>
                                    <div className="mt-2 text-3xl font-bold text-white">{stat.value}</div>
                                    <div className={`mt-1 text-xs ${stat.positive ? 'text-green-400' : stat.neutral ? 'text-gray-400' : 'text-red-400'}`}>
                                        {stat.change} vs last month
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    {/* Recent Meetings */}
                    <div>
                        <div className="flex items-center justify-between mb-4">
                            <h2 className="text-xl font-semibold text-white">Recent Meetings</h2>
                            <button onClick={() => setCurrentPage('meetings')} className="text-accent-500 hover:text-accent-300 text-sm font-medium">
                                View all ‚Üí
                            </button>
                        </div>

                        <div className="space-y-4">
                            {[
                                {
                                    title: 'Q4 Architecture Review',
                                    date: 'Dec 15, 2025 ‚Ä¢ 2:00 PM',
                                    duration: '1h 23m',
                                    participants: 8,
                                    arqeyeResponses: 3,
                                    summary: 'ARQEYE suggested microservices architecture for payment processing. Team approved with 87% confidence.'
                                },
                                {
                                    title: 'Cloud Migration Planning',
                                    date: 'Dec 14, 2025 ‚Ä¢ 10:30 AM',
                                    duration: '2h 15m',
                                    participants: 12,
                                    arqeyeResponses: 7,
                                    summary: 'Discussed AWS vs Azure. ARQEYE recommended hybrid approach based on existing infrastructure.'
                                }
                            ].map((meeting, idx) => (
                                <div key={idx} onClick={() => setCurrentPage('meetings')} className="meeting-card rounded-lg bg-gray-800 p-6 cursor-pointer">
                                    <div className="flex items-start justify-between">
                                        <div className="flex-1">
                                            <h3 className="text-lg font-semibold text-white">{meeting.title}</h3>
                                            <p className="mt-1 text-sm text-gray-400">{meeting.date} ‚Ä¢ {meeting.duration} ‚Ä¢ {meeting.participants} participants</p>
                                        </div>
                                        <span className="inline-flex items-center rounded-full bg-green-500/10 px-3 py-1 text-xs font-medium text-green-400">
                                            Completed
                                        </span>
                                    </div>
                                    <div className="mt-4 flex items-center gap-4 text-sm text-gray-400">
                                        <div className="flex items-center gap-1">
                                            <Icons.Robot />
                                            <span>{meeting.arqeyeResponses} ARQEYE responses</span>
                                        </div>
                                    </div>
                                    <p className="mt-3 text-sm text-gray-300">{meeting.summary}</p>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Recent Decisions */}
                    <div>
                        <div className="flex items-center justify-between mb-4">
                            <h2 className="text-xl font-semibold text-white">Recent Decisions</h2>
                            <button onClick={() => setCurrentPage('decisions')} className="text-accent-500 hover:text-accent-300 text-sm font-medium">
                                View all ‚Üí
                            </button>
                        </div>

                        <div className="grid grid-cols-2 gap-4">
                            {[
                                {
                                    title: 'Adopt Modular Monolith Architecture',
                                    status: 'approved',
                                    confidence: 87,
                                    date: 'Dec 15, 2025',
                                    owner: 'Sarah Chen',
                                    meeting: 'Q4 Architecture Review'
                                },
                                {
                                    title: 'Implement Vertical Scaling Strategy',
                                    status: 'approved',
                                    confidence: 85,
                                    date: 'Dec 15, 2025',
                                    owner: 'Marcus Johnson',
                                    meeting: 'Q4 Architecture Review'
                                },
                                {
                                    title: 'Migrate Authentication to OAuth 2.0',
                                    status: 'approved',
                                    confidence: 91,
                                    date: 'Dec 12, 2025',
                                    owner: 'David Lee',
                                    meeting: 'Security Review'
                                },
                                {
                                    title: 'Adopt GraphQL for API Layer',
                                    status: 'rejected',
                                    confidence: 65,
                                    date: 'Dec 10, 2025',
                                    owner: 'Sarah Chen',
                                    meeting: 'Tech Stack Discussion'
                                }
                            ].map((decision, idx) => (
                                <div key={idx} onClick={() => setCurrentPage('decisions')} className="decision-card rounded-lg p-5 border-l-4 border-accent-500 cursor-pointer">
                                    <div className="flex items-start justify-between mb-2">
                                        <h3 className="text-md font-semibold text-white flex-1">{decision.title}</h3>
                                        <span className={`inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium capitalize ml-2 ${
                                            decision.status === 'approved' 
                                                ? 'bg-green-500/10 text-green-400 border-green-500/20'
                                                : 'bg-red-500/10 text-red-400 border-red-500/20'
                                        }`}>
                                            {decision.status}
                                        </span>
                                    </div>
                                    <div className="flex items-center gap-2 mb-3">
                                        <span className="confidence-badge rounded-full px-2 py-0.5 text-xs">
                                            {decision.confidence}% confidence
                                        </span>
                                        <span className="text-xs text-gray-500">‚Ä¢</span>
                                        <span className="text-xs text-gray-400">{decision.date}</span>
                                    </div>
                                    <div className="flex items-center justify-between text-sm">
                                        <span className="text-gray-500">Owner: <span className="text-white">{decision.owner}</span></span>
                                        <span className="text-gray-500">{decision.meeting}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Decisions Needing Approval */}
                    <div>
                        <div className="flex items-center justify-between mb-4">
                            <h2 className="text-xl font-semibold text-white">Decisions Needing Approval</h2>
                            <span className="inline-flex items-center rounded-full bg-yellow-500/20 px-3 py-1 text-xs font-semibold text-yellow-400">
                                3 pending
                            </span>
                        </div>

                        <div className="space-y-3">
                            {[
                                {
                                    title: 'Migrate to AWS Cloud Infrastructure',
                                    confidence: 79,
                                    owner: 'Jennifer Williams',
                                    meeting: 'Infrastructure Planning',
                                    daysAgo: 2,
                                    urgency: 'high'
                                },
                                {
                                    title: 'Implement Zero-Trust Security Model',
                                    confidence: 88,
                                    owner: 'David Lee',
                                    meeting: 'Security Review',
                                    daysAgo: 5,
                                    urgency: 'medium'
                                },
                                {
                                    title: 'Adopt Event-Driven Architecture for Notifications',
                                    confidence: 73,
                                    owner: 'Marcus Johnson',
                                    meeting: 'Tech Stack Discussion',
                                    daysAgo: 7,
                                    urgency: 'low'
                                }
                            ].map((decision, idx) => (
                                <div key={idx} onClick={() => setCurrentPage('decisions')} className="rounded-lg bg-gray-800 border border-gray-700 p-4 hover:border-accent-500/30 transition-colors cursor-pointer">
                                    <div className="flex items-start justify-between">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2 mb-1">
                                                <h3 className="text-md font-semibold text-white">{decision.title}</h3>
                                                <span className={`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${
                                                    decision.urgency === 'high' 
                                                        ? 'bg-red-500/20 text-red-400'
                                                        : decision.urgency === 'medium'
                                                            ? 'bg-yellow-500/20 text-yellow-400'
                                                            : 'bg-blue-500/20 text-blue-400'
                                                }`}>
                                                    {decision.urgency.toUpperCase()}
                                                </span>
                                            </div>
                                            <div className="flex items-center gap-3 text-sm text-gray-400 mt-2">
                                                <span>Owner: <span className="text-white">{decision.owner}</span></span>
                                                <span>‚Ä¢</span>
                                                <span>{decision.meeting}</span>
                                                <span>‚Ä¢</span>
                                                <span>{decision.daysAgo} days ago</span>
                                            </div>
                                        </div>
                                        <div className="flex flex-col items-end gap-2 ml-4">
                                            <span className="confidence-badge rounded-full px-2 py-0.5 text-xs">
                                                {decision.confidence}% confidence
                                            </span>
                                            <button onClick={(e) => { e.stopPropagation(); setCurrentPage('decisions'); }} className="text-xs text-accent-500 hover:text-accent-300 font-medium">
                                                Review ‚Üí
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Team Overview */}
                    <div>
                        <div className="flex items-center justify-between mb-4">
                            <h2 className="text-xl font-semibold text-white">Team Overview</h2>
                            <button onClick={() => setCurrentPage('settings')} className="text-accent-500 hover:text-accent-300 text-sm font-medium">
                                View all ‚Üí
                            </button>
                        </div>

                        <div className="grid grid-cols-2 gap-4">
                            {[
                                {
                                    name: 'Sarah Chen',
                                    role: 'Senior Architect',
                                    meetings: 12,
                                    contributions: 34,
                                    trend: 'up'
                                },
                                {
                                    name: 'Marcus Johnson',
                                    role: 'Engineering Manager',
                                    meetings: 10,
                                    contributions: 28,
                                    trend: 'up'
                                },
                                {
                                    name: 'ARQEYE',
                                    role: 'AI Architecture Assistant',
                                    meetings: 8,
                                    contributions: 21,
                                    trend: 'up',
                                    isBot: true
                                },
                                {
                                    name: 'David Lee',
                                    role: 'Lead Developer',
                                    meetings: 8,
                                    contributions: 19,
                                    trend: 'stable'
                                },
                                {
                                    name: 'Jennifer Williams',
                                    role: 'Infrastructure Lead',
                                    meetings: 7,
                                    contributions: 16,
                                    trend: 'up'
                                },
                                {
                                    name: 'Alex Kumar',
                                    role: 'Security Architect',
                                    meetings: 5,
                                    contributions: 11,
                                    trend: 'down'
                                }
                            ].map((member, idx) => (
                                <div key={idx} className="rounded-lg bg-gray-800 border border-gray-700 p-4 hover:border-gray-600 transition-colors">
                                    <div className="flex items-center gap-3">
                                        <div className={`h-12 w-12 rounded-full flex items-center justify-center text-lg font-semibold ${
                                            member.isBot 
                                                ? 'bg-accent-500 text-gray-900' 
                                                : 'bg-primary-500 text-white'
                                        }`}>
                                            {member.isBot ? 'ü§ñ' : member.name.split(' ').map(n => n[0]).join('')}
                                        </div>
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2">
                                                <h4 className="text-sm font-semibold text-white">{member.name}</h4>
                                                {member.isBot && (
                                                    <span className="inline-flex items-center rounded-full bg-accent-500/20 border border-accent-500/40 px-1.5 py-0.5 text-xs font-semibold text-accent-400">
                                                        AI
                                                    </span>
                                                )}
                                            </div>
                                            <p className="text-xs text-gray-400">{member.role}</p>
                                        </div>
                                        <div className={`text-lg ${
                                            member.trend === 'up' 
                                                ? 'text-green-400' 
                                                : member.trend === 'down' 
                                                    ? 'text-red-400' 
                                                    : 'text-gray-400'
                                        }`}>
                                            {member.trend === 'up' ? '‚Üë' : member.trend === 'down' ? '‚Üì' : '‚Üí'}
                                        </div>
                                    </div>
                                    <div className="grid grid-cols-2 gap-2 mt-3 pt-3 border-t border-gray-700">
                                        <div>
                                            <div className="text-xs text-gray-500">Meetings</div>
                                            <div className="text-lg font-bold text-white">{member.meetings}</div>
                                        </div>
                                        <div>
                                            <div className="text-xs text-gray-500">Contributions</div>
                                            <div className="text-lg font-bold text-accent-500">{member.contributions}</div>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // Join Meeting Page
        function JoinMeeting() {
            const [meetingUrl, setMeetingUrl] = useState('');
            const [botStatus, setBotStatus] = useState(null); // null, 'loading', 'success', 'error'
            const [statusMessage, setStatusMessage] = useState('');

            function generateUUID() {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {
                    const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
            }

            async function createArqEyeBot() {
                if (!meetingUrl) {
                    setBotStatus('error');
                    setStatusMessage('Please enter a meeting URL');
                    return;
                }

                // Basic URL validation
                if (!meetingUrl.includes('teams.microsoft.com') && !meetingUrl.includes('teams.live.com')) {
                    setBotStatus('error');
                    setStatusMessage('Please enter a valid Microsoft Teams meeting URL');
                    return;
                }

                setBotStatus('loading');
                setStatusMessage('ArqEye joining meeting...');

                const payload = {
                    tenant_id: generateUUID(),
                    meeting_id: generateUUID(),
                    meeting_url: meetingUrl,
                    bot_name: 'ArqEye'
                };

                console.log('ArqEye: Sending request to meeting service...', payload);

                try {
                    const response = await fetch('https://meeting-service-yjbboyubnq-uc.a.run.app/bots/create', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const responseText = await response.text();
                    console.log('ArqEye: Response status:', response.status, 'Body:', responseText);

                    if (response.ok) {
                        setBotStatus('success');
                        setStatusMessage('ArqEye joined! Check your Teams meeting for the ArqEye Bot participant.');
                        setMeetingUrl('');
                    } else {
                        setBotStatus('error');
                        setStatusMessage(`Failed (HTTP ${response.status}): ${responseText || 'Unknown error. Check browser console.'}`);
                    }
                } catch (error) {
                    console.error('ArqEye: Request failed:', error);
                    if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {
                        setStatusMessage('Network error ‚Äî the meeting service may be down or blocking requests from this domain (CORS). Check browser console for details.');
                    } else {
                        setStatusMessage('Error: ' + error.message);
                    }
                    setBotStatus('error');
                }
            }

            return (
                <div className="space-y-6">
                    <div>
                        <h1 className="text-3xl font-bold text-white">Join Meeting</h1>
                        <p className="mt-1 text-gray-400">Add ArqEye to a Microsoft Teams meeting for real-time architecture intelligence</p>
                    </div>

                    <div className="max-w-2xl">
                        <div className="rounded-xl bg-gray-800 border border-gray-700 p-8">
                            <div className="flex items-center gap-3 mb-6">
                                <div className="h-12 w-12 rounded-lg bg-primary-500/20 flex items-center justify-center">
                                    <Icons.Video />
                                </div>
                                <div>
                                    <h2 className="text-xl font-bold text-white">Add ArqEye to Meeting</h2>
                                    <p className="text-sm text-gray-400">Paste your Teams meeting URL to get started</p>
                                </div>
                            </div>

                            <div className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-300 mb-2">Teams Meeting URL</label>
                                    <input
                                        type="text"
                                        value={meetingUrl}
                                        onChange={(e) => setMeetingUrl(e.target.value)}
                                        placeholder="https://teams.microsoft.com/l/meetup-join/..."
                                        className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-3 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none focus:ring-1 focus:ring-accent-500 text-base"
                                        onKeyDown={(e) => e.key === 'Enter' && createArqEyeBot()}
                                    />
                                </div>

                                <button
                                    onClick={createArqEyeBot}
                                    disabled={botStatus === 'loading'}
                                    className="w-full rounded-lg bg-accent-500 px-6 py-3 text-base font-semibold text-gray-900 hover:bg-accent-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                                >
                                    {botStatus === 'loading' ? (
                                        <>
                                            <svg className="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                                <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                                                <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                            </svg>
                                            Joining...
                                        </>
                                    ) : (
                                        <>
                                            <Icons.Video />
                                            Add ArqEye to Meeting
                                        </>
                                    )}
                                </button>

                                {botStatus && (
                                    <div className={`rounded-lg p-4 flex items-center gap-3 ${
                                        botStatus === 'success' ? 'bg-green-500/10 border border-green-500/30 text-green-400' :
                                        botStatus === 'error' ? 'bg-red-500/10 border border-red-500/30 text-red-400' :
                                        'bg-yellow-500/10 border border-yellow-500/30 text-yellow-400'
                                    }`}>
                                        <span className="text-lg">
                                            {botStatus === 'success' ? '‚úÖ' : botStatus === 'error' ? '‚ùå' : '‚è≥'}
                                        </span>
                                        <span className="text-sm font-medium">{statusMessage}</span>
                                    </div>
                                )}
                            </div>
                        </div>

                        {/* Instructions */}
                        <div className="mt-6 rounded-xl bg-gray-800/50 border border-gray-700/50 p-6">
                            <h3 className="text-lg font-semibold text-white mb-4">How it works</h3>
                            <div className="space-y-4">
                                <div className="flex items-start gap-3">
                                    <span className="flex-shrink-0 h-7 w-7 rounded-full bg-primary-500/20 text-primary-300 flex items-center justify-center text-sm font-bold">1</span>
                                    <div>
                                        <p className="text-sm font-medium text-white">Copy your Teams meeting URL</p>
                                        <p className="text-xs text-gray-400 mt-0.5">Open Teams ‚Üí Go to the meeting ‚Üí Copy the join link</p>
                                    </div>
                                </div>
                                <div className="flex items-start gap-3">
                                    <span className="flex-shrink-0 h-7 w-7 rounded-full bg-primary-500/20 text-primary-300 flex items-center justify-center text-sm font-bold">2</span>
                                    <div>
                                        <p className="text-sm font-medium text-white">Paste the URL and click "Add ArqEye to Meeting"</p>
                                        <p className="text-xs text-gray-400 mt-0.5">ArqEye Bot will join as a participant in your meeting</p>
                                    </div>
                                </div>
                                <div className="flex items-start gap-3">
                                    <span className="flex-shrink-0 h-7 w-7 rounded-full bg-primary-500/20 text-primary-300 flex items-center justify-center text-sm font-bold">3</span>
                                    <div>
                                        <p className="text-sm font-medium text-white">ArqEye listens and provides real-time guidance</p>
                                        <p className="text-xs text-gray-400 mt-0.5">Architecture decisions are captured automatically with full context</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Meetings Page
        function Meetings({ setCurrentPage, setSelectedMeeting }) {
            const [statusFilter, setStatusFilter] = useState('all');
            const [dateRangeFilter, setDateRangeFilter] = useState('30');
            const [sortBy, setSortBy] = useState('recent');
            const [filterPanelOpen, setFilterPanelOpen] = useState(false);
            
            // All meetings data with various dates and statuses
            const allMeetings = [
                {
                    id: 1,
                    title: 'Technical Design Authority - Jan 2026',
                    date: '2026-01-15',
                    dateDisplay: 'Jan 15, 2026',
                    time: '2:00 PM',
                    duration: '1h 23m',
                    participants: 8,
                    transcriptLines: 142,
                    arqeyeResponses: 3,
                    status: 'completed',
                    summary: 'ArqEye identified enterprise standard conflict. Team approved Azure AKS adoption with 94% confidence.'
                },
                {
                    id: 2,
                    title: 'SAP Migration Strategy Review',
                    date: '2026-01-10',
                    dateDisplay: 'Jan 10, 2026',
                    time: '10:30 AM',
                    duration: '2h 15m',
                    participants: 12,
                    transcriptLines: 287,
                    arqeyeResponses: 7,
                    status: 'completed',
                    summary: 'Discussed ECC to S/4HANA migration. ArqEye recommended Q2 2026 timeline based on resource constraints.'
                },
                {
                    id: 3,
                    title: 'Cloud Platform Selection - Azure vs AWS',
                    date: '2026-01-12',
                    dateDisplay: 'Jan 12, 2026',
                    time: '3:00 PM',
                    duration: '45m',
                    participants: 5,
                    transcriptLines: 89,
                    arqeyeResponses: 2,
                    status: 'completed',
                    summary: 'ArqEye stayed silent during AWS discussion - insufficient evidence to override existing Azure standard.'
                },
                {
                    id: 4,
                    title: 'API Gateway Discussion',
                    date: '2026-01-18',
                    dateDisplay: 'Jan 18, 2026',
                    time: '11:00 AM',
                    duration: '1h 45m',
                    participants: 10,
                    transcriptLines: 234,
                    arqeyeResponses: 5,
                    status: 'completed',
                    summary: 'Deep dive into Kong vs Apigee. ArqEye provided context-aware recommendation based on existing stack.'
                },
                {
                    id: 5,
                    title: 'Security Architecture Review',
                    date: '2026-01-08',
                    dateDisplay: 'Jan 8, 2026',
                    time: '9:00 AM',
                    duration: '1h 30m',
                    participants: 6,
                    transcriptLines: 156,
                    arqeyeResponses: 4,
                    status: 'completed',
                    summary: 'ArqEye flagged OAuth 1.0 as technical debt. Team created action item for upgrade to OAuth 2.0.'
                },
                {
                    id: 6,
                    title: 'Data Governance Framework',
                    date: '2026-01-20',
                    dateDisplay: 'Jan 20, 2026',
                    time: '2:30 PM',
                    duration: '2h 00m',
                    participants: 15,
                    transcriptLines: 312,
                    arqeyeResponses: 6,
                    status: 'completed',
                    summary: 'Comprehensive data governance policies discussed. ArqEye contributed GDPR compliance insights.'
                },
                {
                    id: 7,
                    title: 'Weekly Architecture Sync',
                    date: '2026-01-29',
                    dateDisplay: 'Jan 29, 2026',
                    time: '10:00 AM',
                    duration: '30m',
                    participants: 4,
                    transcriptLines: 45,
                    arqeyeResponses: 0,
                    status: 'completed',
                    summary: 'Status updates only. ArqEye detected no architectural decisions - stayed silent.'
                },
                {
                    id: 8,
                    title: 'Q1 Planning - Infrastructure',
                    date: '2026-01-05',
                    dateDisplay: 'Jan 5, 2026',
                    time: '1:00 PM',
                    duration: '3h 00m',
                    participants: 20,
                    transcriptLines: 428,
                    arqeyeResponses: 8,
                    status: 'completed',
                    summary: 'Major quarterly planning session. ArqEye contributed to cloud capacity and security roadmap decisions.'
                },
                {
                    id: 9,
                    title: 'Database Migration Review',
                    date: '2025-12-18',
                    dateDisplay: 'Dec 18, 2025',
                    time: '11:30 AM',
                    duration: '1h 15m',
                    participants: 7,
                    transcriptLines: 178,
                    arqeyeResponses: 3,
                    status: 'completed',
                    summary: 'PostgreSQL vs MySQL evaluation. ArqEye recommended PostgreSQL based on team expertise.'
                },
                {
                    id: 10,
                    title: 'Microservices Architecture Workshop',
                    date: '2025-12-10',
                    dateDisplay: 'Dec 10, 2025',
                    time: '9:00 AM',
                    duration: '4h 00m',
                    participants: 18,
                    transcriptLines: 567,
                    arqeyeResponses: 12,
                    status: 'completed',
                    summary: 'Full-day workshop on service boundaries. ArqEye provided 12 contextual interventions on service design.'
                },
                {
                    id: 11,
                    title: 'Upcoming: Quarterly Architecture Review',
                    date: '2026-02-05',
                    dateDisplay: 'Feb 5, 2026',
                    time: '2:00 PM',
                    duration: 'TBD',
                    participants: 0,
                    transcriptLines: 0,
                    arqeyeResponses: 0,
                    status: 'scheduled',
                    summary: 'Q1 2026 architecture review - reviewing decisions made in January.'
                },
                {
                    id: 12,
                    title: 'Live Now: Emergency Security Discussion',
                    date: '2026-01-30',
                    dateDisplay: 'Jan 30, 2026',
                    time: '3:45 PM',
                    duration: 'In Progress',
                    participants: 6,
                    transcriptLines: 23,
                    arqeyeResponses: 1,
                    status: 'in-progress',
                    summary: 'ArqEye is currently listening and processing this meeting...'
                }
            ];
            
            // Filter by status
            const statusFiltered = statusFilter === 'all' 
                ? allMeetings 
                : allMeetings.filter(m => m.status === statusFilter);
            
            // Filter by date range
            const today = new Date('2026-01-30');
            const dateFiltered = statusFiltered.filter(meeting => {
                const meetingDate = new Date(meeting.date);
                const daysDiff = (today - meetingDate) / (1000 * 60 * 60 * 24);
                
                if (dateRangeFilter === '7') return daysDiff <= 7 && daysDiff >= 0;
                if (dateRangeFilter === '30') return daysDiff <= 30 && daysDiff >= 0;
                if (dateRangeFilter === '90') return daysDiff <= 90 && daysDiff >= 0;
                return true; // all time
            });
            
            // Sort
            const sortedMeetings = [...dateFiltered].sort((a, b) => {
                if (sortBy === 'recent') {
                    return new Date(b.date) - new Date(a.date);
                } else if (sortBy === 'oldest') {
                    return new Date(a.date) - new Date(b.date);
                } else if (sortBy === 'participants') {
                    return b.participants - a.participants;
                } else if (sortBy === 'duration') {
                    // Extract duration in minutes for comparison
                    const getDuration = (dur) => {
                        if (dur === 'In Progress' || dur === 'TBD') return 0;
                        const match = dur.match(/(\d+)h\s*(\d+)m/);
                        if (match) return parseInt(match[1]) * 60 + parseInt(match[2]);
                        return 0;
                    };
                    return getDuration(b.duration) - getDuration(a.duration);
                }
                return 0;
            });

            return (
                <div className="space-y-6">
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="text-3xl font-bold text-white">Meetings</h1>
                            <p className="mt-1 text-gray-400">All Teams meetings attended by ArqEye</p>
                        </div>
                        <div className="flex items-center gap-3">
                            <button 
                                onClick={() => setFilterPanelOpen(!filterPanelOpen)}
                                className={`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium border transition ${
                                    filterPanelOpen 
                                        ? 'bg-accent-500 text-gray-900 border-accent-500' 
                                        : 'bg-gray-800 text-white hover:bg-gray-700 border-gray-600'
                                }`}
                            >
                                <Icons.Filter />
                                {filterPanelOpen ? 'Hide Filters' : 'Show Filters'}
                            </button>
                            <button className="flex items-center gap-2 rounded-lg bg-gray-800 px-4 py-2 text-sm font-medium text-white hover:bg-gray-700 border border-gray-600">
                                <Icons.Download />
                                Export
                            </button>
                        </div>
                    </div>

                    {/* Filters - Now functional */}
                    {filterPanelOpen && (
                        <div className="flex items-center gap-4 bg-gray-800 rounded-lg p-4 border border-gray-700">
                            <div className="flex-1">
                                <label className="block text-xs text-gray-400 mb-1">Status</label>
                                <select 
                                    value={statusFilter}
                                    onChange={(e) => setStatusFilter(e.target.value)}
                                    className="w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                >
                                    <option value="all">All Status</option>
                                    <option value="completed">Completed</option>
                                    <option value="in-progress">In Progress</option>
                                    <option value="scheduled">Scheduled</option>
                                </select>
                            </div>
                            
                            <div className="flex-1">
                                <label className="block text-xs text-gray-400 mb-1">Time Range</label>
                                <select 
                                    value={dateRangeFilter}
                                    onChange={(e) => setDateRangeFilter(e.target.value)}
                                    className="w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                >
                                    <option value="7">Last 7 Days</option>
                                    <option value="30">Last 30 Days</option>
                                    <option value="90">Last 90 Days</option>
                                    <option value="all">All Time</option>
                                </select>
                            </div>
                            
                            <div className="flex-1">
                                <label className="block text-xs text-gray-400 mb-1">Sort By</label>
                                <select 
                                    value={sortBy}
                                    onChange={(e) => setSortBy(e.target.value)}
                                    className="w-full rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                >
                                    <option value="recent">Most Recent</option>
                                    <option value="oldest">Oldest First</option>
                                    <option value="participants">Most Participants</option>
                                    <option value="duration">Longest Duration</option>
                                </select>
                            </div>
                        </div>
                    )}
                    
                    {/* Results count */}
                    <div className="flex items-center justify-between text-sm text-gray-400">
                        <span>Showing {sortedMeetings.length} of {allMeetings.length} meetings</span>
                        {(statusFilter !== 'all' || dateRangeFilter !== '30') && (
                            <button 
                                onClick={() => {
                                    setStatusFilter('all');
                                    setDateRangeFilter('30');
                                    setSortBy('recent');
                                }}
                                className="text-accent-500 hover:text-accent-400 font-medium"
                            >
                                Clear Filters
                            </button>
                        )}
                    </div>

                    {/* Meeting Cards */}
                    <div className="grid gap-4">
                        {sortedMeetings.length === 0 ? (
                            <div className="text-center py-12 bg-gray-800 rounded-lg border border-gray-700">
                                <p className="text-gray-400">No meetings found with the selected filters.</p>
                                <button 
                                    onClick={() => {
                                        setStatusFilter('all');
                                        setDateRangeFilter('30');
                                    }}
                                    className="mt-4 text-accent-500 hover:text-accent-400 font-medium"
                                >
                                    Clear Filters
                                </button>
                            </div>
                        ) : (
                            sortedMeetings.map((meeting) => (
                                <div
                                    key={meeting.id}
                                    onClick={() => {
                                        if (meeting.status === 'completed') {
                                            setSelectedMeeting(meeting);
                                            setCurrentPage('meeting-detail');
                                        }
                                    }}
                                    className={`meeting-card rounded-lg bg-gray-800 p-6 ${meeting.status === 'completed' ? 'cursor-pointer' : 'opacity-75'}`}
                                >
                                    <div className="flex items-start justify-between">
                                        <div className="flex-1">
                                            <h3 className="text-lg font-semibold text-white">{meeting.title}</h3>
                                            <p className="mt-1 text-sm text-gray-400">
                                                {meeting.dateDisplay} ‚Ä¢ {meeting.time} ‚Ä¢ {meeting.duration}
                                            </p>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            {meeting.status === 'completed' && (
                                                <span className="inline-flex items-center rounded-full bg-green-500/10 border border-green-500/20 px-3 py-1 text-xs font-medium text-green-400">
                                                    Completed
                                                </span>
                                            )}
                                            {meeting.status === 'in-progress' && (
                                                <span className="inline-flex items-center gap-1.5 rounded-full bg-red-500/15 border border-red-500/30 px-3 py-1 text-xs font-semibold text-red-400">
                                                    <span className="relative flex h-2.5 w-2.5">
                                                        <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                                                        <span className="relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"></span>
                                                    </span>
                                                    LIVE
                                                </span>
                                            )}
                                            {meeting.status === 'scheduled' && (
                                                <span className="inline-flex items-center rounded-full bg-yellow-500/10 border border-yellow-500/20 px-3 py-1 text-xs font-medium text-yellow-400">
                                                    Scheduled
                                                </span>
                                            )}
                                        </div>
                                    </div>
                                    
                                    {meeting.status === 'completed' && (
                                        <>
                                            <div className="mt-4 grid grid-cols-3 gap-4 text-sm">
                                                <div>
                                                    <span className="text-gray-500">Participants</span>
                                                    <p className="mt-1 font-semibold text-white">{meeting.participants}</p>
                                                </div>
                                                <div>
                                                    <span className="text-gray-500">Transcript Lines</span>
                                                    <p className="mt-1 font-semibold text-white">{meeting.transcriptLines}</p>
                                                </div>
                                                <div>
                                                    <span className="text-gray-500">ArqEye Responses</span>
                                                    <p className="mt-1 font-semibold text-accent-500">{meeting.arqeyeResponses}</p>
                                                </div>
                                            </div>

                                            <div className="mt-4 pt-4 border-t border-gray-700">
                                                <p className="text-sm text-gray-300">{meeting.summary}</p>
                                            </div>
                                        </>
                                    )}
                                    
                                    {meeting.status === 'in-progress' && (
                                        <div className="mt-4 pt-4 border-t border-gray-700">
                                            <div className="flex items-center gap-3">
                                                <div className="flex items-center gap-2 bg-red-500/10 border border-red-500/20 rounded-lg px-3 py-2">
                                                    <span className="relative flex h-2.5 w-2.5">
                                                        <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                                                        <span className="relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"></span>
                                                    </span>
                                                    <span className="text-xs font-semibold text-red-400">LIVE</span>
                                                </div>
                                                <p className="text-sm text-gray-300">{meeting.summary}</p>
                                            </div>
                                            <div className="mt-3 flex items-center gap-2">
                                                <div className="flex-1 h-1 bg-gray-700 rounded-full overflow-hidden">
                                                    <div className="h-full bg-red-500 rounded-full animate-pulse" style={{width: '60%'}}></div>
                                                </div>
                                                <span className="text-xs text-gray-500">In progress</span>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {meeting.status === 'scheduled' && (
                                        <div className="mt-4 pt-4 border-t border-gray-700">
                                            <p className="text-sm text-gray-400">{meeting.summary}</p>
                                        </div>
                                    )}
                                </div>
                            ))
                        )}
                    </div>
                </div>
            );
        }

        // Meeting Detail Page
        function MeetingDetail({ meeting, setCurrentPage }) {
            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div>
                        <button
                            onClick={() => setCurrentPage('meetings')}
                            className="flex items-center gap-2 text-accent-500 hover:text-accent-300 mb-4"
                        >
                            <Icons.ChevronLeft />
                            Back to Meetings
                        </button>
                        <div className="flex items-start justify-between">
                            <div>
                                <h1 className="text-3xl font-bold text-white">{meeting.title}</h1>
                                <p className="mt-1 text-gray-400">{meeting.dateDisplay} ‚Ä¢ {meeting.time} ‚Ä¢ {meeting.duration}</p>
                            </div>
                            <div className="flex items-center gap-3">
                                <span className="inline-flex items-center rounded-full bg-green-500/10 border border-green-500/20 px-3 py-1 text-sm font-medium text-green-400">
                                    Completed
                                </span>
                                <button className="flex items-center gap-2 rounded-lg bg-accent-500 px-4 py-2 text-sm font-semibold text-gray-900 hover:bg-accent-300">
                                    <Icons.Download />
                                    Export
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Quick Stats */}
                    <div className="grid grid-cols-4 gap-4">
                        <div className="rounded-lg bg-gray-800 border border-gray-700 p-4">
                            <div className="text-sm text-gray-400">Participants</div>
                            <div className="mt-1 text-2xl font-bold text-white">{meeting.participants}</div>
                        </div>
                        <div className="rounded-lg bg-gray-800 border border-gray-700 p-4">
                            <div className="text-sm text-gray-400">Duration</div>
                            <div className="mt-1 text-2xl font-bold text-white">{meeting.duration}</div>
                        </div>
                        <div className="rounded-lg bg-gray-800 border border-gray-700 p-4">
                            <div className="text-sm text-gray-400">Transcript Lines</div>
                            <div className="mt-1 text-2xl font-bold text-white">{meeting.transcriptLines}</div>
                        </div>
                        <div className="rounded-lg bg-gray-800 border border-gray-700 p-4">
                            <div className="text-sm text-gray-400">ArqEye Responses</div>
                            <div className="mt-1 text-2xl font-bold text-accent-500">{meeting.arqeyeResponses}</div>
                        </div>
                    </div>

                    {/* Main Content - All in one view */}
                    <div className="grid grid-cols-3 gap-6">
                        {/* Left Column - Summary & Decisions */}
                        <div className="col-span-2 space-y-6">
                            {/* Meeting Summary */}
                            <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                                <div className="flex items-center gap-2 mb-4">
                                    <span className="text-2xl">üìù</span>
                                    <h3 className="text-lg font-semibold text-white">Meeting Summary</h3>
                                </div>
                                <p className="text-gray-300 leading-relaxed">
                                    {meeting.summary}
                                </p>
                            </div>

                            {/* Transcript Window with Evidence */}
                            <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                                <div className="mb-4 flex items-start justify-between">
                                    <div>
                                        <h3 className="text-lg font-semibold text-white mb-2">Evidence</h3>
                                        <p className="text-sm text-gray-400">Meeting: {meeting.title} | {meeting.dateDisplay} {meeting.time}</p>
                                    </div>
                                    <span className="rounded-full bg-blue-500/20 border border-blue-500/40 px-3 py-1 text-xs font-semibold text-blue-400">
                                        PATENT-PENDING GATING
                                    </span>
                                </div>
                                
                                <div className="rounded-lg bg-gray-900 border border-gray-700 p-4 max-h-[700px] overflow-y-auto scrollbar-thin font-mono text-sm">
                                    <div className="space-y-3">
                                        {/* Silence Event 1 - INLINE */}
                                        <div className="bg-gray-800/50 border-l-4 border-gray-600 pl-4 py-2 text-gray-300">
                                            <span className="text-gray-500">[00:11:15]</span> <span className="text-gray-400 font-semibold">Topic: Budget allocation discussion</span>
                                            <div className="mt-1 text-xs text-gray-500 italic">
                                                ArqEye stayed silent: Operational/financial discussion outside architectural scope
                                            </div>
                                        </div>
                                        
                                        {/* Regular conversation */}
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:12:34]</span> <span className="text-blue-400 font-semibold">Sarah Chen (CFO)</span>: We need to discuss the S/4HANA go-live date. From Finance's perspective, we have a hard deadline.
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:12:41]</span> <span className="text-blue-400 font-semibold">Sarah Chen</span>: IFRS 17 goes into effect January 1st, 2027. We need the new system operational in Q3 2026 to allow time for year-end close testing and auditor sign-off.
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:12:58]</span> <span className="text-blue-400 font-semibold">Sarah Chen</span>: This isn't negotiable - if we miss this, we face regulatory penalties and potentially audit qualifications.
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:13:15]</span> <span className="text-purple-400 font-semibold">James Rodriguez (CIO)</span>: I understand the regulatory pressure, but we need to be realistic about what's achievable.
                                        </div>
                                        
                                        {/* ArqEye Intervention - HIGHLIGHTED */}
                                        <div className="bg-accent-500/10 border-l-4 border-accent-500 pl-4 py-2 text-gray-200">
                                            <span className="text-gray-500">[00:13:22]</span> <span className="text-accent-400 font-bold">ArqEye</span>: Based on our current resource plan and the testing requirements we discussed last month, IT is estimating Q4 2026 for production go-live.
                                            <div className="mt-2 text-xs text-accent-300 italic">
                                                ‚Üí ArqEye Intervention: Referenced "2026 Resource Planning Session" (Nov 2025)
                                            </div>
                                            <details className="mt-2">
                                                <summary className="text-xs text-accent-400 cursor-pointer hover:text-accent-300">üîó View related context</summary>
                                                <div className="mt-2 pl-3 border-l-2 border-accent-500/30 text-xs text-gray-400 space-y-1">
                                                    <div>üìÖ Meeting: "2026 Resource Planning Session" (Nov 2025)</div>
                                                    <div>‚úÖ Decision #312: SAP Basis training requirements</div>
                                                    <div>üë• Team: SAP Basis (3 engineers with S/4HANA cert)</div>
                                                </div>
                                            </details>
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:13:35]</span> <span className="text-purple-400 font-semibold">James Rodriguez</span>: We're already operating with constrained resources. The Q3 target would require accelerating several workstreams simultaneously.
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:13:52]</span> <span className="text-blue-400 font-semibold">Sarah Chen</span>: What specific constraints are we facing? Can we bring in additional contractors?
                                        </div>
                                        
                                        {/* ArqEye Intervention - HIGHLIGHTED */}
                                        <div className="bg-accent-500/10 border-l-4 border-accent-500 pl-4 py-2 text-gray-200">
                                            <span className="text-gray-500">[00:14:08]</span> <span className="text-accent-400 font-bold">ArqEye</span>: The primary constraints are: (1) SAP Basis team only has 3 qualified engineers for S/4HANA, (2) Finance super-users still completing training - 40% completion as of last week, (3) Data migration complexity from ECC 6.0 requires 8-12 week validation cycle.
                                            <div className="mt-2 text-xs text-accent-300 italic">
                                                ‚Üí ArqEye Intervention: Provided data-driven resource analysis with specific metrics
                                            </div>
                                            <details className="mt-2">
                                                <summary className="text-xs text-accent-400 cursor-pointer hover:text-accent-300">üîó View related context</summary>
                                                <div className="mt-2 pl-3 border-l-2 border-accent-500/30 text-xs text-gray-400 space-y-1">
                                                    <div>üë• Team: SAP Basis Team (3 engineers)</div>
                                                    <div>üë• Team: Finance Super-Users (40% training complete)</div>
                                                    <div>üè¢ System: SAP ECC 6.0 (Phase Out: Q4 2026)</div>
                                                    <div>üè¢ System: SAP S/4HANA (Phase In: Q3-Q4 2026)</div>
                                                </div>
                                            </details>
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:14:35]</span> <span className="text-purple-400 font-semibold">James Rodriguez</span>: Exactly. ArqEye just outlined the three major bottlenecks. We can hire contractors for development work, but the Basis team capacity and user training are harder to accelerate.
                                        </div>
                                        
                                        {/* Silence Event 2 - INLINE */}
                                        <div className="bg-yellow-900/20 border-l-4 border-yellow-600 pl-4 py-2 text-gray-300">
                                            <span className="text-gray-500">[00:14:45]</span> <span className="text-gray-400 font-semibold">Topic: "Should we use React for the portal?"</span>
                                            <div className="mt-1 text-xs text-yellow-500 italic">
                                                ArqEye stayed silent: Team has React expertise, no conflicts (Confidence: 42% - below threshold)
                                            </div>
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:14:52]</span> <span className="text-blue-400 font-semibold">Sarah Chen</span>: What if we brought in SAP consultants specifically for Basis support? That would free up our internal team for critical path items.
                                        </div>
                                        
                                        {/* ArqEye Intervention - HIGHLIGHTED */}
                                        <div className="bg-accent-500/10 border-l-4 border-accent-500 pl-4 py-2 text-gray-200">
                                            <span className="text-gray-500">[00:15:10]</span> <span className="text-accent-400 font-bold">ArqEye</span>: Based on your 2023 ECC upgrade, external consultants required 6-8 weeks knowledge transfer before becoming productive. Q3 go-live is 28 weeks away. Recommendation: Target Q3 for UAT completion, Q4 for production go-live with 4-week buffer for regulatory validation.
                                            <div className="mt-2 text-xs text-accent-300 italic">
                                                ‚Üí ArqEye Intervention: Referenced historical data from 2023 upgrade experience
                                            </div>
                                            <details className="mt-2">
                                                <summary className="text-xs text-accent-400 cursor-pointer hover:text-accent-300">üîó View related context</summary>
                                                <div className="mt-2 pl-3 border-l-2 border-accent-500/30 text-xs text-gray-400 space-y-1">
                                                    <div>üìÖ Meeting: "SAP ECC 6.0 Upgrade Post-Mortem" (Dec 2023)</div>
                                                    <div>   ‚Üí Lesson: External consultants need 6-8 weeks knowledge transfer</div>
                                                    <div>‚úÖ Decision #247: Minimum external consultant engagement: 6 weeks</div>
                                                    <div>‚úÖ Decision #438: Phased migration approach approved</div>
                                                </div>
                                            </details>
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:15:45]</span> <span className="text-blue-400 font-semibold">Sarah Chen</span>: That timeline still puts us at risk for IFRS 17 compliance. We'd only have Q4 2026 for parallel runs and auditor validation.
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:16:02]</span> <span className="text-purple-400 font-semibold">James Rodriguez</span>: What if we prioritize the Finance modules for Q3 and defer the supply chain modules to Q1 2027? That addresses your regulatory deadline while reducing scope pressure.
                                        </div>
                                        
                                        {/* Silence Event 3 - INLINE */}
                                        <div className="bg-green-900/20 border-l-4 border-green-600 pl-4 py-2 text-gray-300">
                                            <span className="text-gray-500">[00:17:20]</span> <span className="text-gray-400 font-semibold">Topic: API versioning strategy</span>
                                            <div className="mt-1 text-xs text-green-500 italic">
                                                ArqEye stayed silent: Team reached consensus independently (Confidence: 88% - ready if needed)
                                            </div>
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:16:28]</span> <span className="text-blue-400 font-semibold">Sarah Chen</span>: Phased approach could work. Finance, controlling, and consolidation modules are what IFRS 17 impacts. Let me validate with the auditors that a phased go-live is acceptable from a compliance perspective.
                                        </div>
                                        
                                        <div className="text-gray-300">
                                            <span className="text-gray-500">[00:16:45]</span> <span className="text-purple-400 font-semibold">James Rodriguez</span>: Agreed. I'll have the PMO create a revised phased timeline with Finance modules prioritized for Q3 2026 production deployment.
                                        </div>
                                        
                                        <div className="text-gray-300 italic border-t border-gray-700 pt-3 mt-3">
                                            <span className="text-gray-500">End of transcript excerpt</span>
                                        </div>
                                    </div>
                                </div>
                                
                                {/* Full Context Panel - Expandable */}
                                <details className="mt-4" open>
                                    <summary className="cursor-pointer p-4 bg-gray-900/50 rounded-lg border border-gray-700 hover:bg-gray-900/70 transition">
                                        <div className="flex items-center justify-between">
                                            <div className="flex items-center gap-2">
                                                <span className="text-lg">üîó</span>
                                                <span className="font-semibold text-white">Full Context & Cross-References</span>
                                            </div>
                                            <span className="text-xs text-gray-400">Click to expand/collapse</span>
                                        </div>
                                    </summary>
                                    
                                    <div className="mt-4 p-4 bg-gray-900/30 rounded-lg border border-gray-700 space-y-4">
                                        {/* Previous Meetings */}
                                        <div>
                                            <div className="flex items-center gap-2 mb-3">
                                                <span className="text-base">üìÖ</span>
                                                <h4 className="text-sm font-semibold text-white">3 Previous Meetings Referenced</h4>
                                            </div>
                                            <div className="space-y-2 ml-6">
                                                <div className="text-xs text-gray-300 p-2 bg-gray-800/50 rounded border-l-2 border-accent-500">
                                                    <div className="font-semibold text-white">"SAP ECC 6.0 Upgrade Post-Mortem" <span className="text-gray-500">(Dec 2023)</span></div>
                                                    <div className="text-gray-400 mt-1">‚Üí Lesson: 6-8 weeks consultant knowledge transfer</div>
                                                </div>
                                                <div className="text-xs text-gray-300 p-2 bg-gray-800/50 rounded border-l-2 border-accent-500">
                                                    <div className="font-semibold text-white">"2026 Resource Planning Session" <span className="text-gray-500">(Nov 2025)</span></div>
                                                    <div className="text-gray-400 mt-1">‚Üí Original Q4 2026 estimate based on resources</div>
                                                </div>
                                                <div className="text-xs text-gray-300 p-2 bg-gray-800/50 rounded border-l-2 border-accent-500">
                                                    <div className="font-semibold text-white">"IFRS 17 Readiness Review" <span className="text-gray-500">(Oct 2025)</span></div>
                                                    <div className="text-gray-400 mt-1">‚Üí Flagged: Jan 1, 2027 compliance deadline</div>
                                                </div>
                                            </div>
                                        </div>

                                        {/* Related Decisions */}
                                        <div>
                                            <div className="flex items-center gap-2 mb-3">
                                                <span className="text-base">‚úÖ</span>
                                                <h4 className="text-sm font-semibold text-white">4 Related Decisions</h4>
                                            </div>
                                            <div className="ml-6 text-xs text-gray-300 space-y-1">
                                                <div>‚Ä¢ <span className="text-white font-medium">Decision #247:</span> Min consultant engagement: 6 weeks</div>
                                                <div>‚Ä¢ <span className="text-white font-medium">Decision #312:</span> SAP Basis training requirements</div>
                                                <div>‚Ä¢ <span className="text-white font-medium">Decision #401:</span> Finance modules first priority</div>
                                                <div>‚Ä¢ <span className="text-white font-medium">Decision #438:</span> Phased migration approved</div>
                                            </div>
                                        </div>

                                        {/* Systems & Teams */}
                                        <div className="grid grid-cols-2 gap-4">
                                            <div>
                                                <div className="flex items-center gap-2 mb-2">
                                                    <span className="text-base">üè¢</span>
                                                    <h4 className="text-sm font-semibold text-white">Systems</h4>
                                                </div>
                                                <div className="ml-6 text-xs space-y-1">
                                                    <div className="flex items-center gap-2">
                                                        <span className="text-gray-300">SAP ECC 6.0</span>
                                                        <span className="text-xs bg-red-500/20 text-red-400 px-1 rounded">Phase Out</span>
                                                    </div>
                                                    <div className="flex items-center gap-2">
                                                        <span className="text-gray-300">SAP S/4HANA</span>
                                                        <span className="text-xs bg-green-500/20 text-green-400 px-1 rounded">Phase In</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <div className="flex items-center gap-2 mb-2">
                                                    <span className="text-base">üë•</span>
                                                    <h4 className="text-sm font-semibold text-white">Teams</h4>
                                                </div>
                                                <div className="ml-6 text-xs text-gray-300 space-y-1">
                                                    <div>‚Ä¢ SAP Basis (3 engineers)</div>
                                                    <div>‚Ä¢ Finance Users (40% trained)</div>
                                                    <div>‚Ä¢ IT PMO (Coordination)</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </details>
                                
                                <div className="mt-4 p-4 bg-accent-500/10 border-l-4 border-accent-500 rounded">
                                    <div className="font-semibold text-accent-500 mb-2">üí° What This Shows</div>
                                    <div className="text-sm text-gray-300 space-y-2">
                                        <div><strong>3 ArqEye Interventions</strong> (highlighted green) - Context-aware guidance with specific metrics and historical references</div>
                                        <div><strong>3 Silence Events</strong> (gray/yellow/green) - Patent-pending participation gating: ArqEye only speaks when needed</div>
                                        <div><strong>10+ Cross-References</strong> (expandable on each intervention) - Institutional memory connecting past meetings, decisions, systems, and teams</div>
                                    </div>
                                </div>
                            </div>

                            {/* Decisions Made */}
                            <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                                <div className="flex items-center gap-2 mb-4">
                                    <span className="text-2xl">‚úÖ</span>
                                    <h3 className="text-lg font-semibold text-white">Decisions Made</h3>
                                    <span className="ml-auto rounded-full bg-accent-500/20 px-3 py-1 text-xs font-semibold text-accent-400">
                                        3 decisions
                                    </span>
                                </div>
                                <div className="space-y-4">
                                    {[
                                        {
                                            decision: 'Adopt Modular Monolith Architecture',
                                            status: 'approved',
                                            confidence: 87,
                                            rationale: 'Team size of 8 engineers insufficient for managing distributed microservices. Current monolith already has modular structure.',
                                            owner: 'Sarah Chen',
                                            timeline: 'Q1 2026',
                                            impact: ['TransactionHub', 'Infrastructure']
                                        },
                                        {
                                            decision: 'Implement Vertical Scaling for Black Friday',
                                            status: 'approved',
                                            confidence: 85,
                                            rationale: 'Traffic analysis shows 10x normal load for 3-hour windows. Current infrastructure supports read scaling effectively.',
                                            owner: 'Marcus Johnson',
                                            timeline: 'Before Nov 2026',
                                            impact: ['Infrastructure', 'Performance']
                                        },
                                        {
                                            decision: 'Maintain Service Boundaries Within Monolith',
                                            status: 'proposed',
                                            confidence: 92,
                                            rationale: 'Provides organizational benefits of microservices while avoiding operational complexity.',
                                            owner: 'Sarah Chen',
                                            timeline: 'Ongoing',
                                            impact: ['Architecture', 'Development']
                                        }
                                    ].map((item, idx) => (
                                        <div key={idx} className="rounded-lg bg-gray-900/50 p-4 border-l-4 border-accent-500">
                                            <div className="flex items-start justify-between mb-3">
                                                <div className="flex-1">
                                                    <h4 className="text-md font-semibold text-white">{item.decision}</h4>
                                                    <div className="flex items-center gap-2 mt-2">
                                                        <span className={`inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium capitalize ${
                                                            item.status === 'approved' 
                                                                ? 'bg-green-500/10 text-green-400 border-green-500/20'
                                                                : 'bg-blue-500/10 text-blue-400 border-blue-500/20'
                                                        }`}>
                                                            {item.status}
                                                        </span>
                                                        <span className="confidence-badge rounded-full px-2 py-0.5 text-xs">
                                                            {item.confidence}% confidence
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <p className="text-sm text-gray-300 mb-3">{item.rationale}</p>
                                            
                                            <div className="grid grid-cols-3 gap-4 text-sm">
                                                <div>
                                                    <span className="text-gray-500">Owner</span>
                                                    <p className="text-white font-medium">{item.owner}</p>
                                                </div>
                                                <div>
                                                    <span className="text-gray-500">Timeline</span>
                                                    <p className="text-white font-medium">{item.timeline}</p>
                                                </div>
                                                <div>
                                                    <span className="text-gray-500">Impact</span>
                                                    <div className="flex gap-1 mt-1 flex-wrap">
                                                        {item.impact.map((area, i) => (
                                                            <span key={i} className="inline-flex items-center rounded bg-gray-700 px-2 py-0.5 text-xs text-gray-300">
                                                                {area}
                                                            </span>
                                                        ))}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* ArqEye Interventions */}
                            <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                                <div className="flex items-center gap-2 mb-4">
                                    <span className="text-2xl">ü§ñ</span>
                                    <h3 className="text-lg font-semibold text-white">ArqEye Interventions</h3>
                                    <span className="ml-auto rounded-full bg-accent-500/20 px-3 py-1 text-xs font-semibold text-accent-400">
                                        {meeting.arqeyeResponses} interventions
                                    </span>
                                </div>
                                <div className="space-y-3">
                                    <div className="rounded-lg bg-accent-500/5 border border-accent-500/20 p-4">
                                        <div className="flex items-center gap-2 mb-2">
                                            <span className="confidence-badge rounded-full px-2 py-0.5 text-xs">87% confidence</span>
                                            <span className="text-sm text-gray-400">Modular Monolith Recommendation</span>
                                        </div>
                                        <p className="text-sm text-gray-300">
                                            Recommended modular monolith based on team size analysis and infrastructure capabilities
                                        </p>
                                    </div>
                                    <div className="rounded-lg bg-accent-500/5 border border-accent-500/20 p-4">
                                        <div className="flex items-center gap-2 mb-2">
                                            <span className="confidence-badge rounded-full px-2 py-0.5 text-xs">92% confidence</span>
                                            <span className="text-sm text-gray-400">Scaling Strategy</span>
                                        </div>
                                        <p className="text-sm text-gray-300">
                                            Provided scaling strategy based on Black Friday traffic patterns from 2024
                                        </p>
                                    </div>
                                    <div className="rounded-lg bg-accent-500/5 border border-accent-500/20 p-4">
                                        <div className="flex items-center gap-2 mb-2">
                                            <span className="confidence-badge rounded-full px-2 py-0.5 text-xs">85% confidence</span>
                                            <span className="text-sm text-gray-400">Infrastructure Analysis</span>
                                        </div>
                                        <p className="text-sm text-gray-300">
                                            Analyzed current infrastructure capacity and recommended read replica strategy
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Right Column - Participants & Context */}
                        <div className="col-span-1 space-y-6">
                            {/* Participants */}
                            <div className="rounded-lg bg-gray-800 border border-gray-700 p-5">
                                <div className="flex items-center gap-2 mb-4">
                                    <span className="text-2xl">üë•</span>
                                    <h3 className="text-lg font-semibold text-white">Participants</h3>
                                </div>
                                <div className="space-y-3">
                                    {[
                                        {
                                            name: 'Sarah Chen',
                                            role: 'Senior Architect',
                                            contributions: 5,
                                            isBot: false
                                        },
                                        {
                                            name: 'Marcus Johnson',
                                            role: 'Engineering Manager',
                                            contributions: 3,
                                            isBot: false
                                        },
                                        {
                                            name: 'ArqEye',
                                            role: 'AI Assistant',
                                            contributions: 3,
                                            isBot: true
                                        },
                                        {
                                            name: 'David Lee',
                                            role: 'Lead Developer',
                                            contributions: 2,
                                            isBot: false
                                        },
                                        {
                                            name: 'Jennifer Williams',
                                            role: 'Infrastructure Lead',
                                            contributions: 4,
                                            isBot: false
                                        }
                                    ].map((participant, idx) => (
                                        <div key={idx} className="flex items-center gap-3 p-3 rounded-lg bg-gray-900/50 hover:bg-gray-900/70 transition-colors">
                                            <div className={`h-10 w-10 rounded-full flex items-center justify-center text-sm font-semibold ${
                                                participant.isBot 
                                                    ? 'bg-accent-500 text-gray-900' 
                                                    : 'bg-primary-500 text-white'
                                            }`}>
                                                {participant.isBot ? 'ü§ñ' : participant.name.split(' ').map(n => n[0]).join('')}
                                            </div>
                                            <div className="flex-1 min-w-0">
                                                <h4 className="text-sm font-semibold text-white truncate">{participant.name}</h4>
                                                <p className="text-xs text-gray-400 truncate">{participant.role}</p>
                                            </div>
                                            <div className="text-right">
                                                <div className="text-lg font-bold text-accent-500">{participant.contributions}</div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Topics Detected */}
                            <div className="rounded-lg bg-gray-800 border border-gray-700 p-5">
                                <div className="flex items-center gap-2 mb-4">
                                    <span className="text-2xl">üìä</span>
                                    <h3 className="text-lg font-semibold text-white">Topics</h3>
                                </div>
                                <div className="space-y-2">
                                    {[
                                        'Microservices Architecture',
                                        'Monolith Modernization',
                                        'Team Capacity Planning',
                                        'Scaling Strategy'
                                    ].map((topic, idx) => (
                                        <div key={idx} className="flex items-center gap-2 text-sm">
                                            <div className="h-1.5 w-1.5 rounded-full bg-accent-500"></div>
                                            <span className="text-gray-300">{topic}</span>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Risks Identified */}
                            <div className="rounded-lg bg-gray-800 border border-gray-700 p-5">
                                <div className="flex items-center gap-2 mb-4">
                                    <span className="text-2xl">‚ö†Ô∏è</span>
                                    <h3 className="text-lg font-semibold text-white">Risks</h3>
                                    <span className="ml-auto rounded-full bg-yellow-500/20 px-2 py-0.5 text-xs font-semibold text-yellow-400">
                                        2 risks
                                    </span>
                                </div>
                                <div className="space-y-3">
                                    {[
                                        { 
                                            risk: 'Team size constraint',
                                            severity: 'medium'
                                        },
                                        { 
                                            risk: 'Operational complexity',
                                            severity: 'high'
                                        }
                                    ].map((item, idx) => (
                                        <div key={idx} className="rounded-lg bg-gray-900/50 p-3 border-l-2 border-yellow-500">
                                            <div className="flex items-center gap-2 mb-1">
                                                <span className={`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${
                                                    item.severity === 'high' 
                                                        ? 'bg-red-500/20 text-red-400' 
                                                        : 'bg-yellow-500/20 text-yellow-400'
                                                }`}>
                                                    {item.severity.toUpperCase()}
                                                </span>
                                            </div>
                                            <div className="text-sm font-medium text-white">{item.risk}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Decisions Page
        function Decisions() {
            const [activeTab, setActiveTab] = useState('all');
            const [statusFilter, setStatusFilter] = useState('all');
            const [typeFilter, setTypeFilter] = useState('all');
            const [technologyFilter, setTechnologyFilter] = useState('all');
            const [impactFilter, setImpactFilter] = useState('all');
            const [insightTypeFilter, setInsightTypeFilter] = useState('all');
            const [showAddModal, setShowAddModal] = useState(false);
            const [newEntry, setNewEntry] = useState({
                title: '',
                description: '',
                owner: '',
                date: new Date().toISOString().split('T')[0]
            });

            // Bin state - shared across all components via React context (simplified here)
            const [deletedItems, setDeletedItems] = useState(() => {
                const saved = localStorage.getItem('arqeye_bin');
                return saved ? JSON.parse(saved) : [];
            });

            // Save to localStorage whenever deletedItems changes
            React.useEffect(() => {
                localStorage.setItem('arqeye_bin', JSON.stringify(deletedItems));
            }, [deletedItems]);

            // Convert data arrays to state
            const [allDecisions, setAllDecisions] = useState([
                {
                    id: 1,
                    title: 'Adopt Microservices Architecture for Payment Processing',
                    status: 'approved',
                    date: 'Dec 15, 2025',
                    confidence: 87,
                    type: 'Architecture',
                    technologies: ['Kubernetes', 'Spring Boot', 'PostgreSQL'],
                    stakeholders: ['Sarah Chen', 'Marcus Johnson'],
                    summary: 'Decided to adopt microservices architecture for payment system to enable independent scaling and technology flexibility.'
                },
                {
                    id: 2,
                    title: 'Implement OAuth 2.0 for API Authentication',
                    status: 'approved',
                    date: 'Dec 13, 2025',
                    confidence: 92,
                    type: 'Architecture',
                    technologies: ['OAuth 2.0', 'JWT', 'Auth0'],
                    stakeholders: ['Marcus Johnson', 'David Lee'],
                    summary: 'Replace legacy authentication with OAuth 2.0 to improve security and enable third-party integrations.'
                },
                {
                    id: 3,
                    title: 'Migrate to AWS Cloud Infrastructure',
                    status: 'proposed',
                    date: 'Dec 14, 2025',
                    confidence: 79,
                    type: 'Architecture',
                    technologies: ['AWS', 'Terraform', 'Kubernetes'],
                    stakeholders: ['Jennifer Williams', 'Sarah Chen'],
                    summary: 'Proposal to migrate from on-premises infrastructure to AWS to reduce operational overhead and improve scalability.'
                },
                {
                    id: 4,
                    title: 'Adopt GraphQL for Frontend API Layer',
                    status: 'rejected',
                    date: 'Dec 10, 2025',
                    confidence: 65,
                    type: 'Architecture',
                    technologies: ['GraphQL', 'Apollo', 'React'],
                    stakeholders: ['David Lee'],
                    summary: 'Rejected due to team unfamiliarity and existing REST API investment. Will revisit in Q2 2026.'
                },
                {
                    id: 5,
                    title: 'Switch to Two-Week Sprint Cycles',
                    status: 'approved',
                    date: 'Dec 18, 2025',
                    confidence: null,
                    type: 'Process',
                    technologies: [],
                    stakeholders: ['David Lee', 'Sarah Chen'],
                    summary: 'Team agreed to switch from one-week to two-week sprints to reduce planning overhead and allow for deeper focus.'
                },
                {
                    id: 6,
                    title: 'Adopt Slack for Team Communication',
                    status: 'approved',
                    date: 'Dec 11, 2025',
                    confidence: null,
                    type: 'Tooling',
                    technologies: ['Slack'],
                    stakeholders: ['Marcus Johnson'],
                    summary: 'Replace email threads with Slack for faster team communication and better discoverability.'
                },
                {
                    id: 7,
                    title: 'Hire Two Senior Backend Engineers',
                    status: 'approved',
                    date: 'Dec 17, 2025',
                    confidence: null,
                    type: 'Team',
                    technologies: [],
                    stakeholders: ['Jennifer Williams', 'Sarah Chen'],
                    summary: 'Approved headcount for two senior backend engineers to support microservices migration workload.'
                },
                {
                    id: 8,
                    title: 'Implement Code Review Requirements',
                    status: 'approved',
                    date: 'Dec 16, 2025',
                    confidence: null,
                    type: 'Process',
                    technologies: ['GitHub'],
                    stakeholders: ['David Lee'],
                    summary: 'All pull requests now require at least one approval from senior engineer before merging.'
                },
                {
                    id: 9,
                    title: 'Postpone Mobile App Redesign',
                    status: 'approved',
                    date: 'Dec 19, 2025',
                    confidence: null,
                    type: 'Strategic',
                    technologies: [],
                    stakeholders: ['Jennifer Williams'],
                    summary: 'Mobile redesign delayed to Q3 2026 to focus resources on backend migration.'
                }
            ]);

            const [meetingInsights, setMeetingInsights] = useState([
                {
                    id: 1,
                    type: 'Concern',
                    meeting: 'Technical Design Authority - Dec 15, 2025',
                    date: 'Dec 15, 2025',
                    speaker: 'Sarah Chen',
                    insight: 'Team lacks sufficient Kubernetes expertise for production deployment',
                    context: 'During microservices architecture discussion, Sarah raised concerns about the platform team\'s readiness to manage K8s clusters at scale.',
                    confidence: 88,
                    impact: 'High',
                    relatedItems: ['Adopt Microservices Architecture', 'Team has Kubernetes expertise assumption']
                },
                {
                    id: 2,
                    type: 'Alignment Issue',
                    meeting: 'AWS Migration Planning - Dec 14, 2025',
                    date: 'Dec 14, 2025',
                    speaker: 'Multiple Speakers',
                    insight: 'Disconnect between engineering timeline (6 months) and business deadline (Q2 2026)',
                    context: 'Engineering team estimated 6-month migration, but business requires completion by end of Q2 (5 months). No resolution reached in meeting.',
                    confidence: 92,
                    impact: 'Critical',
                    relatedItems: ['Migrate to AWS Cloud Infrastructure', 'Go-live by Q2 2026 constraint']
                },
                {
                    id: 3,
                    type: 'Key Decision',
                    meeting: 'OAuth Implementation Review - Dec 13, 2025',
                    date: 'Dec 13, 2025',
                    speaker: 'Marcus Johnson',
                    insight: 'Auth0 chosen over building in-house despite 3x cost difference',
                    context: 'Team decided Auth0\'s $45K annual cost justified vs 6-month in-house build, citing time-to-market and ongoing maintenance burden.',
                    confidence: 94,
                    impact: 'High',
                    relatedItems: ['Implement OAuth 2.0', 'Auth0 pricing not finalized issue']
                },
                {
                    id: 4,
                    type: 'Risk Identified',
                    meeting: 'Architecture Review - Dec 16, 2025',
                    date: 'Dec 16, 2025',
                    speaker: 'David Lee',
                    insight: 'No rollback strategy defined for microservices migration',
                    context: 'David pointed out that if microservices approach fails mid-migration, team has no plan to revert to monolith. Team agreed to document rollback procedure.',
                    confidence: 85,
                    impact: 'High',
                    relatedItems: ['Document service boundaries action item']
                },
                {
                    id: 5,
                    type: 'Hidden Assumption',
                    meeting: 'Technical Design Authority - Dec 15, 2025',
                    date: 'Dec 15, 2025',
                    speaker: 'Jennifer Williams',
                    insight: 'Team assumes current database can handle 10x traffic spike',
                    context: 'During scaling discussion, Jennifer mentioned "our database should handle it" without load testing data. ARQEYE flagged this as untested assumption.',
                    confidence: 79,
                    impact: 'Medium',
                    relatedItems: ['Payment traffic growth assumption']
                },
                {
                    id: 6,
                    type: 'Positive Signal',
                    meeting: 'Sprint Planning - Dec 18, 2025',
                    date: 'Dec 18, 2025',
                    speaker: 'Sarah Chen',
                    insight: 'Team morale high despite aggressive timeline',
                    context: 'Sarah noted team enthusiasm and buy-in for microservices migration. Developers expressed excitement about modernizing the stack.',
                    confidence: 82,
                    impact: 'Low',
                    relatedItems: []
                },
                {
                    id: 7,
                    type: 'Action Gap',
                    meeting: 'AWS Migration Planning - Dec 14, 2025',
                    date: 'Dec 14, 2025',
                    speaker: 'ARQEYE Detection',
                    insight: 'GDPR compliance discussed but no owner assigned',
                    context: 'Team spent 15 minutes discussing GDPR data residency requirements but meeting ended without assigning responsibility. ARQEYE flagged as unresolved action.',
                    confidence: 96,
                    impact: 'Critical',
                    relatedItems: ['Data Residency Compliance risk', 'GDPR constraint']
                }
            ]);

            const [technicalDebt, setTechnicalDebt] = useState([
                {
                    id: 1,
                    title: 'Legacy Authentication System Hardcoded Credentials',
                    type: 'Code Debt',
                    severity: 'High',
                    date: 'Dec 12, 2025',
                    owner: 'Marcus Johnson',
                    estimatedEffort: '3 weeks',
                    description: 'Current authentication system has hardcoded credentials in multiple services. Needs refactoring before OAuth migration.',
                    repaymentPlan: 'Refactor during OAuth 2.0 implementation - Q1 2026',
                    impact: 'Blocking OAuth migration, security risk'
                },
                {
                    id: 2,
                    title: 'Monolithic Database Schema',
                    type: 'Infrastructure Debt',
                    severity: 'Medium',
                    date: 'Dec 15, 2025',
                    owner: 'Sarah Chen',
                    estimatedEffort: '6 weeks',
                    description: 'Single database shared across all services prevents independent scaling and creates coupling.',
                    repaymentPlan: 'Split databases per microservice during migration - Q2 2026',
                    impact: 'Limits microservices benefits, deployment complexity'
                },
                {
                    id: 3,
                    title: 'Manual Deployment Process',
                    type: 'Process Debt',
                    severity: 'Medium',
                    date: 'Dec 10, 2025',
                    owner: 'David Lee',
                    estimatedEffort: '2 weeks',
                    description: 'Deployments require manual steps and runbooks. Error-prone and slow.',
                    repaymentPlan: 'Implement CI/CD pipeline with Terraform - Jan 2026',
                    impact: 'Slow deployment velocity, increased error rate'
                }
            ]);

            const [risks, setRisks] = useState([
                {
                    id: 1,
                    title: 'OAuth Provider Vendor Lock-in',
                    type: 'Technical',
                    likelihood: 'Medium',
                    impact: 'High',
                    date: 'Dec 13, 2025',
                    owner: 'Marcus Johnson',
                    description: 'Heavy reliance on Auth0-specific features could make it difficult to switch providers.',
                    mitigation: 'Abstract authentication layer, use standard OAuth flows only',
                    status: 'Active'
                },
                {
                    id: 2,
                    title: 'AWS Migration Cost Overrun',
                    type: 'Business',
                    likelihood: 'High',
                    impact: 'Medium',
                    date: 'Dec 14, 2025',
                    owner: 'Jennifer Williams',
                    description: 'Cloud costs may exceed budget if not properly monitored during migration.',
                    mitigation: 'Implement cost monitoring, phased migration with cost validation',
                    status: 'Active'
                },
                {
                    id: 3,
                    title: 'Data Residency Compliance',
                    type: 'Compliance',
                    likelihood: 'Medium',
                    impact: 'High',
                    date: 'Dec 14, 2025',
                    owner: 'Sarah Chen',
                    description: 'AWS migration must ensure data remains in EU regions for GDPR compliance.',
                    mitigation: 'Use eu-west-1 region, implement data locality checks',
                    status: 'Mitigated'
                },
                {
                    id: 4,
                    title: 'Microservices Communication Latency',
                    type: 'Technical',
                    likelihood: 'Low',
                    impact: 'Medium',
                    date: 'Dec 15, 2025',
                    owner: 'Sarah Chen',
                    description: 'Inter-service network calls may introduce unacceptable latency for payment processing.',
                    mitigation: 'Load testing, implement service mesh with caching',
                    status: 'Active'
                }
            ]);

            const [actionItems, setActionItems] = useState([
                {
                    id: 1,
                    title: 'Schedule OAuth 2.0 training session',
                    assignee: 'Marcus Johnson',
                    dueDate: 'Jan 15, 2026',
                    status: 'In Progress',
                    priority: 'High',
                    date: 'Dec 13, 2025',
                    description: 'Organize training for development team on OAuth flows and Auth0 integration.',
                    relatedDecision: 'Implement OAuth 2.0 for API Authentication'
                },
                {
                    id: 2,
                    title: 'Conduct AWS cost analysis',
                    assignee: 'Jennifer Williams',
                    dueDate: 'Jan 20, 2026',
                    status: 'Not Started',
                    priority: 'High',
                    date: 'Dec 14, 2025',
                    description: 'Detailed analysis of projected AWS costs vs current infrastructure spend.',
                    relatedDecision: 'Migrate to AWS Cloud Infrastructure'
                },
                {
                    id: 3,
                    title: 'Create microservices deployment pipeline',
                    assignee: 'David Lee',
                    dueDate: 'Feb 1, 2026',
                    status: 'Not Started',
                    priority: 'Medium',
                    date: 'Dec 15, 2025',
                    description: 'Set up CI/CD pipeline for microservices with automated testing and deployment.',
                    relatedDecision: 'Adopt Microservices Architecture for Payment Processing'
                },
                {
                    id: 4,
                    title: 'Document service boundaries and interfaces',
                    assignee: 'Sarah Chen',
                    dueDate: 'Jan 30, 2026',
                    status: 'In Progress',
                    priority: 'Medium',
                    date: 'Dec 15, 2025',
                    description: 'Define clear boundaries and API contracts for each microservice.',
                    relatedDecision: 'Adopt Microservices Architecture for Payment Processing'
                }
            ]);

            const [assumptions, setAssumptions] = useState([
                {
                    id: 1,
                    title: 'Team has Kubernetes expertise',
                    date: 'Dec 15, 2025',
                    category: 'Team Capability',
                    confidence: 'Medium',
                    description: 'Assuming platform team has sufficient Kubernetes experience to manage microservices deployment.',
                    validationNeeded: 'Skills assessment, identify training gaps',
                    impactIfWrong: 'Delayed deployment, operational issues, need external consultants',
                    owner: 'Sarah Chen'
                },
                {
                    id: 2,
                    title: 'Payment traffic growth stays under 10x',
                    date: 'Dec 15, 2025',
                    category: 'Business',
                    confidence: 'High',
                    description: 'Architecture scaled for 10x current traffic. Assuming business growth stays within this range.',
                    validationNeeded: 'Quarterly business forecast review',
                    impactIfWrong: 'System capacity issues, need emergency re-architecture',
                    owner: 'Jennifer Williams'
                },
                {
                    id: 3,
                    title: 'Auth0 meets all compliance requirements',
                    date: 'Dec 13, 2025',
                    category: 'Compliance',
                    confidence: 'Medium',
                    description: 'Assuming Auth0 SOC2 and ISO27001 certifications satisfy our regulatory requirements.',
                    validationNeeded: 'Legal/compliance team review',
                    impactIfWrong: 'Cannot use Auth0, need alternative provider or build in-house',
                    owner: 'Marcus Johnson'
                }
            ]);

            const [constraints, setConstraints] = useState([
                {
                    id: 1,
                    title: 'Must maintain Java/Spring Boot stack',
                    type: 'Technical',
                    date: 'Dec 15, 2025',
                    description: 'Team expertise and existing codebase require continued use of Java/Spring Boot.',
                    rationale: 'Team has 5+ years Java experience, retraining cost prohibitive',
                    impact: 'Limits technology choices for new services',
                    owner: 'Sarah Chen'
                },
                {
                    id: 2,
                    title: 'Go-live by Q2 2026',
                    type: 'Business',
                    date: 'Dec 14, 2025',
                    description: 'AWS migration must complete by end of Q2 2026 to meet business objectives.',
                    rationale: 'Data center contract expires Q3 2026',
                    impact: 'Limited time for migration, may need to reduce scope',
                    owner: 'Jennifer Williams'
                },
                {
                    id: 3,
                    title: 'GDPR data residency in EU',
                    type: 'Regulatory',
                    date: 'Dec 14, 2025',
                    description: 'All customer data must remain in EU regions to comply with GDPR.',
                    rationale: 'Legal requirement for EU customers',
                    impact: 'Cannot use certain AWS regions, higher costs',
                    owner: 'Sarah Chen'
                },
                {
                    id: 4,
                    title: 'Migration budget capped at $500K',
                    type: 'Budget',
                    date: 'Dec 14, 2025',
                    description: 'Total AWS migration budget including consulting, training, and infrastructure.',
                    rationale: 'Approved budget allocation for 2026',
                    impact: 'May need to phase migration, limit scope',
                    owner: 'Jennifer Williams'
                }
            ]);

            const [dependencies, setDependencies] = useState([
                {
                    id: 1,
                    title: 'Payment Service ‚Üí Authentication Service',
                    type: 'System-to-System',
                    date: 'Dec 15, 2025',
                    description: 'Payment service requires authentication service for user verification before processing transactions.',
                    blocking: 'Critical',
                    owner: 'Sarah Chen',
                    impact: 'Payment service cannot function without authentication',
                    mitigation: 'Implement circuit breaker, graceful degradation'
                },
                {
                    id: 2,
                    title: 'Migration ‚Üí Platform Team Availability',
                    type: 'Team-to-Team',
                    date: 'Dec 14, 2025',
                    description: 'AWS migration depends on platform team availability to configure infrastructure.',
                    blocking: 'High',
                    owner: 'Jennifer Williams',
                    impact: 'Migration delays if platform team overcommitted',
                    mitigation: 'Reserve dedicated platform team capacity Q1-Q2'
                },
                {
                    id: 3,
                    title: 'OAuth Implementation ‚Üí Auth0 SLA',
                    type: 'External Vendor',
                    date: 'Dec 13, 2025',
                    description: 'Authentication depends on Auth0 uptime and performance SLAs.',
                    blocking: 'Critical',
                    owner: 'Marcus Johnson',
                    impact: 'System unavailable if Auth0 down',
                    mitigation: 'Multi-region Auth0 deployment, fallback strategy'
                },
                {
                    id: 4,
                    title: 'Microservices ‚Üí Kubernetes Cluster',
                    type: 'System-to-System',
                    date: 'Dec 15, 2025',
                    description: 'All microservices depend on Kubernetes cluster availability.',
                    blocking: 'Critical',
                    owner: 'David Lee',
                    impact: 'All services down if cluster fails',
                    mitigation: 'Multi-AZ deployment, automated failover'
                }
            ]);

            const [issues, setIssues] = useState([
                {
                    id: 1,
                    title: 'Database schema migration blocker',
                    date: 'Dec 16, 2025',
                    severity: 'High',
                    status: 'Open',
                    owner: 'Sarah Chen',
                    description: 'Foreign key constraints preventing clean separation of schemas for microservices.',
                    impact: 'Blocking microservices database split, delaying deployment',
                    blockedItems: ['Microservices deployment', 'Independent scaling'],
                    resolution: 'Working with DBA team to redesign schema - ETA 2 weeks'
                },
                {
                    id: 2,
                    title: 'Auth0 pricing not finalized',
                    date: 'Dec 17, 2025',
                    severity: 'Medium',
                    status: 'Open',
                    owner: 'Marcus Johnson',
                    description: 'Waiting on final enterprise pricing quote from Auth0 sales team.',
                    impact: 'Cannot finalize budget, may need alternative if too expensive',
                    blockedItems: ['OAuth implementation start', 'Budget approval'],
                    resolution: 'Sales call scheduled Jan 5 - decision by Jan 10'
                },
                {
                    id: 3,
                    title: 'Kubernetes training materials outdated',
                    date: 'Dec 18, 2025',
                    severity: 'Low',
                    status: 'In Progress',
                    owner: 'David Lee',
                    description: 'Internal Kubernetes training materials are for v1.22, we are deploying v1.28.',
                    impact: 'Team confusion, potential misconfigurations',
                    blockedItems: ['Team training completion'],
                    resolution: 'Updating materials - completion by Dec 30'
                }
            ]);

            // Tabs configuration
            const tabs = [
                { id: 'all', name: 'All Decisions' },
                { id: 'insights', name: 'Meeting Insights' },
                { id: 'tech-debt', name: 'Technical Debt Register' },
                { id: 'risk', name: 'Risk Register' },
                { id: 'action-items', name: 'Action Item Register' },
                { id: 'assumptions', name: 'Assumption Register' },
                { id: 'constraints', name: 'Constraint Register' },
                { id: 'dependencies', name: 'Dependencies Register' },
                { id: 'issues', name: 'Issues/Impediments Register' },
            ];

            // Handler functions
            const handleTabChange = (tabId) => {
                setActiveTab(tabId);
                setStatusFilter('all');
                setTypeFilter('all');
                setTechnologyFilter('all');
                setImpactFilter('all');
                setInsightTypeFilter('all');
            };

            const handleAddEntry = () => {
                setShowAddModal(true);
            };

            const handleCloseModal = () => {
                setShowAddModal(false);
                setNewEntry({
                    title: '',
                    description: '',
                    owner: '',
                    date: new Date().toISOString().split('T')[0]
                });
            };

            const handleSaveEntry = () => {
                const newId = Date.now(); // Simple ID generation
                const baseEntry = {
                    id: newId,
                    title: newEntry.title,
                    description: newEntry.description,
                    owner: newEntry.owner,
                    date: newEntry.date,
                };

                // Add to appropriate register based on active tab
                switch(activeTab) {
                    case 'all':
                        setAllDecisions([...allDecisions, {
                            ...baseEntry,
                            status: 'proposed',
                            confidence: null,
                            type: 'Process',
                            technologies: [],
                            stakeholders: [newEntry.owner],
                            summary: newEntry.description
                        }]);
                        break;
                    case 'insights':
                        setMeetingInsights([...meetingInsights, {
                            ...baseEntry,
                            type: 'Key Decision',
                            meeting: 'Manual Entry',
                            speaker: newEntry.owner,
                            insight: newEntry.title,
                            context: newEntry.description,
                            confidence: 100,
                            impact: 'Medium',
                            relatedItems: []
                        }]);
                        break;
                    case 'tech-debt':
                        setTechnicalDebt([...technicalDebt, {
                            ...baseEntry,
                            type: 'Process Debt',
                            severity: 'Medium',
                            estimatedEffort: 'TBD',
                            repaymentPlan: 'To be determined',
                            impact: 'To be assessed'
                        }]);
                        break;
                    case 'risk':
                        setRisks([...risks, {
                            ...baseEntry,
                            type: 'Technical',
                            likelihood: 'Medium',
                            impact: 'Medium',
                            mitigation: 'To be determined',
                            status: 'Active'
                        }]);
                        break;
                    case 'action-items':
                        setActionItems([...actionItems, {
                            ...baseEntry,
                            assignee: newEntry.owner,
                            dueDate: newEntry.date,
                            status: 'Not Started',
                            priority: 'Medium',
                            relatedDecision: null
                        }]);
                        break;
                    case 'assumptions':
                        setAssumptions([...assumptions, {
                            ...baseEntry,
                            category: 'General',
                            confidence: 'Medium',
                            validationNeeded: 'To be determined',
                            impactIfWrong: 'To be assessed'
                        }]);
                        break;
                    case 'constraints':
                        setConstraints([...constraints, {
                            ...baseEntry,
                            type: 'Business',
                            rationale: newEntry.description,
                            impact: 'To be assessed'
                        }]);
                        break;
                    case 'dependencies':
                        setDependencies([...dependencies, {
                            ...baseEntry,
                            type: 'System-to-System',
                            blocking: 'Medium',
                            impact: 'To be assessed',
                            mitigation: 'To be determined'
                        }]);
                        break;
                    case 'issues':
                        setIssues([...issues, {
                            ...baseEntry,
                            severity: 'Medium',
                            status: 'Open',
                            impact: newEntry.description,
                            blockedItems: [],
                            resolution: 'To be determined'
                        }]);
                        break;
                }

                handleCloseModal();
            };

            const handleDelete = (id, registerType) => {
                if (!confirm('Move this entry to the Bin? It will be held for 30 days pending senior architect approval.')) return;

                let deletedItem = null;

                switch(registerType) {
                    case 'all':
                        deletedItem = allDecisions.find(d => d.id === id);
                        setAllDecisions(allDecisions.filter(d => d.id !== id));
                        break;
                    case 'insights':
                        deletedItem = meetingInsights.find(i => i.id === id);
                        setMeetingInsights(meetingInsights.filter(i => i.id !== id));
                        break;
                    case 'tech-debt':
                        deletedItem = technicalDebt.find(d => d.id === id);
                        setTechnicalDebt(technicalDebt.filter(d => d.id !== id));
                        break;
                    case 'risk':
                        deletedItem = risks.find(r => r.id === id);
                        setRisks(risks.filter(r => r.id !== id));
                        break;
                    case 'action-items':
                        deletedItem = actionItems.find(a => a.id === id);
                        setActionItems(actionItems.filter(a => a.id !== id));
                        break;
                    case 'assumptions':
                        deletedItem = assumptions.find(a => a.id === id);
                        setAssumptions(assumptions.filter(a => a.id !== id));
                        break;
                    case 'constraints':
                        deletedItem = constraints.find(c => c.id === id);
                        setConstraints(constraints.filter(c => c.id !== id));
                        break;
                    case 'dependencies':
                        deletedItem = dependencies.find(d => d.id === id);
                        setDependencies(dependencies.filter(d => d.id !== id));
                        break;
                    case 'issues':
                        deletedItem = issues.find(i => i.id === id);
                        setIssues(issues.filter(i => i.id !== id));
                        break;
                }

                if (deletedItem) {
                    setDeletedItems([...deletedItems, {
                        ...deletedItem,
                        itemType: registerType,
                        deletedAt: new Date().toISOString(),
                        deletedBy: 'Current User' // In production, use actual user info
                    }]);
                }
            };

            const handleRestore = (deletedItem) => {
                // Remove from bin
                setDeletedItems(deletedItems.filter(item => 
                    !(item.id === deletedItem.id && (item.itemType || item.registerType) === (deletedItem.itemType || deletedItem.registerType))
                ));

                // Restore to original register
                const itemToRestore = {...deletedItem};
                delete itemToRestore.itemType;
                delete itemToRestore.registerType;
                delete itemToRestore.deletedAt;
                delete itemToRestore.deletedBy;

                const type = deletedItem.itemType || deletedItem.registerType;
                switch(type) {
                    case 'all':
                        setAllDecisions([...allDecisions, itemToRestore]);
                        break;
                    case 'insights':
                        setMeetingInsights([...meetingInsights, itemToRestore]);
                        break;
                    case 'tech-debt':
                        setTechnicalDebt([...technicalDebt, itemToRestore]);
                        break;
                    case 'risk':
                        setRisks([...risks, itemToRestore]);
                        break;
                    case 'action-items':
                        setActionItems([...actionItems, itemToRestore]);
                        break;
                    case 'assumptions':
                        setAssumptions([...assumptions, itemToRestore]);
                        break;
                    case 'constraints':
                        setConstraints([...constraints, itemToRestore]);
                        break;
                    case 'dependencies':
                        setDependencies([...dependencies, itemToRestore]);
                        break;
                    case 'issues':
                        setIssues([...issues, itemToRestore]);
                        break;
                }
            };

            const handlePermanentDelete = (deletedItem) => {
                if (!confirm('PERMANENTLY delete this entry? This cannot be undone.')) return;
                
                setDeletedItems(deletedItems.filter(item => 
                    !(item.id === deletedItem.id && (item.itemType || item.registerType) === (deletedItem.itemType || deletedItem.registerType))
                ));
            };

            const handleApproveDelete = (deletedItem) => {
                if (!confirm('Approve permanent deletion of this entry?')) return;
                
                setDeletedItems(deletedItems.filter(item => 
                    !(item.id === deletedItem.id && (item.itemType || item.registerType) === (deletedItem.itemType || deletedItem.registerType))
                ));
            };

            // Filter functions
            const filteredAllDecisions = allDecisions.filter(decision => {
                const matchesType = typeFilter === 'all' || decision.type === typeFilter;
                const matchesStatus = statusFilter === 'all' || decision.status === statusFilter;
                return matchesType && matchesStatus;
            });

            const filteredInsights = meetingInsights.filter(insight => {
                const matchesType = insightTypeFilter === 'all' || insight.type === insightTypeFilter;
                const matchesImpact = impactFilter === 'all' || insight.impact === impactFilter;
                return matchesType && matchesImpact;
            });

            const getStatusColor = (status) => {
                const colors = {
                    approved: 'bg-green-500/10 text-green-400 border-green-500/20',
                    proposed: 'bg-blue-500/10 text-blue-400 border-blue-500/20',
                    implemented: 'bg-accent-500/10 text-accent-500 border-accent-500/20',
                    rejected: 'bg-red-500/10 text-red-400 border-red-500/20'
                };
                return colors[status] || colors.proposed;
            };

            return (
                <div className="space-y-6">
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="text-3xl font-bold text-white">Decisions & Registers</h1>
                            <p className="mt-1 text-gray-400">Track decisions, risks, action items, and architectural knowledge</p>
                        </div>
                        <button 
                            onClick={handleAddEntry}
                            className="rounded-lg bg-accent-500 px-4 py-2 text-sm font-semibold text-gray-900 hover:bg-accent-300 transition-colors"
                        >
                            + Add Entry
                        </button>
                    </div>

                    {/* Tab Navigation */}
                    <div className="border-b border-gray-700">
                        <nav className="flex gap-8 overflow-x-auto">
                            {tabs.map((tab) => (
                                <button
                                    key={tab.id}
                                    onClick={() => handleTabChange(tab.id)}
                                    className={`whitespace-nowrap pb-4 px-1 text-sm font-medium transition-colors ${
                                        activeTab === tab.id
                                            ? 'border-b-2 border-accent-500 text-accent-500'
                                            : 'text-gray-400 hover:text-white'
                                    }`}
                                >
                                    {tab.name}
                                </button>
                            ))}
                        </nav>
                    </div>

                    {/* Tab Content */}
                    {activeTab === 'all' && (
                        <>
                            {/* Header with explanation */}
                            <div className="bg-gray-800/50 border border-gray-700 rounded-lg p-4 mb-6">
                                <div className="flex items-start gap-3">
                                    <div className="text-2xl">üìã</div>
                                    <div>
                                        <h3 className="text-sm font-semibold text-white mb-1">Complete Decision Log</h3>
                                        <p className="text-xs text-gray-300">
                                            Every decision your team makes - from architecture choices to process changes to strategic priorities - captured automatically from meetings.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Filters */}
                            <div className="flex items-center gap-4">
                                <select 
                                    value={typeFilter}
                                    onChange={(e) => {
                                        console.log('Type filter changed to:', e.target.value);
                                        setTypeFilter(e.target.value);
                                    }}
                                    className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                >
                                    <option value="all">All Types</option>
                                    <option value="Architecture">Architecture</option>
                                    <option value="Process">Process</option>
                                    <option value="Tooling">Tooling</option>
                                    <option value="Team">Team</option>
                                    <option value="Strategic">Strategic</option>
                                </select>
                                <select 
                                    value={statusFilter}
                                    onChange={(e) => {
                                        console.log('Status filter changed to:', e.target.value);
                                        setStatusFilter(e.target.value);
                                    }}
                                    className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                >
                                    <option value="all">All Status</option>
                                    <option value="proposed">Proposed</option>
                                    <option value="approved">Approved</option>
                                    <option value="implemented">Implemented</option>
                                    <option value="rejected">Rejected</option>
                                </select>
                                <div className="flex items-center gap-2 ml-auto">
                                    <span className="text-sm text-gray-400">
                                        Showing {filteredAllDecisions.length} of {allDecisions.length} decisions
                                    </span>
                                    <span className="text-xs text-gray-500">
                                        (Type: {typeFilter}, Status: {statusFilter})
                                    </span>
                                </div>
                            </div>

                            {/* All Decision Cards */}
                            <div className="grid gap-4">
                                {filteredAllDecisions.length === 0 ? (
                                    <div className="text-center py-12 text-gray-400">
                                        No decisions match the selected filters
                                    </div>
                                ) : (
                                    filteredAllDecisions.map((decision) => (
                                    <div key={decision.id} className="decision-card rounded-lg p-6">
                                        <div className="flex items-start justify-between mb-4">
                                            <div className="flex-1">
                                                <div className="flex items-center gap-2 mb-1">
                                                    <h3 className="text-lg font-semibold text-white">{decision.title}</h3>
                                                    <span className="inline-flex items-center rounded bg-gray-700 px-2 py-1 text-xs text-gray-300">
                                                        {decision.type}
                                                    </span>
                                                </div>
                                                <p className="mt-1 text-sm text-gray-400">{decision.date}</p>
                                            </div>
                                            <div className="flex items-center gap-2">
                                                {decision.confidence && (
                                                    <span className="confidence-badge rounded-full px-2 py-1 text-xs">
                                                        {decision.confidence}% confidence
                                                    </span>
                                                )}
                                                <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium capitalize ${getStatusColor(decision.status)}`}>
                                                    {decision.status}
                                                </span>
                                                <button
                                                    onClick={() => handleDelete(decision.id, 'all')}
                                                    className="ml-2 p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                    title="Delete entry"
                                                >
                                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>

                                        <p className="text-sm text-gray-300 mb-4">{decision.summary}</p>

                                        {decision.technologies.length > 0 && (
                                            <div className="flex items-center gap-4 text-sm mb-3">
                                                <div>
                                                    <span className="text-gray-500">Technologies: </span>
                                                    <span className="text-gray-300">
                                                        {decision.technologies.map((tech, idx) => (
                                                            <span key={idx} className="inline-flex items-center rounded bg-gray-700 px-2 py-1 text-xs mr-1">
                                                                {tech}
                                                            </span>
                                                        ))}
                                                    </span>
                                                </div>
                                            </div>
                                        )}

                                        <div className="flex items-center gap-2 text-sm text-gray-400">
                                            <Icons.Users />
                                            <span>{decision.stakeholders.join(', ')}</span>
                                        </div>
                                    </div>
                                ))
                                )}
                            </div>
                        </>
                    )}

                    {activeTab === 'insights' && (
                        <>
                            {/* Header with explanation */}
                            <div className="bg-gradient-to-r from-accent-500/10 to-primary-500/10 border border-accent-500/20 rounded-lg p-4 mb-6">
                                <div className="flex items-start gap-3">
                                    <div className="text-accent-500 text-2xl">üß†</div>
                                    <div>
                                        <h3 className="text-sm font-semibold text-white mb-1">ARQEYE automatically identifies concerns, alignment issues, hidden assumptions, and action gaps from meeting discussions - things that would otherwise be lost in transcripts.
</h3>
                                        
                                    </div>
                                </div>
                            </div>

                            {/* Filters */}
                            <div className="flex items-center gap-4">
                                <select 
                                    value={insightTypeFilter}
                                    onChange={(e) => {
                                        console.log('Insight type filter changed to:', e.target.value);
                                        setInsightTypeFilter(e.target.value);
                                    }}
                                    className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                >
                                    <option value="all">All Types</option>
                                    <option value="Concern">Concern</option>
                                    <option value="Alignment Issue">Alignment Issue</option>
                                    <option value="Key Decision">Key Decision</option>
                                    <option value="Risk Identified">Risk Identified</option>
                                    <option value="Hidden Assumption">Hidden Assumption</option>
                                    <option value="Action Gap">Action Gap</option>
                                    <option value="Positive Signal">Positive Signal</option>
                                </select>
                                <select 
                                    value={impactFilter}
                                    onChange={(e) => {
                                        console.log('Impact filter changed to:', e.target.value);
                                        setImpactFilter(e.target.value);
                                    }}
                                    className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                >
                                    <option value="all">All Impact</option>
                                    <option value="Critical">Critical</option>
                                    <option value="High">High</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                                <div className="flex items-center gap-2 ml-auto">
                                    <span className="text-sm text-gray-400">
                                        Showing {filteredInsights.length} of {meetingInsights.length} insights
                                    </span>
                                    <span className="text-xs text-gray-500">
                                        (Type: {insightTypeFilter}, Impact: {impactFilter})
                                    </span>
                                </div>
                            </div>

                            {/* Meeting Insights Cards */}
                            <div className="grid gap-4">
                                {filteredInsights.length === 0 ? (
                                    <div className="text-center py-12 text-gray-400">
                                        No insights match the selected filters
                                    </div>
                                ) : (
                                    filteredInsights.map((insight) => (
                                    <div key={insight.id} className="decision-card rounded-lg p-6 border-l-4 border-accent-500">
                                        <div className="flex items-start justify-between mb-4">
                                            <div className="flex-1">
                                                <div className="flex items-center gap-2 mb-2">
                                                    <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                        insight.type === 'Alignment Issue' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                        insight.type === 'Concern' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                                        insight.type === 'Risk Identified' ? 'bg-orange-500/10 text-orange-400 border-orange-500/20' :
                                                        insight.type === 'Action Gap' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                        insight.type === 'Hidden Assumption' ? 'bg-purple-500/10 text-purple-400 border-purple-500/20' :
                                                        insight.type === 'Positive Signal' ? 'bg-green-500/10 text-green-400 border-green-500/20' :
                                                        'bg-blue-500/10 text-blue-400 border-blue-500/20'
                                                    }`}>
                                                        {insight.type}
                                                    </span>
                                                    <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                        insight.impact === 'Critical' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                        insight.impact === 'High' ? 'bg-orange-500/10 text-orange-400 border-orange-500/20' :
                                                        insight.impact === 'Medium' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                                        'bg-blue-500/10 text-blue-400 border-blue-500/20'
                                                    }`}>
                                                        {insight.impact} Impact
                                                    </span>
                                                </div>
                                                <h3 className="text-lg font-semibold text-white">{insight.insight}</h3>
                                                <div className="flex items-center gap-4 mt-2 text-xs text-gray-400">
                                                    <span>{insight.meeting}</span>
                                                    <span>‚Ä¢</span>
                                                    <span>{insight.speaker}</span>
                                                </div>
                                            </div>
                                            <div className="flex items-center gap-2">
                                                <span className="confidence-badge rounded-full px-2 py-1 text-xs">
                                                    {insight.confidence}% confidence
                                                </span>
                                                <button
                                                    onClick={() => handleDelete(insight.id, 'insights')}
                                                    className="p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                    title="Delete entry"
                                                >
                                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>

                                        <div className="bg-gray-900 rounded-lg p-4 mb-4">
                                            <div className="text-xs text-gray-500 mb-1">Context</div>
                                            <p className="text-sm text-gray-300">{insight.context}</p>
                                        </div>

                                        {insight.relatedItems.length > 0 && (
                                            <div>
                                                <div className="text-xs text-gray-500 mb-2">Related Items</div>
                                                <div className="flex flex-wrap gap-2">
                                                    {insight.relatedItems.map((item, idx) => (
                                                        <span key={idx} className="inline-flex items-center rounded bg-primary-500/20 border border-primary-500/30 px-2 py-1 text-xs text-accent-500">
                                                            {item}
                                                        </span>
                                                    ))}
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                ))
                                )}
                            </div>
                        </>
                    )}

                    {/* Technical Debt Register */}
                    {activeTab === 'tech-debt' && (
                        <div className="grid gap-4">
                            {technicalDebt.map((debt) => (
                                <div key={debt.id} className="decision-card rounded-lg p-6">
                                    <div className="flex items-start justify-between mb-4">
                                        <div className="flex-1">
                                            <h3 className="text-lg font-semibold text-white">{debt.title}</h3>
                                            <p className="mt-1 text-sm text-gray-400">{debt.date}</p>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                debt.severity === 'High' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                debt.severity === 'Medium' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                                'bg-blue-500/10 text-blue-400 border-blue-500/20'
                                            }`}>
                                                {debt.severity} Severity
                                            </span>
                                            <button
                                                onClick={() => handleDelete(debt.id, 'tech-debt')}
                                                className="ml-2 p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                title="Delete entry"
                                            >
                                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-300 mb-4">{debt.description}</p>
                                    <div className="grid grid-cols-3 gap-4 pt-4 border-t border-gray-700 text-sm">
                                        <div>
                                            <div className="text-gray-500">Type</div>
                                            <div className="text-white font-medium mt-1">{debt.type}</div>
                                        </div>
                                        <div>
                                            <div className="text-gray-500">Owner</div>
                                            <div className="text-white font-medium mt-1">{debt.owner}</div>
                                        </div>
                                        <div>
                                            <div className="text-gray-500">Effort</div>
                                            <div className="text-white font-medium mt-1">{debt.estimatedEffort}</div>
                                        </div>
                                    </div>
                                    <div className="mt-4 bg-gray-900 rounded-lg p-3">
                                        <div className="text-xs text-gray-500 mb-1">Repayment Plan</div>
                                        <div className="text-sm text-gray-300">{debt.repaymentPlan}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Risk Register */}
                    {activeTab === 'risk' && (
                        <div className="grid gap-4">
                            {risks.map((risk) => (
                                <div key={risk.id} className="decision-card rounded-lg p-6">
                                    <div className="flex items-start justify-between mb-4">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2 mb-2">
                                                <h3 className="text-lg font-semibold text-white">{risk.title}</h3>
                                                <span className="inline-flex items-center rounded bg-gray-700 px-2 py-1 text-xs text-gray-300">
                                                    {risk.type}
                                                </span>
                                            </div>
                                            <p className="text-sm text-gray-400">{risk.date}</p>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                risk.status === 'Mitigated' ? 'bg-green-500/10 text-green-400 border-green-500/20' :
                                                'bg-yellow-500/10 text-yellow-400 border-yellow-500/20'
                                            }`}>
                                                {risk.status}
                                            </span>
                                            <button
                                                onClick={() => handleDelete(risk.id, 'risk')}
                                                className="ml-2 p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                title="Delete entry"
                                            >
                                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-300 mb-4">{risk.description}</p>
                                    <div className="grid grid-cols-3 gap-4 mb-4 text-sm">
                                        <div>
                                            <div className="text-gray-500">Likelihood</div>
                                            <div className={`font-semibold mt-1 ${
                                                risk.likelihood === 'High' ? 'text-red-400' :
                                                risk.likelihood === 'Medium' ? 'text-yellow-400' :
                                                'text-green-400'
                                            }`}>{risk.likelihood}</div>
                                        </div>
                                        <div>
                                            <div className="text-gray-500">Impact</div>
                                            <div className={`font-semibold mt-1 ${
                                                risk.impact === 'High' ? 'text-red-400' :
                                                risk.impact === 'Medium' ? 'text-yellow-400' :
                                                'text-green-400'
                                            }`}>{risk.impact}</div>
                                        </div>
                                        <div>
                                            <div className="text-gray-500">Owner</div>
                                            <div className="text-white font-medium mt-1">{risk.owner}</div>
                                        </div>
                                    </div>
                                    <div className="bg-gray-900 rounded-lg p-3">
                                        <div className="text-xs text-gray-500 mb-1">Mitigation Strategy</div>
                                        <div className="text-sm text-gray-300">{risk.mitigation}</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Action Items Register */}
                    {activeTab === 'action-items' && (
                        <div className="grid gap-4">
                            {actionItems.map((item) => (
                                <div key={item.id} className="decision-card rounded-lg p-6">
                                    <div className="flex items-start justify-between mb-4">
                                        <div className="flex-1">
                                            <h3 className="text-lg font-semibold text-white">{item.title}</h3>
                                            <p className="mt-1 text-sm text-gray-400">Created: {item.date}</p>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                item.priority === 'High' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                item.priority === 'Medium' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                                'bg-blue-500/10 text-blue-400 border-blue-500/20'
                                            }`}>
                                                {item.priority}
                                            </span>
                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                item.status === 'In Progress' ? 'bg-blue-500/10 text-blue-400 border-blue-500/20' :
                                                'bg-gray-500/10 text-gray-400 border-gray-500/20'
                                            }`}>
                                                {item.status}
                                            </span>
                                            <button
                                                onClick={() => handleDelete(item.id, 'action-items')}
                                                className="p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                title="Delete entry"
                                            >
                                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-300 mb-4">{item.description}</p>
                                    <div className="grid grid-cols-2 gap-4 pt-4 border-t border-gray-700 text-sm">
                                        <div>
                                            <div className="text-gray-500">Assigned To</div>
                                            <div className="text-white font-medium mt-1">{item.assignee}</div>
                                        </div>
                                        <div>
                                            <div className="text-gray-500">Due Date</div>
                                            <div className="text-accent-500 font-medium mt-1">{item.dueDate}</div>
                                        </div>
                                    </div>
                                    {item.relatedDecision && (
                                        <div className="mt-3 text-xs text-gray-400">
                                            Related to: <span className="text-accent-500">{item.relatedDecision}</span>
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Assumptions Register */}
                    {activeTab === 'assumptions' && (
                        <div className="grid gap-4">
                            {assumptions.map((assumption) => (
                                <div key={assumption.id} className="decision-card rounded-lg p-6">
                                    <div className="flex items-start justify-between mb-4">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2 mb-2">
                                                <h3 className="text-lg font-semibold text-white">{assumption.title}</h3>
                                                <span className="inline-flex items-center rounded bg-gray-700 px-2 py-1 text-xs text-gray-300">
                                                    {assumption.category}
                                                </span>
                                            </div>
                                            <p className="text-sm text-gray-400">{assumption.date}</p>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                assumption.confidence === 'High' ? 'bg-green-500/10 text-green-400 border-green-500/20' :
                                                assumption.confidence === 'Medium' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                                'bg-red-500/10 text-red-400 border-red-500/20'
                                            }`}>
                                                {assumption.confidence} Confidence
                                            </span>
                                            <button
                                                onClick={() => handleDelete(assumption.id, 'assumptions')}
                                                className="ml-2 p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                title="Delete entry"
                                            >
                                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-300 mb-4">{assumption.description}</p>
                                    <div className="space-y-3">
                                        <div className="bg-gray-900 rounded-lg p-3">
                                            <div className="text-xs text-gray-500 mb-1">Validation Needed</div>
                                            <div className="text-sm text-gray-300">{assumption.validationNeeded}</div>
                                        </div>
                                        <div className="bg-red-500/5 border border-red-500/20 rounded-lg p-3">
                                            <div className="text-xs text-red-400 mb-1">Impact if Wrong</div>
                                            <div className="text-sm text-gray-300">{assumption.impactIfWrong}</div>
                                        </div>
                                    </div>
                                    <div className="mt-3 text-sm text-gray-400">
                                        Owner: <span className="text-white">{assumption.owner}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Constraints Register */}
                    {activeTab === 'constraints' && (
                        <div className="grid gap-4">
                            {constraints.map((constraint) => (
                                <div key={constraint.id} className="decision-card rounded-lg p-6">
                                    <div className="flex items-start justify-between mb-4">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2 mb-2">
                                                <h3 className="text-lg font-semibold text-white">{constraint.title}</h3>
                                                <span className={`inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium ${
                                                    constraint.type === 'Regulatory' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                    constraint.type === 'Business' ? 'bg-blue-500/10 text-blue-400 border-blue-500/20' :
                                                    constraint.type === 'Budget' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                                    'bg-gray-500/10 text-gray-400 border-gray-500/20'
                                                }`}>
                                                    {constraint.type}
                                                </span>
                                            </div>
                                            <p className="text-sm text-gray-400">{constraint.date}</p>
                                        </div>
                                        <button
                                            onClick={() => handleDelete(constraint.id, 'constraints')}
                                            className="p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                            title="Delete entry"
                                        >
                                            <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                            </svg>
                                        </button>
                                    </div>
                                    <p className="text-sm text-gray-300 mb-4">{constraint.description}</p>
                                    <div className="space-y-3">
                                        <div className="bg-gray-900 rounded-lg p-3">
                                            <div className="text-xs text-gray-500 mb-1">Rationale</div>
                                            <div className="text-sm text-gray-300">{constraint.rationale}</div>
                                        </div>
                                        <div className="bg-gray-900 rounded-lg p-3">
                                            <div className="text-xs text-gray-500 mb-1">Impact</div>
                                            <div className="text-sm text-gray-300">{constraint.impact}</div>
                                        </div>
                                    </div>
                                    <div className="mt-3 text-sm text-gray-400">
                                        Owner: <span className="text-white">{constraint.owner}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Dependencies Register */}
                    {activeTab === 'dependencies' && (
                        <div className="grid gap-4">
                            {dependencies.map((dep) => (
                                <div key={dep.id} className="decision-card rounded-lg p-6">
                                    <div className="flex items-start justify-between mb-4">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2 mb-2">
                                                <h3 className="text-lg font-semibold text-white">{dep.title}</h3>
                                                <span className="inline-flex items-center rounded bg-gray-700 px-2 py-1 text-xs text-gray-300">
                                                    {dep.type}
                                                </span>
                                            </div>
                                            <p className="text-sm text-gray-400">{dep.date}</p>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                dep.blocking === 'Critical' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                'bg-yellow-500/10 text-yellow-400 border-yellow-500/20'
                                            }`}>
                                                {dep.blocking} Blocking
                                            </span>
                                            <button
                                                onClick={() => handleDelete(dep.id, 'dependencies')}
                                                className="ml-2 p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                title="Delete entry"
                                            >
                                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-300 mb-4">{dep.description}</p>
                                    <div className="space-y-3">
                                        <div className="bg-red-500/5 border border-red-500/20 rounded-lg p-3">
                                            <div className="text-xs text-red-400 mb-1">Impact</div>
                                            <div className="text-sm text-gray-300">{dep.impact}</div>
                                        </div>
                                        <div className="bg-gray-900 rounded-lg p-3">
                                            <div className="text-xs text-gray-500 mb-1">Mitigation</div>
                                            <div className="text-sm text-gray-300">{dep.mitigation}</div>
                                        </div>
                                    </div>
                                    <div className="mt-3 text-sm text-gray-400">
                                        Owner: <span className="text-white">{dep.owner}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Issues/Impediments Register */}
                    {activeTab === 'issues' && (
                        <div className="grid gap-4">
                            {issues.map((issue) => (
                                <div key={issue.id} className="decision-card rounded-lg p-6 border-l-4 border-red-500">
                                    <div className="flex items-start justify-between mb-4">
                                        <div className="flex-1">
                                            <h3 className="text-lg font-semibold text-white">{issue.title}</h3>
                                            <p className="mt-1 text-sm text-gray-400">{issue.date}</p>
                                        </div>
                                        <div className="flex items-center gap-2">
                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                issue.severity === 'High' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                issue.severity === 'Medium' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                                'bg-blue-500/10 text-blue-400 border-blue-500/20'
                                            }`}>
                                                {issue.severity}
                                            </span>
                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                                issue.status === 'Open' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                                'bg-blue-500/10 text-blue-400 border-blue-500/20'
                                            }`}>
                                                {issue.status}
                                            </span>
                                            <button
                                                onClick={() => handleDelete(issue.id, 'issues')}
                                                className="p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                title="Delete entry"
                                            >
                                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                    <p className="text-sm text-gray-300 mb-4">{issue.description}</p>
                                    <div className="bg-red-500/5 border border-red-500/20 rounded-lg p-3 mb-3">
                                        <div className="text-xs text-red-400 mb-2">Blocked Items</div>
                                        <div className="flex flex-wrap gap-2">
                                            {issue.blockedItems.map((item, idx) => (
                                                <span key={idx} className="inline-flex items-center rounded bg-red-500/10 px-2 py-1 text-xs text-red-400">
                                                    {item}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                    <div className="bg-gray-900 rounded-lg p-3">
                                        <div className="text-xs text-gray-500 mb-1">Resolution Plan</div>
                                        <div className="text-sm text-gray-300">{issue.resolution}</div>
                                    </div>
                                    <div className="mt-3 text-sm text-gray-400">
                                        Owner: <span className="text-white">{issue.owner}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Add Entry Modal */}
                    {showAddModal && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50" onClick={handleCloseModal}>
                            <div className="bg-gray-800 rounded-lg border border-gray-700 p-6 max-w-2xl w-full mx-4" onClick={(e) => e.stopPropagation()}>
                                <div className="flex items-center justify-between mb-6">
                                    <h2 className="text-2xl font-bold text-white">
                                        Add Entry to {tabs.find(t => t.id === activeTab)?.name}
                                    </h2>
                                    <button 
                                        onClick={handleCloseModal}
                                        className="text-gray-400 hover:text-white transition-colors"
                                    >
                                        <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                        </svg>
                                    </button>
                                </div>

                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-2">Title *</label>
                                        <input
                                            type="text"
                                            value={newEntry.title}
                                            onChange={(e) => setNewEntry({...newEntry, title: e.target.value})}
                                            className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none"
                                            placeholder="Enter a clear, descriptive title"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-300 mb-2">Description *</label>
                                        <textarea
                                            value={newEntry.description}
                                            onChange={(e) => setNewEntry({...newEntry, description: e.target.value})}
                                            rows={4}
                                            className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none"
                                            placeholder="Provide details, context, and any relevant information"
                                        />
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Owner *</label>
                                            <input
                                                type="text"
                                                value={newEntry.owner}
                                                onChange={(e) => setNewEntry({...newEntry, owner: e.target.value})}
                                                className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none"
                                                placeholder="Who is responsible?"
                                            />
                                        </div>

                                        <div>
                                            <label className="block text-sm font-medium text-gray-300 mb-2">Date</label>
                                            <input
                                                type="date"
                                                value={newEntry.date}
                                                onChange={(e) => setNewEntry({...newEntry, date: e.target.value})}
                                                className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white focus:border-accent-500 focus:outline-none"
                                            />
                                        </div>
                                    </div>

                                    <div className="bg-gray-900 rounded-lg p-3">
                                        <p className="text-xs text-gray-400">
                                            üí° <span className="font-semibold">Tip:</span> In production, ARQEYE will automatically capture most entries from meeting transcripts. Manual entry is for items discussed outside formal meetings.
                                        </p>
                                    </div>
                                </div>

                                <div className="flex items-center justify-end gap-3 mt-6">
                                    <button
                                        onClick={handleCloseModal}
                                        className="rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-sm font-semibold text-white hover:bg-gray-600 transition-colors"
                                    >
                                        Cancel
                                    </button>
                                    <button
                                        onClick={handleSaveEntry}
                                        disabled={!newEntry.title || !newEntry.description || !newEntry.owner}
                                        className="rounded-lg bg-accent-500 px-4 py-2 text-sm font-semibold text-gray-900 hover:bg-accent-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                    >
                                        Save Entry
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Settings Page
        function ArqEyeSettings({ deletedItems: propsDeletedItems, setDeletedItems: propsSetDeletedItems, handleRestoreFromBin }) {
            const [participationMode, setParticipationMode] = useState('advisor');
            const [confidenceThreshold, setConfidenceThreshold] = useState(70);
            const [enabledMeetingTypes, setEnabledMeetingTypes] = useState({
                'Architecture Reviews': true,
                'Design Discussions': true,
                'Technical Debt Planning': true,
                'Sprint Planning': false,
                'Retrospectives': false,
                'Daily Standups': false,
                'Cloud Migration Planning': true,
                'Security Reviews': true,
            });

            // Use props if provided, otherwise fallback to localStorage
            const [localDeletedItems, setLocalDeletedItems] = useState(() => {
                const saved = localStorage.getItem('arqeye_bin');
                return saved ? JSON.parse(saved) : [];
            });

            React.useEffect(() => {
                if (!propsDeletedItems) {
                    const interval = setInterval(() => {
                        const saved = localStorage.getItem('arqeye_bin');
                        setLocalDeletedItems(saved ? JSON.parse(saved) : []);
                    }, 2000);
                    return () => clearInterval(interval);
                }
            }, [propsDeletedItems]);

            const deletedItems = propsDeletedItems || localDeletedItems;
            const setDeletedItems = propsSetDeletedItems || ((items) => {
                setLocalDeletedItems(items);
                localStorage.setItem('arqeye_bin', JSON.stringify(items));
            });

            const handleRestore = (deletedItem) => {
                if (!confirm('Restore this entry? It will be moved back to its original location.')) return;
                
                const itemType = deletedItem.itemType || deletedItem.registerType;
                
                // Try to restore via parent handler (for Applications)
                if (handleRestoreFromBin && handleRestoreFromBin(deletedItem)) {
                    // Successfully restored by parent
                    if (itemType === 'Application') {
                        alert('‚úì Application restored successfully!\n\nYou can now find it in the Applications page.');
                    }
                    return;
                }
                
                // Fall back to localStorage-based restore (for Decisions items)
                const updated = deletedItems.filter(item => 
                    !(item.id === deletedItem.id && (item.itemType || item.registerType) === (deletedItem.itemType || deletedItem.registerType))
                );
                setDeletedItems(updated);
                
                alert('‚úì Entry restored successfully!\n\nYou can now find it in the Decisions page.');
            };

            const handlePermanentDelete = (deletedItem) => {
                if (!confirm('‚ö†Ô∏è PERMANENTLY delete this entry? This action cannot be undone and will bypass the 30-day retention period.')) return;
                
                const updated = deletedItems.filter(item => 
                    !(item.id === deletedItem.id && (item.itemType || item.registerType) === (deletedItem.itemType || deletedItem.registerType))
                );
                setDeletedItems(updated);
            };

            const handleApproveDelete = (deletedItem) => {
                if (!confirm('Approve permanent deletion of this entry? (Senior Architect Action)')) return;
                
                const updated = deletedItems.filter(item => 
                    !(item.id === deletedItem.id && (item.itemType || item.registerType) === (deletedItem.itemType || deletedItem.registerType))
                );
                setDeletedItems(updated);
            };

            const getDaysInBin = (deletedAt) => {
                const deleted = new Date(deletedAt);
                const now = new Date();
                const days = Math.floor((now - deleted) / (1000 * 60 * 60 * 24));
                return days;
            };

            const getItemTypeLabel = (itemType) => {
                const labels = {
                    'all': 'Decision',
                    'insights': 'Meeting Insight',
                    'tech-debt': 'Technical Debt',
                    'risk': 'Risk',
                    'action-items': 'Action Item',
                    'assumptions': 'Assumption',
                    'constraints': 'Constraint',
                    'dependencies': 'Dependency',
                    'issues': 'Issue',
                    'Application': 'Application'
                };
                return labels[itemType] || itemType;
            };

            const getItemTypeStyle = (itemType) => {
                const styles = {
                    'all': { bg: 'bg-blue-500/10', text: 'text-blue-400', border: 'border-blue-500/20', icon: 'üìã' },
                    'insights': { bg: 'bg-purple-500/10', text: 'text-purple-400', border: 'border-purple-500/20', icon: 'üß†' },
                    'tech-debt': { bg: 'bg-yellow-500/10', text: 'text-yellow-400', border: 'border-yellow-500/20', icon: '‚ö†Ô∏è' },
                    'risk': { bg: 'bg-orange-500/10', text: 'text-orange-400', border: 'border-orange-500/20', icon: '‚ö°' },
                    'action-items': { bg: 'bg-green-500/10', text: 'text-green-400', border: 'border-green-500/20', icon: '‚úì' },
                    'assumptions': { bg: 'bg-cyan-500/10', text: 'text-cyan-400', border: 'border-cyan-500/20', icon: 'üí≠' },
                    'constraints': { bg: 'bg-red-500/10', text: 'text-red-400', border: 'border-red-500/20', icon: 'üîí' },
                    'dependencies': { bg: 'bg-indigo-500/10', text: 'text-indigo-400', border: 'border-indigo-500/20', icon: 'üîó' },
                    'issues': { bg: 'bg-red-500/10', text: 'text-red-400', border: 'border-red-500/20', icon: 'üö®' },
                    'Application': { bg: 'bg-accent-500/10', text: 'text-accent-400', border: 'border-accent-500/20', icon: 'üì±' }
                };
                return styles[itemType] || { bg: 'bg-gray-500/10', text: 'text-gray-400', border: 'border-gray-500/20', icon: 'üìÑ' };
            };

            const participationModes = [
                {
                    id: 'observer',
                    name: 'Observer',
                    description: 'Listen only, never speak. Build knowledge base silently.',
                },
                {
                    id: 'advisor',
                    name: 'Advisor',
                    badge: 'Recommended',
                    description: 'Speak when asked or when confusion is detected. Provide guidance when team needs help.',
                },
                {
                    id: 'participant',
                    name: 'Participant',
                    description: 'Actively contribute to discussions. Offer suggestions proactively when relevant.',
                },
                {
                    id: 'facilitator',
                    name: 'Facilitator',
                    description: 'Lead discussions, ensure decisions are made, track action items, guide conversation.',
                },
            ];

            const toggleMeetingType = (type) => {
                setEnabledMeetingTypes(prev => ({
                    ...prev,
                    [type]: !prev[type]
                }));
            };

            const resetToDefaults = () => {
                setParticipationMode('advisor');
                setConfidenceThreshold(70);
                setEnabledMeetingTypes({
                    'Architecture Reviews': true,
                    'Design Discussions': true,
                    'Technical Debt Planning': true,
                    'Sprint Planning': false,
                    'Retrospectives': false,
                    'Daily Standups': false,
                    'Cloud Migration Planning': true,
                    'Security Reviews': true,
                });
            };

            return (
                <div className="space-y-8 max-w-4xl">
                    {/* Header */}
                    <div>
                        <h1 className="text-3xl font-bold text-white">ARQEYE Configuration</h1>
                        <p className="mt-1 text-gray-400">Control how ARQEYE behaves in meetings</p>
                    </div>

                    {/* Participation Mode */}
                    <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                        <div className="flex items-center gap-2 mb-4">
                            <span className="text-2xl">ü§ñ</span>
                            <h2 className="text-xl font-semibold text-white">Participation Mode</h2>
                        </div>
                        <p className="text-sm text-gray-400 mb-6">Choose how actively ARQEYE participates in meetings</p>
                        
                        <div className="space-y-3">
                            {participationModes.map((mode) => (
                                <label
                                    key={mode.id}
                                    className={`mode-card flex items-start gap-4 p-4 rounded-lg cursor-pointer ${
                                        participationMode === mode.id ? 'active' : ''
                                    }`}
                                    onClick={() => setParticipationMode(mode.id)}
                                >
                                    <input
                                        type="radio"
                                        name="participationMode"
                                        value={mode.id}
                                        checked={participationMode === mode.id}
                                        onChange={() => setParticipationMode(mode.id)}
                                        className="mt-1"
                                    />
                                    <div className="flex-1">
                                        <div className="flex items-center gap-2">
                                            <span className="text-sm font-semibold text-white">{mode.name}</span>
                                            {mode.badge && (
                                                <span className="inline-flex items-center rounded-full bg-accent-500/20 border border-accent-500/30 px-2 py-0.5 text-xs font-medium text-accent-500">
                                                    {mode.badge}
                                                </span>
                                            )}
                                        </div>
                                        <p className="text-xs text-gray-400 mt-1">{mode.description}</p>
                                    </div>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* Confidence Threshold */}
                    <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                        <div className="flex items-center gap-2 mb-4">
                            <span className="text-2xl">üéØ</span>
                            <h2 className="text-xl font-semibold text-white">Confidence Threshold</h2>
                        </div>
                        <p className="text-sm text-gray-400 mb-6">
                            ARQEYE will only speak if confidence ‚â• {confidenceThreshold}%
                        </p>
                        
                        <div className="space-y-4">
                            <div className="flex items-center gap-4">
                                <span className="text-sm text-gray-500 w-12">Low</span>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value={confidenceThreshold}
                                    onChange={(e) => setConfidenceThreshold(parseInt(e.target.value))}
                                    className="flex-1"
                                />
                                <span className="text-sm text-gray-500 w-12 text-right">High</span>
                            </div>
                            
                            <div className="flex items-center justify-between text-xs text-gray-500">
                                <span>0%</span>
                                <span className="text-lg font-bold text-accent-500">{confidenceThreshold}%</span>
                                <span>100%</span>
                            </div>
                            
                            <div className="bg-gray-900 rounded-lg p-3">
                                <p className="text-xs text-gray-400">
                                    üí° <span className="font-medium">Higher threshold</span> = fewer but more confident responses. <span className="font-medium">Lower threshold</span> = more suggestions but may include uncertain advice.
                                </p>
                            </div>
                        </div>
                    </div>

                    {/* Enabled Meeting Types */}
                    <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                        <div className="flex items-center gap-2 mb-4">
                            <span className="text-2xl">üìÖ</span>
                            <h2 className="text-xl font-semibold text-white">Enabled Meeting Types</h2>
                        </div>
                        <p className="text-sm text-gray-400 mb-6">ARQEYE will only join these meeting types</p>
                        
                        <div className="grid grid-cols-2 gap-3">
                            {Object.entries(enabledMeetingTypes).map(([type, enabled]) => (
                                <label
                                    key={type}
                                    className="flex items-center gap-3 p-3 rounded-lg border border-gray-700 hover:border-gray-600 cursor-pointer transition-colors"
                                >
                                    <input
                                        type="checkbox"
                                        checked={enabled}
                                        onChange={() => toggleMeetingType(type)}
                                        className="rounded border-gray-600 bg-gray-700 text-accent-500 focus:ring-accent-500 focus:ring-offset-gray-800"
                                    />
                                    <span className="text-sm text-gray-300">{type}</span>
                                </label>
                            ))}
                        </div>
                    </div>

                    {/* Recycle Bin */}
                    <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                        <div className="flex items-center justify-between mb-4">
                            <div className="flex items-center gap-2">
                                <span className="text-2xl">üóëÔ∏è</span>
                                <h2 className="text-xl font-semibold text-white">Recycle Bin</h2>
                                <span className="inline-flex items-center rounded-full bg-red-500/20 border border-red-500/30 px-2 py-1 text-xs font-medium text-red-400">
                                    {deletedItems.length} items
                                </span>
                            </div>
                            <span className="text-sm text-gray-400">
                                30-day retention period
                            </span>
                        </div>
                        <p className="text-sm text-gray-400 mb-6">
                            Deleted entries are retained for 30 days pending senior architect approval. Items can be restored or permanently deleted.
                        </p>

                        {deletedItems.length === 0 ? (
                            <div className="bg-gray-900/50 rounded-lg p-8 text-center">
                                <div className="text-4xl mb-2">‚ú®</div>
                                <p className="text-gray-500 text-sm">Recycle bin is empty</p>
                                <p className="text-gray-600 text-xs mt-1">Deleted items will appear here</p>
                            </div>
                        ) : (
                            <div className="space-y-3 max-h-96 overflow-y-auto">
                                {deletedItems.map((item, idx) => {
                                    const daysInBin = getDaysInBin(item.deletedAt);
                                    const daysRemaining = 30 - daysInBin;
                                    const isExpiringSoon = daysRemaining <= 7;
                                    const typeStyle = getItemTypeStyle(item.itemType || item.registerType);
                                    
                                    return (
                                        <div key={idx} className={`bg-gray-900/50 border rounded-lg p-4 ${typeStyle.border}`}>
                                            <div className="flex items-start justify-between mb-3">
                                                <div className="flex-1">
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <span className="text-lg">{typeStyle.icon}</span>
                                                        <h3 className="text-sm font-semibold text-white">{item.title || item.name}</h3>
                                                        <span className={`inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium ${typeStyle.bg} ${typeStyle.text} ${typeStyle.border}`}>
                                                            {getItemTypeLabel(item.itemType || item.registerType)}
                                                        </span>
                                                    </div>
                                                    <p className="text-xs text-gray-400 line-clamp-2">
                                                        {item.description || item.summary || item.context || item.insight || 'No description'}
                                                    </p>
                                                </div>
                                                <div className="flex items-center gap-2 ml-4">
                                                    <button
                                                        onClick={() => handleRestore(item)}
                                                        className="p-1.5 rounded hover:bg-green-500/10 text-gray-400 hover:text-green-400 transition-colors"
                                                        title="Restore entry"
                                                    >
                                                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                                        </svg>
                                                    </button>
                                                    <button
                                                        onClick={() => handleApproveDelete(item)}
                                                        className="p-1.5 rounded hover:bg-accent-500/10 text-gray-400 hover:text-accent-400 transition-colors"
                                                        title="Approve deletion (Senior Architect)"
                                                    >
                                                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                                                        </svg>
                                                    </button>
                                                    <button
                                                        onClick={() => handlePermanentDelete(item)}
                                                        className="p-1.5 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                        title="Permanent delete (bypass retention)"
                                                    >
                                                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                                        </svg>
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <div className="flex items-center justify-between text-xs pt-3 border-t border-gray-700">
                                                <div className="flex items-center gap-4 text-gray-500">
                                                    <span>Deleted by: {item.deletedBy}</span>
                                                    <span>‚Ä¢</span>
                                                    <span>{new Date(item.deletedAt).toLocaleDateString()}</span>
                                                    <span>‚Ä¢</span>
                                                    <span>{daysInBin} days in bin</span>
                                                </div>
                                                <span className={`font-medium ${
                                                    isExpiringSoon ? 'text-red-400' : 
                                                    daysRemaining <= 14 ? 'text-yellow-400' : 
                                                    'text-gray-400'
                                                }`}>
                                                    {daysRemaining} days remaining
                                                </span>
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        )}

                        {deletedItems.length > 0 && (
                            <div className="mt-4 bg-blue-500/5 border border-blue-500/20 rounded-lg p-3">
                                <p className="text-xs text-blue-400">
                                    üí° <span className="font-semibold">Tip:</span> Items are automatically deleted after 30 days. Senior architects can approve early deletion or restore items before expiration.
                                </p>
                            </div>
                        )}
                    </div>

                    {/* Action Buttons */}
                    <div className="flex items-center justify-end gap-4">
                        <button
                            onClick={resetToDefaults}
                            className="rounded-lg border border-gray-600 bg-gray-700 px-6 py-2 text-sm font-semibold text-white hover:bg-gray-600 transition-colors"
                        >
                            Reset to Defaults
                        </button>
                        <button className="rounded-lg bg-accent-500 px-6 py-2 text-sm font-semibold text-gray-900 hover:bg-accent-300 transition-colors">
                            Save Settings
                        </button>
                    </div>
                </div>
            );
        }

        // Categories Page - EAM Feature
        function Categories({ setCurrentPage, setSelectedCategory }) {
            const categories = [
                {
                    name: 'SAP S/4HANA',
                    id: 'SAP_S4HANA',
                    decisions: 15,
                    openQuestions: 7,
                    escalations: 3,
                    lastActivity: '2 hours ago',
                    status: 'high-risk',
                    description: 'S/4HANA migration program and architectural decisions'
                },
                {
                    name: 'Integration Architecture',
                    id: 'Integration',
                    decisions: 23,
                    openQuestions: 4,
                    escalations: 1,
                    lastActivity: '5 hours ago',
                    status: 'active',
                    description: 'Enterprise integration patterns, CPI, and middleware decisions'
                },
                {
                    name: 'Data Architecture',
                    id: 'Data',
                    decisions: 12,
                    openQuestions: 2,
                    escalations: 0,
                    lastActivity: '1 day ago',
                    status: 'healthy',
                    description: 'Data governance, MDM, analytics, and data lake architecture'
                },
                {
                    name: 'Security & Compliance',
                    id: 'Security',
                    decisions: 18,
                    openQuestions: 5,
                    escalations: 2,
                    lastActivity: '3 hours ago',
                    status: 'active',
                    description: 'Security architecture, compliance requirements, and authentication'
                },
                {
                    name: 'Cloud Strategy',
                    id: 'Cloud',
                    decisions: 9,
                    openQuestions: 3,
                    escalations: 0,
                    lastActivity: '2 days ago',
                    status: 'healthy',
                    description: 'Cloud migration, AWS/Azure decisions, and cloud-native architecture'
                }
            ];

            return (
                <div className="space-y-6">
                    <div>
                        <h1 className="text-3xl font-bold text-white">Architecture Categories</h1>
                        <p className="mt-1 text-gray-400">Domain-focused architectural activity and governance</p>
                    </div>

                    <div className="grid grid-cols-3 gap-4">
                        <div className="stat-card rounded-lg border border-gray-700 p-4 text-center">
                            <div className="text-3xl font-bold text-white">77</div>
                            <div className="text-sm text-gray-400 mt-1">Total Decisions</div>
                        </div>
                        <div className="stat-card rounded-lg border border-gray-700 p-4 text-center">
                            <div className="text-3xl font-bold text-yellow-400">21</div>
                            <div className="text-sm text-gray-400 mt-1">Open Questions</div>
                        </div>
                        <div className="stat-card rounded-lg border border-gray-700 p-4 text-center">
                            <div className="text-3xl font-bold text-red-400">6</div>
                            <div className="text-sm text-gray-400 mt-1">Active Escalations</div>
                        </div>
                    </div>

                    <div className="grid gap-4">
                        {categories.map((category) => (
                            <div
                                key={category.id}
                                onClick={() => {
                                    setSelectedCategory(category);
                                    setCurrentPage('category-detail');
                                }}
                                className="decision-card rounded-lg p-6 cursor-pointer"
                            >
                                <div className="flex items-start justify-between mb-3">
                                    <div className="flex-1">
                                        <h3 className="text-lg font-semibold text-white">{category.name}</h3>
                                        <p className="text-sm text-gray-400 mt-1">{category.description}</p>
                                    </div>
                                    <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                        category.status === 'high-risk' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                        category.status === 'active' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                        'bg-green-500/10 text-green-400 border-green-500/20'
                                    }`}>
                                        {category.status === 'high-risk' ? `${category.escalations} risks` :
                                         category.status === 'active' ? 'Active' : 'Aligned'}
                                    </span>
                                </div>
                                <div className="grid grid-cols-4 gap-4 text-sm">
                                    <div>
                                        <span className="text-gray-500">Decisions</span>
                                        <p className="font-semibold text-white mt-1">{category.decisions}</p>
                                    </div>
                                    <div>
                                        <span className="text-gray-500">Questions</span>
                                        <p className="font-semibold text-white mt-1">{category.openQuestions}</p>
                                    </div>
                                    <div>
                                        <span className="text-gray-500">Escalations</span>
                                        <p className="font-semibold text-accent-500 mt-1">{category.escalations}</p>
                                    </div>
                                    <div>
                                        <span className="text-gray-500">Last Activity</span>
                                        <p className="font-semibold text-white mt-1">{category.lastActivity}</p>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // Category Detail Page - EAM Feature
        function CategoryDetail({ category, setCurrentPage, setSelectedDecision }) {
            const decisions = [
                {
                    id: 'DEC-2026-047',
                    title: 'S/4HANA migration timeline conflict',
                    type: 'ESCALATE',
                    confidence: 92,
                    summary: 'Finance requires Q3 2026 go-live for regulatory compliance (IFRS 17), but IT estimates Q4 2026 based on current resource allocation.',
                    date: 'Jan 27, 2026 14:23',
                    evidenceCount: 8,
                    meeting: 'FY26 SAP Planning Session'
                },
                {
                    id: 'DEC-2026-046',
                    title: 'Fiori app architecture pattern deviation',
                    type: 'CLARIFY',
                    confidence: 88,
                    summary: 'Team proposing custom UI5 components instead of standard Fiori elements.',
                    date: 'Jan 27, 2026 11:15',
                    evidenceCount: 5,
                    meeting: 'SAP Fiori Development Review'
                },
                {
                    id: 'DEC-2026-045',
                    title: 'S/4HANA embedded analytics confirmed',
                    type: 'RESPOND',
                    confidence: 94,
                    summary: 'Proposed SAP Analytics Cloud with embedded BW/4HANA aligns with enterprise principles.',
                    date: 'Jan 26, 2026 16:45',
                    evidenceCount: 6,
                    meeting: 'BI/Analytics Architecture Review'
                }
            ];

            return (
                <div className="space-y-6">
                    <div>
                        <button
                            onClick={() => setCurrentPage('categories')}
                            className="flex items-center gap-2 text-accent-500 hover:text-accent-300 mb-4"
                        >
                            <Icons.ChevronLeft />
                            Back to Categories
                        </button>
                        <div className="flex items-start justify-between">
                            <div>
                                <h1 className="text-3xl font-bold text-white">{category.name}</h1>
                                <p className="mt-1 text-gray-400">{category.description}</p>
                            </div>
                            <span className="inline-flex items-center rounded-full bg-red-500/10 text-red-400 border border-red-500/20 px-4 py-2 text-base font-medium">
                                {category.escalations} Active Risks
                            </span>
                        </div>
                    </div>

                    <div className="grid grid-cols-3 gap-4">
                        <div className="stat-card rounded-lg border border-gray-700 p-4 text-center">
                            <div className="text-3xl font-bold text-blue-400">{category.decisions}</div>
                            <div className="text-sm text-gray-400 mt-1">Total Decisions</div>
                        </div>
                        <div className="stat-card rounded-lg border border-gray-700 p-4 text-center">
                            <div className="text-3xl font-bold text-yellow-400">{category.openQuestions}</div>
                            <div className="text-sm text-gray-400 mt-1">Open Questions</div>
                        </div>
                        <div className="stat-card rounded-lg border border-gray-700 p-4 text-center">
                            <div className="text-3xl font-bold text-red-400">{category.escalations}</div>
                            <div className="text-sm text-gray-400 mt-1">Escalations</div>
                        </div>
                    </div>

                    <div>
                        <h2 className="text-xl font-semibold text-white mb-4">Recent Activity</h2>
                        <div className="space-y-4">
                            {decisions.map((decision) => (
                                <div
                                    key={decision.id}
                                    onClick={() => {
                                        setSelectedDecision(decision);
                                        setCurrentPage('decision-detail');
                                    }}
                                    className={`decision-card rounded-lg p-6 cursor-pointer border-l-4 ${
                                        decision.type === 'ESCALATE' ? 'border-red-500' :
                                        decision.type === 'CLARIFY' ? 'border-yellow-500' :
                                        'border-green-500'
                                    }`}
                                >
                                    <div className="flex items-start justify-between mb-3">
                                        <div className="flex-1">
                                            <h3 className="font-medium text-white">{decision.title}</h3>
                                            <p className="text-xs text-gray-500 mt-1">{decision.meeting}</p>
                                        </div>
                                        <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                            decision.type === 'ESCALATE' ? 'bg-red-500/10 text-red-400 border-red-500/20' :
                                            decision.type === 'CLARIFY' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' :
                                            'bg-green-500/10 text-green-400 border-green-500/20'
                                        }`}>
                                            {decision.type}
                                        </span>
                                    </div>
                                    <p className="text-sm text-gray-300 mb-3">{decision.summary}</p>
                                    <div className="flex items-center gap-4 text-xs text-gray-500">
                                        <span>üìÖ {decision.date}</span>
                                        <span>üîç Confidence: {decision.confidence}%</span>
                                        <span>üìä Evidence: {decision.evidenceCount} segments</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // Decision Detail with Evidence Window - EAM Feature
        function DecisionDetail({ decision, setCurrentPage }) {
            const transcriptLines = [
                { speaker: 'Sarah Chen (CFO)', time: '[00:12:34]', content: 'We need to discuss the S/4HANA go-live date. From Finance\'s perspective, we have a hard deadline.', highlighted: false },
                { speaker: 'Sarah Chen', time: '[00:12:41]', content: 'IFRS 17 goes into effect January 1st, 2027. We need the new system operational in Q3 2026 to allow time for year-end close testing and auditor sign-off.', highlighted: true },
                { speaker: 'Sarah Chen', time: '[00:12:58]', content: 'This isn\'t negotiable - if we miss this, we face regulatory penalties and potential audit qualifications.', highlighted: true },
                { speaker: 'James Rodriguez (CIO)', time: '[00:13:15]', content: 'I understand the regulatory pressure, but we need to be realistic about what\'s achievable.', highlighted: false },
                { speaker: 'James Rodriguez', time: '[00:13:22]', content: 'Based on our current resource plan and the testing requirements we discussed last month, IT is estimating Q4 2026 for production go-live.', highlighted: true },
                { speaker: 'James Rodriguez', time: '[00:13:35]', content: 'We\'re already running two other major initiatives - the CRM replacement and the cybersecurity remediation project.', highlighted: true },
                { speaker: 'Sarah Chen', time: '[00:13:48]', content: 'Can we bring in external consultants to accelerate?', highlighted: false },
                { speaker: 'James Rodriguez', time: '[00:13:52]', content: 'Potentially, but that would require additional budget approval and there\'s a ramp-up time. We\'d still be looking at late Q3 at the earliest.', highlighted: true }
            ];

            return (
                <div className="space-y-6">
                    <div>
                        <button
                            onClick={() => setCurrentPage('decisions')}
                            className="flex items-center gap-2 text-accent-500 hover:text-accent-300 mb-4"
                        >
                            <Icons.ChevronLeft />
                            Back to Decisions
                        </button>
                        <div className="flex items-start justify-between">
                            <div>
                                <h1 className="text-2xl font-bold text-white">Decision {decision?.id || 'DEC-2026-047'}</h1>
                                <p className="text-gray-400 mt-1">SAP S/4HANA Migration Timeline Conflict</p>
                            </div>
                            <span className="inline-flex items-center rounded-full bg-red-500/10 text-red-400 border border-red-500/20 px-4 py-2 text-lg font-medium">ESCALATE</span>
                        </div>
                    </div>

                    <div className="stat-card rounded-lg border border-gray-700 p-4">
                        <div className="grid grid-cols-5 gap-4 text-sm">
                            <div>
                                <div className="text-gray-500 mb-1">Category</div>
                                <div className="font-semibold text-white">SAP_S4HANA</div>
                            </div>
                            <div>
                                <div className="text-gray-500 mb-1">Confidence</div>
                                <div className="font-semibold text-green-400">92%</div>
                            </div>
                            <div>
                                <div className="text-gray-500 mb-1">Evidence Score</div>
                                <div className="font-semibold text-blue-400">8 segments</div>
                            </div>
                            <div>
                                <div className="text-gray-500 mb-1">Timestamp</div>
                                <div className="font-semibold text-white">Jan 27, 14:23</div>
                            </div>
                            <div>
                                <div className="text-gray-500 mb-1">Meeting</div>
                                <div className="font-semibold text-accent-500 cursor-pointer hover:text-accent-300">FY26 SAP Planning</div>
                            </div>
                        </div>
                    </div>

                    <div className="grid grid-cols-2 gap-6">
                        {/* Left: What ArqEye Did */}
                        <div className="decision-card rounded-lg p-6">
                            <h3 className="text-lg font-semibold text-white mb-4">What ArqEye Did</h3>
                            
                            <div className="mb-6">
                                <div className="text-sm font-medium text-gray-400 mb-2">Summary</div>
                                <p className="text-gray-300">Finance and IT stakeholders have conflicting timelines for SAP S/4HANA go-live. Finance requires Q3 2026 for IFRS 17 regulatory compliance, while IT estimates Q4 2026 based on current resource allocation and testing requirements.</p>
                            </div>

                            <div className="mb-6">
                                <div className="text-sm font-medium text-gray-400 mb-2">Action Taken</div>
                                <div className="p-3 bg-red-500/10 border-l-4 border-red-500 rounded">
                                    <div className="font-semibold text-red-400">ESCALATE</div>
                                    <p className="text-sm text-gray-300 mt-1">Critical timeline conflict requiring executive decision</p>
                                </div>
                            </div>

                            <div className="mb-6">
                                <div className="text-sm font-medium text-gray-400 mb-2">Reason Code</div>
                                <code className="text-xs bg-gray-700 p-2 rounded block text-accent-500 font-mono">CONFLICTING_STAKEHOLDER_REQUIREMENTS</code>
                                <p className="text-xs text-gray-400 mt-2">Two departments with valid but incompatible constraints. Requires senior leadership arbitration.</p>
                            </div>

                            <div className="mb-6">
                                <div className="text-sm font-medium text-gray-400 mb-2">Why ArqEye Spoke</div>
                                <ul className="text-sm text-gray-300 space-y-2">
                                    <li className="flex items-start gap-2">
                                        <span className="text-green-400 mt-1">‚úì</span>
                                        <span>High confidence (92%) based on explicit timeline statements</span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <span className="text-green-400 mt-1">‚úì</span>
                                        <span>Regulatory deadline (IFRS 17) is non-negotiable</span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <span className="text-green-400 mt-1">‚úì</span>
                                        <span>Resource constraint validated against project portfolio</span>
                                    </li>
                                    <li className="flex items-start gap-2">
                                        <span className="text-green-400 mt-1">‚úì</span>
                                        <span>No attendee acknowledged the conflict - requires intervention</span>
                                    </li>
                                </ul>
                            </div>

                            <div>
                                <div className="text-sm font-medium text-gray-400 mb-2">Recommended Actions</div>
                                <ol className="text-sm text-gray-300 space-y-2 list-decimal list-inside">
                                    <li>Escalate to CFO + CIO for joint decision</li>
                                    <li>Evaluate accelerated migration options</li>
                                    <li>Assess regulatory penalty risk vs. quality trade-offs</li>
                                    <li>Document decision rationale for audit trail</li>
                                </ol>
                            </div>
                        </div>

                        {/* Right: Evidence Window */}
                        <div className="decision-card rounded-lg p-6">
                            <h3 className="text-lg font-semibold text-white mb-4">Evidence</h3>
                            
                            <div className="mb-3">
                                <div className="text-sm font-medium text-gray-400 mb-2">Transcript Window</div>
                                <div className="text-xs text-gray-500 mb-3">Meeting: FY26 SAP Planning Session | Jan 27, 2026</div>
                                
                                <div className="bg-gray-900 rounded-lg p-4 max-h-[500px] overflow-y-auto scrollbar-thin font-mono text-xs border border-gray-700">
                                    {transcriptLines.map((line, idx) => (
                                        <div key={idx} className={`transcript-line py-2 border-l-3 pl-3 ${line.highlighted ? 'bg-accent-500/10 border-l-accent-500' : 'border-l-transparent'}`}>
                                            <div className="text-xs text-gray-500">{line.time} <span className="text-accent-500">{line.speaker}</span></div>
                                            <div className="text-sm text-gray-200 mt-1">{line.content}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="mt-4">
                                <div className="text-sm font-medium text-gray-400 mb-2">Referenced Entities</div>
                                <div className="flex flex-wrap gap-2">
                                    <span className="inline-flex items-center rounded-full bg-blue-500/10 text-blue-400 border border-blue-500/20 px-3 py-1 text-xs cursor-pointer hover:bg-blue-500/20">SAP S/4HANA</span>
                                    <span className="inline-flex items-center rounded-full bg-blue-500/10 text-blue-400 border border-blue-500/20 px-3 py-1 text-xs cursor-pointer hover:bg-blue-500/20">IFRS 17 Compliance</span>
                                    <span className="inline-flex items-center rounded-full bg-blue-500/10 text-blue-400 border border-blue-500/20 px-3 py-1 text-xs cursor-pointer hover:bg-blue-500/20">CRM Replacement</span>
                                    <span className="inline-flex items-center rounded-full bg-blue-500/10 text-blue-400 border border-blue-500/20 px-3 py-1 text-xs cursor-pointer hover:bg-blue-500/20">Cybersecurity Remediation</span>
                                </div>
                            </div>

                            <div className="mt-4">
                                <div className="text-sm font-medium text-gray-400 mb-2">Participants</div>
                                <div className="space-y-2 text-sm">
                                    <div className="flex items-center gap-2">
                                        <div className="w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center text-purple-400 text-xs font-semibold">SC</div>
                                        <div>
                                            <div className="font-medium text-white">Sarah Chen</div>
                                            <div className="text-xs text-gray-500">Chief Financial Officer</div>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <div className="w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center text-blue-400 text-xs font-semibold">JR</div>
                                        <div>
                                            <div className="font-medium text-white">James Rodriguez</div>
                                            <div className="text-xs text-gray-500">Chief Information Officer</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Interfaces Page - EAM Feature  
        function Interfaces() {
            const [sourceFilter, setSourceFilter] = useState('all');
            const [targetFilter, setTargetFilter] = useState('all');
            const [typeFilter, setTypeFilter] = useState('all');
            const [frequencyFilter, setFrequencyFilter] = useState('all');

            const interfaces = [
                { id: 'IF-CRM-001', name: 'Customer Master Sync', source: 'SAP S/4HANA', target: 'Salesforce', type: 'OData API', frequency: 'Real-time', technology: 'SAP CPI', status: 'active', mentions: 12 },
                { id: 'IF-ORD-002', name: 'Sales Order Creation', source: 'Salesforce', target: 'SAP S/4HANA', type: 'REST API', frequency: 'Real-time', technology: 'SAP CPI', status: 'active', mentions: 8 },
                { id: 'IF-HR-003', name: 'Employee Data Feed', source: 'SuccessFactors', target: 'SAP S/4HANA', type: 'File (SFTP)', frequency: 'Daily', technology: 'SAP CPI', status: 'active', mentions: 15 },
                { id: 'IF-PRD-004', name: 'Product Catalogue Sync', source: 'SAP S/4HANA', target: 'Salesforce', type: 'Event (Kafka)', frequency: 'Real-time', technology: 'AWS EventBridge', status: 'active', mentions: 19 },
                { id: 'IF-FIN-005', name: 'Financial Reporting Extract', source: 'SAP S/4HANA', target: 'SAP Analytics Cloud', type: 'OData API', frequency: 'Hourly', technology: 'Direct OData', status: 'active', mentions: 7 }
            ];

            // Get unique values for filters
            const uniqueSources = [...new Set(interfaces.map(i => i.source))];
            const uniqueTargets = [...new Set(interfaces.map(i => i.target))];
            const uniqueTypes = [...new Set(interfaces.map(i => i.type))];
            const uniqueFrequencies = [...new Set(interfaces.map(i => i.frequency))];

            // Filter interfaces
            const filteredInterfaces = interfaces.filter(iface => {
                const matchesSource = sourceFilter === 'all' || iface.source === sourceFilter;
                const matchesTarget = targetFilter === 'all' || iface.target === targetFilter;
                const matchesType = typeFilter === 'all' || iface.type === typeFilter;
                const matchesFrequency = frequencyFilter === 'all' || iface.frequency === frequencyFilter;
                
                return matchesSource && matchesTarget && matchesType && matchesFrequency;
            });

            return (
                <div className="space-y-6">
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="text-3xl font-bold text-white">Interface Catalogue</h1>
                            <p className="mt-1 text-gray-400">Integration architecture and data flows</p>
                        </div>
                        <span className="text-sm text-gray-400">
                            Showing {filteredInterfaces.length} of {interfaces.length} interfaces
                        </span>
                    </div>

                    <div className="decision-card rounded-lg p-4">
                        <div className="grid grid-cols-4 gap-4">
                            <select 
                                value={sourceFilter}
                                onChange={(e) => setSourceFilter(e.target.value)}
                                className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                            >
                                <option value="all">All Sources</option>
                                {uniqueSources.map(source => (
                                    <option key={source} value={source}>{source}</option>
                                ))}
                            </select>
                            <select 
                                value={targetFilter}
                                onChange={(e) => setTargetFilter(e.target.value)}
                                className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                            >
                                <option value="all">All Targets</option>
                                {uniqueTargets.map(target => (
                                    <option key={target} value={target}>{target}</option>
                                ))}
                            </select>
                            <select 
                                value={typeFilter}
                                onChange={(e) => setTypeFilter(e.target.value)}
                                className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                            >
                                <option value="all">All Types</option>
                                {uniqueTypes.map(type => (
                                    <option key={type} value={type}>{type}</option>
                                ))}
                            </select>
                            <select 
                                value={frequencyFilter}
                                onChange={(e) => setFrequencyFilter(e.target.value)}
                                className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                            >
                                <option value="all">All Frequencies</option>
                                {uniqueFrequencies.map(freq => (
                                    <option key={freq} value={freq}>{freq}</option>
                                ))}
                            </select>
                        </div>
                        {(sourceFilter !== 'all' || targetFilter !== 'all' || typeFilter !== 'all' || frequencyFilter !== 'all') && (
                            <div className="mt-3 flex items-center justify-end">
                                <button
                                    onClick={() => {
                                        setSourceFilter('all');
                                        setTargetFilter('all');
                                        setTypeFilter('all');
                                        setFrequencyFilter('all');
                                    }}
                                    className="text-sm text-accent-500 hover:text-accent-300 transition-colors"
                                >
                                    Clear filters
                                </button>
                            </div>
                        )}
                    </div>

                    {filteredInterfaces.length === 0 ? (
                        <div className="decision-card rounded-lg p-12 text-center">
                            <div className="text-4xl mb-3">üîç</div>
                            <p className="text-gray-400">No interfaces match the selected filters</p>
                            <p className="text-sm text-gray-500 mt-1">Try adjusting your filter criteria</p>
                        </div>
                    ) : (
                        <div className="decision-card rounded-lg overflow-hidden">
                            <div className="overflow-x-auto">
                                <table className="w-full">
                                    <thead className="bg-gray-800 border-b border-gray-700">
                                        <tr>
                                            <th className="text-left py-3 px-4 text-sm font-semibold text-gray-300">Interface</th>
                                            <th className="text-left py-3 px-4 text-sm font-semibold text-gray-300">Source ‚Üí Target</th>
                                            <th className="text-left py-3 px-4 text-sm font-semibold text-gray-300">Type</th>
                                            <th className="text-left py-3 px-4 text-sm font-semibold text-gray-300">Frequency</th>
                                            <th className="text-left py-3 px-4 text-sm font-semibold text-gray-300">Technology</th>
                                            <th className="text-left py-3 px-4 text-sm font-semibold text-gray-300">Evidence</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-gray-700">
                                        {filteredInterfaces.map((iface) => (
                                            <tr key={iface.id} className="hover:bg-gray-700/30 cursor-pointer transition-colors">
                                                <td className="py-3 px-4">
                                                    <div className="font-medium text-white text-sm">{iface.name}</div>
                                                    <div className="text-xs text-gray-500">{iface.id}</div>
                                                </td>
                                                <td className="py-3 px-4 text-sm text-gray-300">{iface.source} ‚Üí {iface.target}</td>
                                                <td className="py-3 px-4">
                                                    <span className={`inline-flex items-center rounded-full border px-2 py-1 text-xs font-medium ${
                                                        iface.type.includes('API') ? 'bg-blue-500/10 text-blue-400 border-blue-500/20' :
                                                        iface.type.includes('File') ? 'bg-green-500/10 text-green-400 border-green-500/20' :
                                                        'bg-accent-500/10 text-accent-400 border-accent-500/20'
                                                    }`}>
                                                        {iface.type}
                                                    </span>
                                                </td>
                                                <td className="py-3 px-4 text-sm text-gray-300">{iface.frequency}</td>
                                                <td className="py-3 px-4 text-sm text-gray-300">{iface.technology}</td>
                                                <td className="py-3 px-4">
                                                    <span className="text-accent-500 hover:text-accent-300 cursor-pointer text-sm">{iface.mentions} mentions</span>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Landscape Diagram - EAM Feature
        function Landscape() {
            const [activeTab, setActiveTab] = useState('all-systems');
            
            return (
                <div className="space-y-6">
                    <div>
                        <h1 className="text-3xl font-bold text-white">Application Landscape</h1>
                        <p className="mt-1 text-gray-400">Interactive architecture diagrams with meeting evidence overlay</p>
                    </div>

                    <div className="decision-card rounded-lg p-4">
                        <div className="flex items-center justify-between">
                            <div className="flex gap-4">
                                <button 
                                    onClick={() => setActiveTab('all-systems')}
                                    className={`px-4 py-2 rounded-lg text-sm font-semibold ${activeTab === 'all-systems' ? 'border-b-2 border-accent-500 text-accent-500' : 'text-gray-400 hover:text-white'}`}
                                >
                                    All Systems
                                </button>
                                <button 
                                    onClick={() => setActiveTab('sap-domain')}
                                    className={`px-4 py-2 rounded-lg text-sm font-semibold ${activeTab === 'sap-domain' ? 'border-b-2 border-accent-500 text-accent-500' : 'text-gray-400 hover:text-white'}`}
                                >
                                    SAP S/4HANA Domain
                                </button>
                                <button 
                                    onClick={() => setActiveTab('integration')}
                                    className={`px-4 py-2 rounded-lg text-sm font-semibold ${activeTab === 'integration' ? 'border-b-2 border-accent-500 text-accent-500' : 'text-gray-400 hover:text-white'}`}
                                >
                                    Integration Layer
                                </button>
                                <button 
                                    onClick={() => setActiveTab('meeting-overlay')}
                                    className={`px-4 py-2 rounded-lg text-sm font-semibold ${activeTab === 'meeting-overlay' ? 'border-b-2 border-accent-500 text-accent-500' : 'text-gray-400 hover:text-white'}`}
                                >
                                    Meeting Overlay
                                </button>
                            </div>
                            <div className="flex gap-3 text-xs">
                                <div className="flex items-center gap-1">
                                    <div className="w-4 h-3 border-2 border-primary-500 bg-gray-800 rounded"></div>
                                    <span className="text-gray-400">Active</span>
                                </div>
                                <div className="flex items-center gap-1">
                                    <div className="w-4 h-3 border-2 border-accent-500 bg-accent-500/10 rounded"></div>
                                    <span className="text-gray-400">Discussed</span>
                                </div>
                                <div className="flex items-center gap-1">
                                    <div className="w-4 h-3 border-2 border-red-500 bg-gray-800 rounded"></div>
                                    <span className="text-gray-400">Phase Out</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* ALL SYSTEMS TAB */}
                    {activeTab === 'all-systems' && (
                        <div className="decision-card rounded-lg p-6">
                            <svg viewBox="0 0 1200 800" className="w-full h-auto">
                                {/* Background */}
                                <rect width="1200" height="800" fill="#1a1d24"/>
                                
                                {/* Layer Labels */}
                                <text x="20" y="40" fill="#6c717d" fontSize="12" fontWeight="600">PRESENTATION LAYER</text>
                                <text x="20" y="220" fill="#6c717d" fontSize="12" fontWeight="600">INTEGRATION LAYER</text>
                                <text x="20" y="400" fill="#6c717d" fontSize="12" fontWeight="600">BUSINESS LAYER</text>
                                <text x="20" y="580" fill="#6c717d" fontSize="12" fontWeight="600">DATA LAYER</text>
                                
                                {/* Horizontal Dividers */}
                                <line x1="0" y1="60" x2="1200" y2="60" stroke="#2d3139" strokeWidth="1"/>
                                <line x1="0" y1="240" x2="1200" y2="240" stroke="#2d3139" strokeWidth="1"/>
                                <line x1="0" y1="420" x2="1200" y2="420" stroke="#2d3139" strokeWidth="1"/>
                                <line x1="0" y1="600" x2="1200" y2="600" stroke="#2d3139" strokeWidth="1"/>
                                
                                {/* PRESENTATION LAYER */}
                                {/* CustomerPortal */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="50" y="80" width="180" height="120" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="50" y="80" width="180" height="120" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="140" y="125" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">CustomerPortal</text>
                                    <text x="140" y="145" textAnchor="middle" fill="#6c717d" fontSize="11">React ‚Ä¢ Node.js</text>
                                    <text x="140" y="165" textAnchor="middle" fill="#00d4aa" fontSize="10">‚úì Active</text>
                                    <text x="140" y="185" textAnchor="middle" fill="#f59e0b" fontSize="10">üí¨ 3 decisions</text>
                                </g>
                                
                                {/* MobileApp */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="270" y="80" width="180" height="120" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="270" y="80" width="180" height="120" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="360" y="125" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">MobileApp</text>
                                    <text x="360" y="145" textAnchor="middle" fill="#6c717d" fontSize="11">React Native</text>
                                    <text x="360" y="165" textAnchor="middle" fill="#00d4aa" fontSize="10">‚úì Active</text>
                                </g>
                                
                                {/* AnalyticsPlatform */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="490" y="80" width="200" height="120" rx="8" fill="#1a1d24" stroke="#3b82f6" strokeWidth="2"/>
                                    <text x="590" y="125" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">AnalyticsPlatform</text>
                                    <text x="590" y="145" textAnchor="middle" fill="#6c717d" fontSize="11">React ‚Ä¢ BigQuery</text>
                                    <text x="590" y="165" textAnchor="middle" fill="#3b82f6" fontSize="10">üîÑ In Development</text>
                                </g>
                                
                                {/* INTEGRATION LAYER */}
                                {/* API Gateway */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="150" y="260" width="200" height="100" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="150" y="260" width="200" height="100" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="250" y="300" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">API Gateway</text>
                                    <text x="250" y="320" textAnchor="middle" fill="#6c717d" fontSize="11">Kong ‚Ä¢ REST</text>
                                    <text x="250" y="340" textAnchor="middle" fill="#00d4aa" fontSize="10">‚úì Active</text>
                                </g>
                                
                                {/* NotificationService */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="400" y="260" width="200" height="100" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="400" y="260" width="200" height="100" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="500" y="300" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">NotificationService</text>
                                    <text x="500" y="320" textAnchor="middle" fill="#6c717d" fontSize="11">Python ‚Ä¢ FastAPI</text>
                                    <text x="500" y="340" textAnchor="middle" fill="#00d4aa" fontSize="10">‚úì Active</text>
                                </g>
                                
                                {/* MessageBus */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="650" y="260" width="180" height="100" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="740" y="300" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">Message Bus</text>
                                    <text x="740" y="320" textAnchor="middle" fill="#6c717d" fontSize="11">RabbitMQ</text>
                                    <text x="740" y="340" textAnchor="middle" fill="#4a5899" fontSize="10">‚úì Active</text>
                                </g>
                                
                                {/* BUSINESS LAYER */}
                                {/* TransactionHub */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="50" y="440" width="180" height="120" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="50" y="440" width="180" height="120" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="140" y="485" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">TransactionHub</text>
                                    <text x="140" y="505" textAnchor="middle" fill="#6c717d" fontSize="11">Java ‚Ä¢ Spring</text>
                                    <text x="140" y="525" textAnchor="middle" fill="#ef4444" fontSize="10">‚ö† Critical</text>
                                    <text x="140" y="545" textAnchor="middle" fill="#f59e0b" fontSize="10">üí¨ 5 decisions</text>
                                </g>
                                
                                {/* SAP S/4HANA */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="270" y="440" width="180" height="120" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="270" y="440" width="180" height="120" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="360" y="485" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">SAP S/4HANA</text>
                                    <text x="360" y="505" textAnchor="middle" fill="#6c717d" fontSize="11">ERP Core</text>
                                    <text x="360" y="525" textAnchor="middle" fill="#f59e0b" fontSize="10">üîÑ Phase In</text>
                                    <text x="360" y="545" textAnchor="middle" fill="#f59e0b" fontSize="10">üí¨ 23 decisions</text>
                                </g>
                                
                                {/* SAP ECC (Legacy) */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="490" y="440" width="180" height="120" rx="8" fill="#1a1d24" stroke="#ef4444" strokeWidth="2" strokeDasharray="5,5"/>
                                    <text x="580" y="485" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">SAP ECC 6.0</text>
                                    <text x="580" y="505" textAnchor="middle" fill="#6c717d" fontSize="11">Legacy ERP</text>
                                    <text x="580" y="525" textAnchor="middle" fill="#ef4444" fontSize="10">‚ö†Ô∏è Phase Out</text>
                                    <text x="580" y="545" textAnchor="middle" fill="#f59e0b" fontSize="10">üí¨ 12 decisions</text>
                                </g>
                                
                                {/* LegacyBilling */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="710" y="440" width="180" height="120" rx="8" fill="#1a1d24" stroke="#ef4444" strokeWidth="2" strokeDasharray="5,5"/>
                                    <text x="800" y="485" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">LegacyBilling</text>
                                    <text x="800" y="505" textAnchor="middle" fill="#6c717d" fontSize="11">PHP ‚Ä¢ MySQL</text>
                                    <text x="800" y="525" textAnchor="middle" fill="#ef4444" fontSize="10">‚ö†Ô∏è Deprecated</text>
                                </g>
                                
                                {/* DATA LAYER */}
                                {/* Primary Database */}
                                <g>
                                    <rect x="150" y="620" width="200" height="100" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="250" y="660" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">PostgreSQL</text>
                                    <text x="250" y="680" textAnchor="middle" fill="#6c717d" fontSize="11">Primary Database</text>
                                    <text x="250" y="700" textAnchor="middle" fill="#4a5899" fontSize="10">‚úì Active</text>
                                </g>
                                
                                {/* Analytics DB */}
                                <g>
                                    <rect x="400" y="620" width="200" height="100" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="500" y="660" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">BigQuery</text>
                                    <text x="500" y="680" textAnchor="middle" fill="#6c717d" fontSize="11">Analytics Warehouse</text>
                                    <text x="500" y="700" textAnchor="middle" fill="#4a5899" fontSize="10">‚úì Active</text>
                                </g>
                                
                                {/* Cache */}
                                <g>
                                    <rect x="650" y="620" width="180" height="100" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="740" y="660" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">Redis</text>
                                    <text x="740" y="680" textAnchor="middle" fill="#6c717d" fontSize="11">Cache Layer</text>
                                    <text x="740" y="700" textAnchor="middle" fill="#4a5899" fontSize="10">‚úì Active</text>
                                </g>
                                
                                {/* CONNECTION LINES */}
                                {/* Presentation to Integration */}
                                <line x1="140" y1="200" x2="250" y2="260" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                <line x1="360" y1="200" x2="250" y2="260" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                <line x1="590" y1="200" x2="500" y2="260" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                
                                {/* Integration to Business */}
                                <line x1="250" y1="360" x2="140" y2="440" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                <line x1="250" y1="360" x2="360" y2="440" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                <line x1="500" y1="360" x2="580" y2="440" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                <line x1="740" y1="360" x2="800" y2="440" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                
                                {/* Business to Data */}
                                <line x1="140" y1="560" x2="250" y2="620" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                <line x1="360" y1="560" x2="250" y2="620" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                <line x1="580" y1="560" x2="500" y2="620" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                <line x1="800" y1="560" x2="740" y2="620" stroke="#464a54" strokeWidth="2" markerEnd="url(#arrowhead)"/>
                                
                                {/* Arrow marker */}
                                <defs>
                                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#464a54" />
                                    </marker>
                                </defs>
                            </svg>
                            
                            <div className="mt-6 p-4 bg-accent-500/10 border-l-4 border-accent-500 rounded">
                                <div className="font-semibold text-accent-500 mb-2">üí° Complete Enterprise Landscape</div>
                                <p className="text-sm text-gray-300">Full 4-layer architecture showing all systems, integrations, and data flows. Systems with green borders were discussed in recent meetings.</p>
                            </div>
                        </div>
                    )}

                    {/* SAP S/4HANA DOMAIN TAB */}
                    {activeTab === 'sap-domain' && (
                        <div className="decision-card rounded-lg p-6">
                            <svg viewBox="0 0 1200 700" className="w-full h-auto">
                                {/* Background */}
                                <rect width="1200" height="700" fill="#1a1d24"/>
                                
                                {/* Main SAP S/4HANA Core */}
                                <rect x="400" y="250" width="400" height="200" rx="12" fill="#1a1d24" stroke="#00d4aa" strokeWidth="3"/>
                                <rect x="400" y="250" width="400" height="200" rx="12" fill="#00d4aa" fillOpacity="0.05"/>
                                <text x="600" y="290" textAnchor="middle" fill="#ffffff" fontSize="20" fontWeight="700">SAP S/4HANA Core</text>
                                <text x="600" y="315" textAnchor="middle" fill="#6c717d" fontSize="13">ERP ‚Ä¢ HANA Database</text>
                                <text x="600" y="335" textAnchor="middle" fill="#f59e0b" fontSize="12">üí¨ 23 architectural decisions</text>
                                
                                {/* Modules inside */}
                                <g>
                                    <rect x="420" y="360" width="140" height="60" rx="6" fill="#2d3139" stroke="#4a5899" strokeWidth="1.5"/>
                                    <text x="490" y="385" textAnchor="middle" fill="#ffffff" fontSize="11" fontWeight="600">Finance (FI/CO)</text>
                                    <text x="490" y="403" textAnchor="middle" fill="#6c717d" fontSize="9">General Ledger</text>
                                </g>
                                <g>
                                    <rect x="580" y="360" width="140" height="60" rx="6" fill="#2d3139" stroke="#4a5899" strokeWidth="1.5"/>
                                    <text x="650" y="385" textAnchor="middle" fill="#ffffff" fontSize="11" fontWeight="600">Materials (MM)</text>
                                    <text x="650" y="403" textAnchor="middle" fill="#6c717d" fontSize="9">Procurement</text>
                                </g>
                                <g>
                                    <rect x="640" y="360" width="140" height="60" rx="6" fill="#2d3139" stroke="#4a5899" strokeWidth="1.5"/>
                                    <text x="710" y="385" textAnchor="middle" fill="#ffffff" fontSize="11" fontWeight="600">Sales (SD)</text>
                                    <text x="710" y="403" textAnchor="middle" fill="#6c717d" fontSize="9">Order Management</text>
                                </g>
                                
                                {/* SAP Modules Around Core */}
                                {/* SuccessFactors */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="900" y="50" width="220" height="100" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="900" y="50" width="220" height="100" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="1010" y="85" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">SAP SuccessFactors</text>
                                    <text x="1010" y="105" textAnchor="middle" fill="#6c717d" fontSize="11">Human Capital Management</text>
                                    <text x="1010" y="125" textAnchor="middle" fill="#00d4aa" fontSize="10">‚úì Cloud HCM</text>
                                </g>
                                
                                {/* Analytics Cloud */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="900" y="180" width="220" height="100" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="900" y="180" width="220" height="100" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="1010" y="215" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">SAP Analytics Cloud</text>
                                    <text x="1010" y="235" textAnchor="middle" fill="#6c717d" fontSize="11">Business Intelligence</text>
                                    <text x="1010" y="255" textAnchor="middle" fill="#00d4aa" fontSize="10">‚úì Cloud Analytics</text>
                                </g>
                                
                                {/* Ariba */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="900" y="310" width="220" height="100" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="900" y="310" width="220" height="100" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="1010" y="345" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">SAP Ariba</text>
                                    <text x="1010" y="365" textAnchor="middle" fill="#6c717d" fontSize="11">Procurement Platform</text>
                                    <text x="1010" y="385" textAnchor="middle" fill="#00d4aa" fontSize="10">‚úì Supplier Network</text>
                                </g>
                                
                                {/* Concur */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="900" y="440" width="220" height="100" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="900" y="440" width="220" height="100" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="1010" y="475" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">SAP Concur</text>
                                    <text x="1010" y="495" textAnchor="middle" fill="#6c717d" fontSize="11">Expense Management</text>
                                    <text x="1010" y="515" textAnchor="middle" fill="#00d4aa" fontSize="10">‚úì Travel & Expense</text>
                                </g>
                                
                                {/* Integration Platform */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="80" y="250" width="220" height="120" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="190" y="295" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">SAP Cloud Platform</text>
                                    <text x="190" y="315" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">Integration (CPI)</text>
                                    <text x="190" y="335" textAnchor="middle" fill="#6c717d" fontSize="11">iPaaS ‚Ä¢ Middleware</text>
                                    <text x="190" y="355" textAnchor="middle" fill="#4a5899" fontSize="10">‚úì Integration Hub</text>
                                </g>
                                
                                {/* Master Data */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="80" y="410" width="220" height="100" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="190" y="445" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">SAP Master Data</text>
                                    <text x="190" y="465" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">Governance (MDG)</text>
                                    <text x="190" y="485" textAnchor="middle" fill="#6c717d" fontSize="11">Data Quality</text>
                                </g>
                                
                                {/* Legacy SAP ECC */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="450" y="520" width="300" height="120" rx="8" fill="#1a1d24" stroke="#ef4444" strokeWidth="2" strokeDasharray="8,4"/>
                                    <text x="600" y="565" textAnchor="middle" fill="#ffffff" fontSize="16" fontWeight="600">SAP ECC 6.0</text>
                                    <text x="600" y="590" textAnchor="middle" fill="#6c717d" fontSize="12">Legacy ERP Platform</text>
                                    <text x="600" y="610" textAnchor="middle" fill="#ef4444" fontSize="11">‚ö†Ô∏è Migration to S/4HANA - Q2 2026</text>
                                    <text x="600" y="628" textAnchor="middle" fill="#f59e0b" fontSize="10">üí¨ 12 decisions tracked</text>
                                </g>
                                
                                {/* Connection Lines */}
                                {/* CPI to S/4HANA */}
                                <line x1="300" y1="310" x2="400" y2="350" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen)"/>
                                <text x="320" y="320" fill="#00d4aa" fontSize="10" fontWeight="600">REST API</text>
                                
                                {/* S/4HANA to SuccessFactors */}
                                <line x1="800" y1="300" x2="900" y2="100" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen)"/>
                                <text x="830" y="190" fill="#00d4aa" fontSize="10" fontWeight="600">OData</text>
                                
                                {/* S/4HANA to Analytics */}
                                <line x1="800" y1="330" x2="900" y2="230" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen)"/>
                                
                                {/* S/4HANA to Ariba */}
                                <line x1="800" y1="350" x2="900" y2="360" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen)"/>
                                <text x="830" y="350" fill="#00d4aa" fontSize="10" fontWeight="600">cXML</text>
                                
                                {/* S/4HANA to Concur */}
                                <line x1="800" y1="380" x2="900" y2="490" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen)"/>
                                
                                {/* MDG to S/4HANA */}
                                <line x1="190" y1="410" x2="500" y2="450" stroke="#4a5899" strokeWidth="2.5" markerEnd="url(#arrowblue)"/>
                                <text x="320" y="420" fill="#4a5899" fontSize="10" fontWeight="600">MDM Sync</text>
                                
                                {/* ECC to S/4HANA Migration */}
                                <line x1="600" y1="520" x2="600" y2="450" stroke="#f59e0b" strokeWidth="3" strokeDasharray="6,4" markerEnd="url(#arroworange)"/>
                                <text x="620" y="490" fill="#f59e0b" fontSize="11" fontWeight="700">MIGRATION PATH</text>
                                
                                {/* Arrow markers */}
                                <defs>
                                    <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#00d4aa" />
                                    </marker>
                                    <marker id="arrowblue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#4a5899" />
                                    </marker>
                                    <marker id="arroworange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#f59e0b" />
                                    </marker>
                                </defs>
                            </svg>
                            
                            <div className="mt-6 p-4 bg-accent-500/10 border-l-4 border-accent-500 rounded">
                                <div className="font-semibold text-accent-500 mb-2">üí° SAP Ecosystem Architecture</div>
                                <p className="text-sm text-gray-300">Complete SAP landscape showing S/4HANA core with integrated cloud solutions and migration path from legacy ECC 6.0. Green connections indicate active integrations discussed in architectural reviews.</p>
                            </div>
                        </div>
                    )}

                    {/* INTEGRATION LAYER TAB */}
                    {activeTab === 'integration' && (
                        <div className="decision-card rounded-lg p-6">
                            <svg viewBox="0 0 1200 700" className="w-full h-auto">
                                {/* Background */}
                                <rect width="1200" height="700" fill="#1a1d24"/>
                                
                                {/* API Gateway Center */}
                                <g>
                                    <rect x="480" y="280" width="240" height="140" rx="12" fill="#1a1d24" stroke="#00d4aa" strokeWidth="3"/>
                                    <rect x="480" y="280" width="240" height="140" rx="12" fill="#00d4aa" fillOpacity="0.1"/>
                                    <text x="600" y="320" textAnchor="middle" fill="#ffffff" fontSize="18" fontWeight="700">API Gateway</text>
                                    <text x="600" y="345" textAnchor="middle" fill="#6c717d" fontSize="12">Kong Gateway</text>
                                    <text x="600" y="370" textAnchor="middle" fill="#00d4aa" fontSize="11">Rate Limiting ‚Ä¢ Auth ‚Ä¢ Routing</text>
                                    <text x="600" y="395" textAnchor="middle" fill="#f59e0b" fontSize="10">üí¨ 5 decisions</text>
                                </g>
                                
                                {/* External Systems - Left */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="60" y="80" width="180" height="80" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="150" y="110" textAnchor="middle" fill="#ffffff" fontSize="13" fontWeight="600">Mobile App</text>
                                    <text x="150" y="130" textAnchor="middle" fill="#6c717d" fontSize="10">iOS ‚Ä¢ Android</text>
                                    <text x="150" y="148" textAnchor="middle" fill="#4a5899" fontSize="9">REST Client</text>
                                </g>
                                
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="60" y="200" width="180" height="80" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="150" y="230" textAnchor="middle" fill="#ffffff" fontSize="13" fontWeight="600">Web Portal</text>
                                    <text x="150" y="250" textAnchor="middle" fill="#6c717d" fontSize="10">React SPA</text>
                                    <text x="150" y="268" textAnchor="middle" fill="#4a5899" fontSize="9">REST Client</text>
                                </g>
                                
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="60" y="320" width="180" height="80" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="150" y="350" textAnchor="middle" fill="#ffffff" fontSize="13" fontWeight="600">Partner Systems</text>
                                    <text x="150" y="370" textAnchor="middle" fill="#6c717d" fontSize="10">External APIs</text>
                                    <text x="150" y="388" textAnchor="middle" fill="#4a5899" fontSize="9">OAuth 2.0</text>
                                </g>
                                
                                {/* Backend Services - Right */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="960" y="80" width="180" height="80" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="960" y="80" width="180" height="80" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="1050" y="110" textAnchor="middle" fill="#ffffff" fontSize="13" fontWeight="600">TransactionHub</text>
                                    <text x="1050" y="130" textAnchor="middle" fill="#6c717d" fontSize="10">Java ‚Ä¢ Spring</text>
                                    <text x="1050" y="148" textAnchor="middle" fill="#00d4aa" fontSize="9">POST /payments</text>
                                </g>
                                
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="960" y="200" width="180" height="80" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="960" y="200" width="180" height="80" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="1050" y="230" textAnchor="middle" fill="#ffffff" fontSize="13" fontWeight="600">CustomerService</text>
                                    <text x="1050" y="250" textAnchor="middle" fill="#6c717d" fontSize="10">Node.js</text>
                                    <text x="1050" y="268" textAnchor="middle" fill="#00d4aa" fontSize="9">GET /customers</text>
                                </g>
                                
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="960" y="320" width="180" height="80" rx="8" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2"/>
                                    <rect x="960" y="320" width="180" height="80" rx="8" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="1050" y="350" textAnchor="middle" fill="#ffffff" fontSize="13" fontWeight="600">SAP S/4HANA</text>
                                    <text x="1050" y="370" textAnchor="middle" fill="#6c717d" fontSize="10">ERP Core</text>
                                    <text x="1050" y="388" textAnchor="middle" fill="#00d4aa" fontSize="9">OData API</text>
                                </g>
                                
                                {/* Message Bus */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="420" y="520" width="360" height="120" rx="8" fill="#1a1d24" stroke="#7b8fd9" strokeWidth="2"/>
                                    <text x="600" y="560" textAnchor="middle" fill="#ffffff" fontSize="16" fontWeight="700">Message Bus (RabbitMQ)</text>
                                    <text x="600" y="585" textAnchor="middle" fill="#6c717d" fontSize="12">Async Event Processing</text>
                                    <text x="600" y="610" textAnchor="middle" fill="#7b8fd9" fontSize="10">Pub/Sub Pattern ‚Ä¢ Event-Driven</text>
                                </g>
                                
                                {/* Event Consumers */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="900" y="540" width="160" height="70" rx="6" fill="#1a1d24" stroke="#7b8fd9" strokeWidth="1.5"/>
                                    <text x="980" y="568" textAnchor="middle" fill="#ffffff" fontSize="11" fontWeight="600">Email Service</text>
                                    <text x="980" y="586" textAnchor="middle" fill="#6c717d" fontSize="9">Subscriber</text>
                                    <text x="980" y="600" textAnchor="middle" fill="#7b8fd9" fontSize="8">events.user.*</text>
                                </g>
                                
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="140" y="540" width="160" height="70" rx="6" fill="#1a1d24" stroke="#7b8fd9" strokeWidth="1.5"/>
                                    <text x="220" y="568" textAnchor="middle" fill="#ffffff" fontSize="11" fontWeight="600">Analytics Service</text>
                                    <text x="220" y="586" textAnchor="middle" fill="#6c717d" fontSize="9">Subscriber</text>
                                    <text x="220" y="600" textAnchor="middle" fill="#7b8fd9" fontSize="8">events.payment.*</text>
                                </g>
                                
                                {/* Connection Lines */}
                                {/* Clients to Gateway */}
                                <line x1="240" y1="120" x2="480" y2="320" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen2)"/>
                                <text x="320" y="200" fill="#00d4aa" fontSize="10" fontWeight="600">HTTPS</text>
                                <line x1="240" y1="240" x2="480" y2="340" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen2)"/>
                                <line x1="240" y1="360" x2="480" y2="360" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen2)"/>
                                <text x="320" y="350" fill="#00d4aa" fontSize="10" fontWeight="600">mTLS</text>
                                
                                {/* Gateway to Services */}
                                <line x1="720" y1="320" x2="960" y2="120" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen2)"/>
                                <text x="800" y="200" fill="#00d4aa" fontSize="10" fontWeight="600">Internal</text>
                                <line x1="720" y1="340" x2="960" y2="240" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen2)"/>
                                <line x1="720" y1="360" x2="960" y2="360" stroke="#00d4aa" strokeWidth="2.5" markerEnd="url(#arrowgreen2)"/>
                                
                                {/* Services to Message Bus */}
                                <line x1="1050" y1="160" x2="600" y2="520" stroke="#7b8fd9" strokeWidth="2" strokeDasharray="4,4" markerEnd="url(#arrowpurple)"/>
                                <line x1="1050" y1="280" x2="600" y2="520" stroke="#7b8fd9" strokeWidth="2" strokeDasharray="4,4" markerEnd="url(#arrowpurple)"/>
                                <text x="780" y="440" fill="#7b8fd9" fontSize="10" fontWeight="600">Publish Events</text>
                                
                                {/* Message Bus to Consumers */}
                                <line x1="420" y1="575" x2="300" y2="575" stroke="#7b8fd9" strokeWidth="2" markerEnd="url(#arrowpurple)"/>
                                <line x1="780" y1="575" x2="900" y2="575" stroke="#7b8fd9" strokeWidth="2" markerEnd="url(#arrowpurple)"/>
                                
                                {/* Arrow markers */}
                                <defs>
                                    <marker id="arrowgreen2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#00d4aa" />
                                    </marker>
                                    <marker id="arrowpurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#7b8fd9" />
                                    </marker>
                                </defs>
                            </svg>
                            
                            <div className="mt-6 p-4 bg-accent-500/10 border-l-4 border-accent-500 rounded">
                                <div className="font-semibold text-accent-500 mb-2">üí° Integration Architecture</div>
                                <p className="text-sm text-gray-300">Complete integration layer showing API Gateway for synchronous REST APIs and RabbitMQ message bus for asynchronous event-driven communication. All patterns discussed and approved in Technical Design Authority meetings.</p>
                            </div>
                        </div>
                    )}

                    {/* MEETING OVERLAY TAB */}
                    {activeTab === 'meeting-overlay' && (
                        <div className="decision-card rounded-lg p-6">
                            <svg viewBox="0 0 1200 750" className="w-full h-auto">
                                {/* Background */}
                                <rect width="1200" height="750" fill="#1a1d24"/>
                                
                                {/* Meeting Layer */}
                                <text x="600" y="40" textAnchor="middle" fill="#f59e0b" fontSize="16" fontWeight="700">MEETING INTELLIGENCE LAYER</text>
                                
                                {/* Teams Meeting */}
                                <g>
                                    <rect x="350" y="60" width="500" height="140" rx="12" fill="#1a1d24" stroke="#f59e0b" strokeWidth="3"/>
                                    <rect x="350" y="60" width="500" height="140" rx="12" fill="#f59e0b" fillOpacity="0.08"/>
                                    <text x="600" y="100" textAnchor="middle" fill="#ffffff" fontSize="18" fontWeight="700">Microsoft Teams Meeting</text>
                                    <text x="600" y="125" textAnchor="middle" fill="#6c717d" fontSize="13">"Technical Design Authority - Jan 15, 2026"</text>
                                    <text x="600" y="150" textAnchor="middle" fill="#f59e0b" fontSize="12">üé§ Live Transcription ‚Ä¢ 8 Participants ‚Ä¢ 45 minutes</text>
                                    <text x="600" y="175" textAnchor="middle" fill="#00d4aa" fontSize="11">üìã ArqEye: 3 Interventions ‚Ä¢ 2 Decisions Captured</text>
                                </g>
                                
                                {/* ArqEye Processing */}
                                <g>
                                    <rect x="150" y="240" width="900" height="180" rx="10" fill="#1a1d24" stroke="#00d4aa" strokeWidth="2.5"/>
                                    <rect x="150" y="240" width="900" height="180" rx="10" fill="#00d4aa" fillOpacity="0.05"/>
                                    <text x="600" y="275" textAnchor="middle" fill="#00d4aa" fontSize="20" fontWeight="700">ArqEye Processing Engine</text>
                                    
                                    {/* Processing Steps */}
                                    <g>
                                        <rect x="180" y="295" width="180" height="100" rx="6" fill="#2d3139" stroke="#4a5899" strokeWidth="1.5"/>
                                        <text x="270" y="325" textAnchor="middle" fill="#ffffff" fontSize="12" fontWeight="600">1. Transcription</text>
                                        <text x="270" y="345" textAnchor="middle" fill="#6c717d" fontSize="10">Extract speech</text>
                                        <text x="270" y="365" textAnchor="middle" fill="#6c717d" fontSize="10">Identify speakers</text>
                                        <text x="270" y="380" textAnchor="middle" fill="#4a5899" fontSize="9">Real-time</text>
                                    </g>
                                    
                                    <g>
                                        <rect x="390" y="295" width="180" height="100" rx="6" fill="#2d3139" stroke="#4a5899" strokeWidth="1.5"/>
                                        <text x="480" y="325" textAnchor="middle" fill="#ffffff" fontSize="12" fontWeight="600">2. Analysis</text>
                                        <text x="480" y="345" textAnchor="middle" fill="#6c717d" fontSize="10">Detect decisions</text>
                                        <text x="480" y="365" textAnchor="middle" fill="#6c717d" fontSize="10">Check policies</text>
                                        <text x="480" y="380" textAnchor="middle" fill="#4a5899" fontSize="9">NEXUS Model</text>
                                    </g>
                                    
                                    <g>
                                        <rect x="600" y="295" width="180" height="100" rx="6" fill="#2d3139" stroke="#4a5899" strokeWidth="1.5"/>
                                        <text x="690" y="325" textAnchor="middle" fill="#ffffff" fontSize="12" fontWeight="600">3. Intervention</text>
                                        <text x="690" y="345" textAnchor="middle" fill="#6c717d" fontSize="10">Evaluate confidence</text>
                                        <text x="690" y="365" textAnchor="middle" fill="#6c717d" fontSize="10">Decide to speak</text>
                                        <text x="690" y="380" textAnchor="middle" fill="#00d4aa" fontSize="9">Gating Logic</text>
                                    </g>
                                    
                                    <g>
                                        <rect x="810" y="295" width="180" height="100" rx="6" fill="#2d3139" stroke="#4a5899" strokeWidth="1.5"/>
                                        <text x="900" y="325" textAnchor="middle" fill="#ffffff" fontSize="12" fontWeight="600">4. Capture</text>
                                        <text x="900" y="345" textAnchor="middle" fill="#6c717d" fontSize="10">Log decisions</text>
                                        <text x="900" y="365" textAnchor="middle" fill="#6c717d" fontSize="10">Extract entities</text>
                                        <text x="900" y="380" textAnchor="middle" fill="#4a5899" fontSize="9">Database</text>
                                    </g>
                                </g>
                                
                                {/* Captured Artifacts */}
                                <text x="600" y="465" textAnchor="middle" fill="#6c717d" fontSize="14" fontWeight="600">CAPTURED ARTIFACTS</text>
                                
                                {/* Decisions */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="80" y="490" width="220" height="100" rx="8" fill="#1a1d24" stroke="#10b981" strokeWidth="2"/>
                                    <rect x="80" y="490" width="220" height="100" rx="8" fill="#10b981" fillOpacity="0.05"/>
                                    <text x="190" y="520" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">‚úÖ Decisions</text>
                                    <text x="190" y="540" textAnchor="middle" fill="#6c717d" fontSize="11">2 Architecture Decisions</text>
                                    <text x="190" y="560" textAnchor="middle" fill="#10b981" fontSize="10">‚Ä¢ Adopt Azure AKS</text>
                                    <text x="190" y="575" textAnchor="middle" fill="#10b981" fontSize="10">‚Ä¢ Postpone AWS</text>
                                </g>
                                
                                {/* Technical Debt */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="330" y="490" width="220" height="100" rx="8" fill="#1a1d24" stroke="#f59e0b" strokeWidth="2"/>
                                    <rect x="330" y="490" width="220" height="100" rx="8" fill="#f59e0b" fillOpacity="0.05"/>
                                    <text x="440" y="520" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">üîß Tech Debt</text>
                                    <text x="440" y="540" textAnchor="middle" fill="#6c717d" fontSize="11">1 item identified</text>
                                    <text x="440" y="560" textAnchor="middle" fill="#f59e0b" fontSize="10">‚Ä¢ Legacy OAuth 1.0</text>
                                    <text x="440" y="575" textAnchor="middle" fill="#6c717d" fontSize="9">Severity: High</text>
                                </g>
                                
                                {/* Risks */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="580" y="490" width="220" height="100" rx="8" fill="#1a1d24" stroke="#ef4444" strokeWidth="2"/>
                                    <rect x="580" y="490" width="220" height="100" rx="8" fill="#ef4444" fillOpacity="0.05"/>
                                    <text x="690" y="520" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">‚ö†Ô∏è Risks</text>
                                    <text x="690" y="540" textAnchor="middle" fill="#6c717d" fontSize="11">1 risk identified</text>
                                    <text x="690" y="560" textAnchor="middle" fill="#ef4444" fontSize="10">‚Ä¢ Vendor Lock-in</text>
                                    <text x="690" y="575" textAnchor="middle" fill="#6c717d" fontSize="9">Impact: Medium</text>
                                </g>
                                
                                {/* Action Items */}
                                <g className="cursor-pointer hover:opacity-80 transition-opacity">
                                    <rect x="830" y="490" width="220" height="100" rx="8" fill="#1a1d24" stroke="#8b5cf6" strokeWidth="2"/>
                                    <rect x="830" y="490" width="220" height="100" rx="8" fill="#8b5cf6" fillOpacity="0.05"/>
                                    <text x="940" y="520" textAnchor="middle" fill="#ffffff" fontSize="14" fontWeight="600">üìã Actions</text>
                                    <text x="940" y="540" textAnchor="middle" fill="#6c717d" fontSize="11">3 tasks created</text>
                                    <text x="940" y="560" textAnchor="middle" fill="#8b5cf6" fontSize="10">‚Ä¢ Schedule AKS training</text>
                                    <text x="940" y="575" textAnchor="middle" fill="#6c717d" fontSize="9">Owner: Sarah Chen</text>
                                </g>
                                
                                {/* Database */}
                                <g>
                                    <rect x="400" y="630" width="400" height="80" rx="8" fill="#1a1d24" stroke="#4a5899" strokeWidth="2"/>
                                    <text x="600" y="660" textAnchor="middle" fill="#ffffff" fontSize="15" fontWeight="600">üìä Supabase Database</text>
                                    <text x="600" y="682" textAnchor="middle" fill="#6c717d" fontSize="11">Tenant ID: c3ed37c5 ‚Ä¢ 62 tables ‚Ä¢ Complete audit trail</text>
                                    <text x="600" y="700" textAnchor="middle" fill="#4a5899" fontSize="10">All artifacts linked to meeting transcripts</text>
                                </g>
                                
                                {/* Connection Lines */}
                                <line x1="600" y1="200" x2="600" y2="240" stroke="#f59e0b" strokeWidth="2.5" markerEnd="url(#arroworange2)"/>
                                <line x1="270" y1="395" x2="190" y2="490" stroke="#10b981" strokeWidth="2" markerEnd="url(#arrowgreen3)"/>
                                <line x1="480" y1="395" x2="440" y2="490" stroke="#f59e0b" strokeWidth="2" markerEnd="url(#arroworange3)"/>
                                <line x1="690" y1="395" x2="690" y2="490" stroke="#ef4444" strokeWidth="2" markerEnd="url(#arrowred)"/>
                                <line x1="900" y1="395" x2="940" y2="490" stroke="#8b5cf6" strokeWidth="2" markerEnd="url(#arrowpurple2)"/>
                                
                                <line x1="190" y1="590" x2="500" y2="630" stroke="#4a5899" strokeWidth="2" markerEnd="url(#arrowblue2)"/>
                                <line x1="440" y1="590" x2="550" y2="630" stroke="#4a5899" strokeWidth="2" markerEnd="url(#arrowblue2)"/>
                                <line x1="690" y1="590" x2="650" y2="630" stroke="#4a5899" strokeWidth="2" markerEnd="url(#arrowblue2)"/>
                                <line x1="940" y1="590" x2="700" y2="630" stroke="#4a5899" strokeWidth="2" markerEnd="url(#arrowblue2)"/>
                                
                                {/* Arrow markers */}
                                <defs>
                                    <marker id="arroworange2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#f59e0b" />
                                    </marker>
                                    <marker id="arrowgreen3" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
                                    </marker>
                                    <marker id="arroworange3" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#f59e0b" />
                                    </marker>
                                    <marker id="arrowred" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#ef4444" />
                                    </marker>
                                    <marker id="arrowpurple2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#8b5cf6" />
                                    </marker>
                                    <marker id="arrowblue2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                        <polygon points="0 0, 10 3, 0 6" fill="#4a5899" />
                                    </marker>
                                </defs>
                            </svg>
                            
                            <div className="mt-6 p-4 bg-accent-500/10 border-l-4 border-accent-500 rounded">
                                <div className="font-semibold text-accent-500 mb-2">üí° How ArqEye Captures Architecture Intelligence</div>
                                <p className="text-sm text-gray-300">This diagram shows how ArqEye listens to Teams meetings, processes architectural discussions through the NEXUS model, decides when to intervene, and automatically captures decisions, risks, technical debt, and action items into the institutional memory database.</p>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // Audit Trail / Silence Page - EAM Feature
        function AuditTrail() {
            const [reasonFilter, setReasonFilter] = useState('all');
            const [categoryFilter, setCategoryFilter] = useState('all');
            const [timeFilter, setTimeFilter] = useState('7');

            // Helper to format display text (remove underscores)
            const formatDisplayText = (text) => text.replace(/_/g, ' ');

            const silenceEvents = [
                { 
                    id: 1, 
                    meeting: 'SAP Security Configuration Workshop', 
                    date: 'Jan 26, 2026 10:00 - 11:30',
                    timestamp: new Date('2026-01-26'),
                    category: 'SAP_S4HANA',
                    reason: 'NO_TRIGGER', 
                    description: 'Discussion focused on SAP authorization roles, GRC configuration, and user access provisioning. No architectural decisions or enterprise policy conflicts detected.', 
                    segmentsAnalyzed: 45, 
                    policyMatches: 0 
                },
                { 
                    id: 2, 
                    meeting: 'Weekly Team Standup - SAP Migration', 
                    date: 'Jan 24, 2026 09:00 - 09:30',
                    timestamp: new Date('2026-01-24'),
                    category: 'SAP_S4HANA',
                    reason: 'OPERATIONAL_SCOPE', 
                    description: 'Status update meeting covering sprint progress, individual task assignments, and blockers. No strategic decisions or architectural direction changes discussed.', 
                    segmentsAnalyzed: 28, 
                    policyMatches: 0 
                },
                { 
                    id: 3, 
                    meeting: 'Cloud Cost Optimization Discussion', 
                    date: 'Jan 23, 2026 15:00 - 15:45',
                    timestamp: new Date('2026-01-23'),
                    category: 'Integration',
                    reason: 'INSUFFICIENT_EVIDENCE', 
                    confidence: 42, 
                    description: 'Team discussed moving certain workloads from AWS to Azure for cost savings. While architecturally relevant, confidence threshold not met.', 
                    segmentsAnalyzed: 18, 
                    policyMatches: 2 
                }
            ];

            // Filter logic
            const now = new Date();
            const daysAgo = parseInt(timeFilter);
            const cutoffDate = new Date(now.getTime() - (daysAgo * 24 * 60 * 60 * 1000));

            const filteredEvents = silenceEvents.filter(event => {
                const matchesReason = reasonFilter === 'all' || event.reason === reasonFilter;
                const matchesCategory = categoryFilter === 'all' || event.category === categoryFilter;
                const matchesTime = event.timestamp >= cutoffDate;
                
                return matchesReason && matchesCategory && matchesTime;
            });

            return (
                <div className="space-y-6">
                    <div className="flex items-center justify-between">
                        <div>
                            <h1 className="text-3xl font-bold text-white">Silence & Audit Trail</h1>
                            <p className="mt-1 text-gray-400">When ArqEye chose not to speak and why</p>
                        </div>
                        <span className="text-sm text-gray-400">
                            Showing {filteredEvents.length} of {silenceEvents.length} events
                        </span>
                    </div>

                    <div className="p-4 bg-blue-500/10 border-l-4 border-blue-500 rounded-lg">
                        <div className="font-semibold text-blue-400 mb-2">üí° Why This Matters</div>
                        <p className="text-sm text-gray-300">ArqEye's silence is as valuable as its responses. This view proves ArqEye doesn't hallucinate or interrupt unnecessarily - it only speaks when evidence supports intervention.</p>
                    </div>

                    <div className="decision-card rounded-lg p-4">
                        <div className="grid grid-cols-3 gap-4">
                            <select 
                                value={reasonFilter}
                                onChange={(e) => setReasonFilter(e.target.value)}
                                className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                            >
                                <option value="all">All Reasons</option>
                                <option value="NO_TRIGGER">NO TRIGGER</option>
                                <option value="INSUFFICIENT_EVIDENCE">INSUFFICIENT EVIDENCE</option>
                                <option value="OPERATIONAL_SCOPE">OPERATIONAL SCOPE</option>
                            </select>
                            <select 
                                value={categoryFilter}
                                onChange={(e) => setCategoryFilter(e.target.value)}
                                className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                            >
                                <option value="all">All Categories</option>
                                <option value="SAP_S4HANA">SAP S4HANA</option>
                                <option value="Integration">Integration</option>
                            </select>
                            <select 
                                value={timeFilter}
                                onChange={(e) => setTimeFilter(e.target.value)}
                                className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                            >
                                <option value="7">Last 7 days</option>
                                <option value="30">Last 30 days</option>
                                <option value="90">Last 90 days</option>
                            </select>
                        </div>
                        {(reasonFilter !== 'all' || categoryFilter !== 'all' || timeFilter !== '7') && (
                            <div className="mt-3 flex items-center justify-end">
                                <button
                                    onClick={() => {
                                        setReasonFilter('all');
                                        setCategoryFilter('all');
                                        setTimeFilter('7');
                                    }}
                                    className="text-sm text-accent-500 hover:text-accent-300 transition-colors"
                                >
                                    Clear filters
                                </button>
                            </div>
                        )}
                    </div>

                    {filteredEvents.length === 0 ? (
                        <div className="decision-card rounded-lg p-12 text-center">
                            <div className="text-4xl mb-3">üîç</div>
                            <p className="text-gray-400">No silence events match the selected filters</p>
                            <p className="text-sm text-gray-500 mt-1">Try adjusting your filter criteria or time range</p>
                        </div>
                    ) : (
                        <div className="space-y-4">
                            {filteredEvents.map((event) => (
                                <div key={event.id} className="decision-card rounded-lg p-6 border-l-4 border-gray-600">
                                    <div className="flex items-start justify-between mb-3">
                                        <div className="flex-1">
                                            <div className="flex items-center gap-2">
                                                <h3 className="font-semibold text-white">{event.meeting}</h3>
                                                <span className="inline-flex items-center rounded bg-gray-700 px-2 py-0.5 text-xs text-gray-300">
                                                    {formatDisplayText(event.category)}
                                                </span>
                                            </div>
                                            <div className="text-sm text-gray-500 mt-1">{event.date}</div>
                                        </div>
                                        <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium ${
                                            event.reason === 'INSUFFICIENT_EVIDENCE' ? 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20' : 'bg-gray-600/10 text-gray-400 border-gray-600/20'
                                        }`}>
                                            SILENCE: {formatDisplayText(event.reason)}
                                        </span>
                                    </div>
                                    <div className="mb-3">
                                        <div className="text-sm font-medium text-gray-400 mb-1">Reason</div>
                                        <p className="text-sm text-gray-300">{event.description}</p>
                                    </div>
                                    <div className="mb-3">
                                        <div className="text-sm font-medium text-gray-400 mb-1">Evaluation Details</div>
                                        <div className="grid grid-cols-3 gap-4 text-sm">
                                            <div>
                                                <span className="text-gray-500">Confidence:</span>
                                                <span className="font-semibold ml-2 text-white">{event.confidence ? `${event.confidence}%` : 'N/A'}</span>
                                            </div>
                                            <div>
                                                <span className="text-gray-500">Segments:</span>
                                                <span className="font-semibold ml-2 text-white">{event.segmentsAnalyzed}</span>
                                            </div>
                                            <div>
                                                <span className="text-gray-500">Matches:</span>
                                                <span className="font-semibold ml-2 text-white">{event.policyMatches}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}

                    <div className="stat-card rounded-lg border border-gray-700 p-6">
                        <h3 className="font-semibold text-white mb-4">Silence Statistics (Last 30 Days)</h3>
                        <div className="grid grid-cols-4 gap-6 text-center">
                            <div>
                                <div className="text-3xl font-bold text-gray-300">127</div>
                                <div className="text-sm text-gray-500 mt-1">Total Silence Events</div>
                            </div>
                            <div>
                                <div className="text-3xl font-bold text-blue-400">89</div>
                                <div className="text-sm text-gray-500 mt-1">NO TRIGGER</div>
                                <div className="text-xs text-gray-600">70%</div>
                            </div>
                            <div>
                                <div className="text-3xl font-bold text-yellow-400">24</div>
                                <div className="text-sm text-gray-500 mt-1">INSUFFICIENT EVIDENCE</div>
                                <div className="text-xs text-gray-600">19%</div>
                            </div>
                            <div>
                                <div className="text-3xl font-bold text-gray-500">14</div>
                                <div className="text-sm text-gray-500 mt-1">OPERATIONAL SCOPE</div>
                                <div className="text-xs text-gray-600">11%</div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Main App Component
        function App() {
            const [sidebarOpen, setSidebarOpen] = useState(true);
            const [currentPage, setCurrentPage] = useState('dashboard');
            const [selectedMeeting, setSelectedMeeting] = useState(null);
            const [selectedCategory, setSelectedCategory] = useState(null);
            const [selectedDecision, setSelectedDecision] = useState(null);
            
            // Applications filters
            const [appStatusFilter, setAppStatusFilter] = useState('all');
            const [appTechFilter, setAppTechFilter] = useState('all');
            const [appSearchQuery, setAppSearchQuery] = useState('');
            
            // Centralized bin management
            const [deletedItems, setDeletedItems] = useState(() => {
                const saved = localStorage.getItem('arqeye_bin');
                return saved ? JSON.parse(saved) : [];
            });

            React.useEffect(() => {
                localStorage.setItem('arqeye_bin', JSON.stringify(deletedItems));
            }, [deletedItems]);

            const addToDeletedItems = (item, itemType) => {
                setDeletedItems([...deletedItems, {
                    ...item,
                    itemType,
                    deletedAt: new Date().toISOString(),
                    deletedBy: 'Current User'
                }]);
            };
            
            // Applications modal and form
            const [showAppModal, setShowAppModal] = useState(false);
            const [newApplication, setNewApplication] = useState({
                name: '',
                description: '',
                status: 'active',
                technology: '',
                owner: '',
                dependencies: 0
            });
            
            // Applications list (stateful)
            const [applications, setApplications] = useState([
                {
                    id: 1,
                    name: 'TransactionHub',
                    description: 'Core payment processing system handling transactions and settlements',
                    status: 'active',
                    technology: ['Java', 'Spring Boot', 'PostgreSQL'],
                    owner: 'Sarah Chen',
                    dependencies: 3,
                    lastDiscussed: '2 days ago',
                    decisions: 5
                },
                {
                    id: 2,
                    name: 'CustomerPortal',
                    description: 'Customer-facing web application for account management',
                    status: 'active',
                    technology: ['React', 'Node.js', 'MongoDB'],
                    owner: 'Marcus Johnson',
                    dependencies: 2,
                    lastDiscussed: '5 days ago',
                    decisions: 3
                },
                {
                    id: 3,
                    name: 'NotificationService',
                    description: 'Microservice handling email, SMS, and push notifications',
                    status: 'active',
                    technology: ['Python', 'FastAPI', 'Redis'],
                    owner: 'David Lee',
                    dependencies: 4,
                    lastDiscussed: '1 week ago',
                    decisions: 2
                },
                {
                    id: 4,
                    name: 'AnalyticsPlatform',
                    description: 'Real-time analytics and reporting dashboard',
                    status: 'in-development',
                    technology: ['React', 'Python', 'BigQuery'],
                    owner: 'Jennifer Williams',
                    dependencies: 1,
                    lastDiscussed: '3 days ago',
                    decisions: 4
                },
                {
                    id: 5,
                    name: 'LegacyBilling',
                    description: 'Legacy billing system scheduled for migration',
                    status: 'deprecated',
                    technology: ['PHP', 'MySQL'],
                    owner: 'Alex Kumar',
                    dependencies: 6,
                    lastDiscussed: '2 weeks ago',
                    decisions: 1
                }
            ]);

            const handleOpenAppModal = () => {
                setShowAppModal(true);
            };

            const handleCloseAppModal = () => {
                setShowAppModal(false);
                setNewApplication({
                    name: '',
                    description: '',
                    status: 'active',
                    technology: '',
                    owner: '',
                    dependencies: 0
                });
            };

            const handleSaveApplication = () => {
                const techArray = newApplication.technology.split(',').map(t => t.trim()).filter(t => t);
                
                const appToAdd = {
                    id: Date.now(),
                    name: newApplication.name,
                    description: newApplication.description,
                    status: newApplication.status,
                    technology: techArray,
                    owner: newApplication.owner,
                    dependencies: parseInt(newApplication.dependencies) || 0,
                    lastDiscussed: 'Just now',
                    decisions: 0
                };

                setApplications([...applications, appToAdd]);
                handleCloseAppModal();
            };

            const handleDeleteApplication = (app) => {
                if (!confirm('Move this application to the Bin? It will be held for 30 days pending senior architect approval.')) return;
                
                setApplications(applications.filter(a => a.id !== app.id));
                addToDeletedItems({
                    ...app,
                    title: app.name
                }, 'Application');
            };

            const handleRestoreFromBin = (deletedItem) => {
                // Remove from bin
                const updated = deletedItems.filter(item => 
                    !(item.id === deletedItem.id && (item.itemType || item.registerType) === (deletedItem.itemType || deletedItem.registerType))
                );
                setDeletedItems(updated);

                // Restore to appropriate list based on itemType
                const itemType = deletedItem.itemType || deletedItem.registerType;
                
                if (itemType === 'Application') {
                    // Restore to applications list
                    const itemToRestore = {...deletedItem};
                    delete itemToRestore.itemType;
                    delete itemToRestore.title; // title was added for bin, name is the real field
                    delete itemToRestore.deletedAt;
                    delete itemToRestore.deletedBy;
                    
                    setApplications([...applications, itemToRestore]);
                    return true; // Successfully restored
                }
                
                return false; // Not an application, needs to be handled elsewhere
            };

            return (
                <div className="flex min-h-screen">
                    <Sidebar 
                        currentPage={currentPage} 
                        setCurrentPage={setCurrentPage} 
                        sidebarOpen={sidebarOpen} 
                    />
                    
                    <div className={`flex-1 transition-all duration-300 ${sidebarOpen ? 'ml-60' : 'ml-20'}`}>
                        <TopBar setCurrentPage={setCurrentPage} setSelectedMeeting={setSelectedMeeting} />
                        
                        <main className="p-8">
                            {currentPage === 'dashboard' && <Dashboard setCurrentPage={setCurrentPage} setSelectedMeeting={setSelectedMeeting} />}
                            {currentPage === 'meetings' && <Meetings setCurrentPage={setCurrentPage} setSelectedMeeting={setSelectedMeeting} />}
                            {currentPage === 'join-meeting' && <JoinMeeting />}
                            {currentPage === 'meeting-detail' && selectedMeeting && (
                                <MeetingDetail meeting={selectedMeeting} setCurrentPage={setCurrentPage} />
                            )}
                            {currentPage === 'decisions' && <Decisions />}
                            {currentPage === 'categories' && <Categories setCurrentPage={setCurrentPage} setSelectedCategory={setSelectedCategory} />}
                            {currentPage === 'category-detail' && selectedCategory && <CategoryDetail category={selectedCategory} setCurrentPage={setCurrentPage} setSelectedDecision={setSelectedDecision} />}
                            {currentPage === 'decision-detail' && <DecisionDetail decision={selectedDecision} setCurrentPage={setCurrentPage} />}
                            {currentPage === 'interfaces' && <Interfaces />}
                            {currentPage === 'landscape' && <Landscape />}
                            {currentPage === 'audit' && <AuditTrail />}
                            {currentPage === 'settings' && <ArqEyeSettings deletedItems={deletedItems} setDeletedItems={setDeletedItems} handleRestoreFromBin={handleRestoreFromBin} />}
                            {currentPage === 'analytics' && (
                                <div className="space-y-6">
                                    <div>
                                        <h1 className="text-3xl font-bold text-white">Analytics Dashboard</h1>
                                        <p className="mt-1 text-gray-400">Track ARQEYE performance and team engagement metrics</p>
                                    </div>

                                    {/* Key Metrics */}
                                    <div className="grid grid-cols-4 gap-4">
                                        {[
                                            { label: 'Total Meetings', value: '47', change: '+12%', positive: true },
                                            { label: 'ARQEYE Interventions', value: '128', change: '+8%', positive: true },
                                            { label: 'Avg Confidence', value: '87%', change: '+3%', positive: true },
                                            { label: 'Decision Velocity', value: '5.2/week', change: 'No change', neutral: true }
                                        ].map((metric, idx) => (
                                            <div key={idx} className="stat-card rounded-lg border border-gray-700 p-5">
                                                <div className="text-sm font-medium text-gray-400">{metric.label}</div>
                                                <div className="mt-2 text-3xl font-bold text-white">{metric.value}</div>
                                                <div className={`mt-1 text-xs ${metric.positive ? 'text-green-400' : metric.neutral ? 'text-gray-400' : 'text-red-400'}`}>
                                                    {metric.change} vs last month
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {/* ARQEYE Performance Over Time */}
                                    <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                                        <h3 className="text-lg font-semibold text-white mb-4">ARQEYE Intervention Trends</h3>
                                        <div className="space-y-3">
                                            {[
                                                { month: 'September', interventions: 45, confidence: 82 },
                                                { month: 'October', interventions: 67, confidence: 85 },
                                                { month: 'November', interventions: 89, confidence: 86 },
                                                { month: 'December', interventions: 128, confidence: 87 }
                                            ].map((data, idx) => (
                                                <div key={idx}>
                                                    <div className="flex items-center justify-between mb-2">
                                                        <span className="text-sm font-medium text-white">{data.month}</span>
                                                        <div className="flex items-center gap-4">
                                                            <span className="text-sm text-gray-400">{data.interventions} interventions</span>
                                                            <span className="confidence-badge rounded-full px-2 py-0.5 text-xs">
                                                                {data.confidence}% avg confidence
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div className="relative h-8 bg-gray-700 rounded-full overflow-hidden">
                                                        <div 
                                                            className="absolute inset-y-0 left-0 bg-gradient-to-r from-accent-500 to-accent-300 transition-all"
                                                            style={{ width: `${(data.interventions / 150) * 100}%` }}
                                                        ></div>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-6">
                                        {/* Decision Breakdown */}
                                        <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                                            <h3 className="text-lg font-semibold text-white mb-4">Decision Status Breakdown</h3>
                                            <div className="space-y-4">
                                                {[
                                                    { status: 'Approved', count: 24, percentage: 71, color: 'bg-green-500' },
                                                    { status: 'Proposed', count: 7, percentage: 21, color: 'bg-blue-500' },
                                                    { status: 'Rejected', count: 3, percentage: 8, color: 'bg-red-500' }
                                                ].map((item, idx) => (
                                                    <div key={idx}>
                                                        <div className="flex items-center justify-between mb-2">
                                                            <span className="text-sm text-white">{item.status}</span>
                                                            <span className="text-sm text-gray-400">{item.count} decisions ({item.percentage}%)</span>
                                                        </div>
                                                        <div className="relative h-3 bg-gray-700 rounded-full overflow-hidden">
                                                            <div 
                                                                className={`absolute inset-y-0 left-0 ${item.color} transition-all`}
                                                                style={{ width: `${item.percentage}%` }}
                                                            ></div>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>

                                        {/* Top Contributors */}
                                        <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                                            <h3 className="text-lg font-semibold text-white mb-4">Most Active Contributors</h3>
                                            <div className="space-y-3">
                                                {[
                                                    { name: 'Sarah Chen', contributions: 34, isBot: false },
                                                    { name: 'Marcus Johnson', contributions: 28, isBot: false },
                                                    { name: 'ARQEYE', contributions: 21, isBot: true },
                                                    { name: 'David Lee', contributions: 19, isBot: false },
                                                    { name: 'Jennifer Williams', contributions: 16, isBot: false }
                                                ].map((contributor, idx) => (
                                                    <div key={idx} className="flex items-center gap-3">
                                                        <div className="text-lg font-bold text-gray-500 w-6">{idx + 1}</div>
                                                        <div className={`h-8 w-8 rounded-full flex items-center justify-center text-sm font-semibold ${
                                                            contributor.isBot ? 'bg-accent-500 text-gray-900' : 'bg-primary-500 text-white'
                                                        }`}>
                                                            {contributor.isBot ? 'ü§ñ' : contributor.name.split(' ').map(n => n[0]).join('')}
                                                        </div>
                                                        <div className="flex-1">
                                                            <div className="text-sm font-medium text-white">{contributor.name}</div>
                                                        </div>
                                                        <div className="text-lg font-bold text-accent-500">{contributor.contributions}</div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>

                                    {/* Architectural Domains Coverage */}
                                    <div className="rounded-lg bg-gray-800 border border-gray-700 p-6">
                                        <h3 className="text-lg font-semibold text-white mb-4">Architectural Domain Coverage</h3>
                                        <div className="grid grid-cols-3 gap-4">
                                            {[
                                                { domain: 'Application Layer', discussions: 23, percentage: 85 },
                                                { domain: 'Infrastructure', discussions: 19, percentage: 70 },
                                                { domain: 'Integration', discussions: 15, percentage: 55 },
                                                { domain: 'Security', discussions: 12, percentage: 44 },
                                                { domain: 'Data Architecture', discussions: 10, percentage: 37 },
                                                { domain: 'Deployment', discussions: 8, percentage: 29 }
                                            ].map((item, idx) => (
                                                <div key={idx} className="rounded-lg bg-gray-900/50 p-4">
                                                    <div className="text-sm font-medium text-white mb-2">{item.domain}</div>
                                                    <div className="text-2xl font-bold text-accent-500 mb-1">{item.discussions}</div>
                                                    <div className="text-xs text-gray-400 mb-3">discussions this month</div>
                                                    <div className="relative h-2 bg-gray-700 rounded-full overflow-hidden">
                                                        <div 
                                                            className="absolute inset-y-0 left-0 bg-accent-500 transition-all"
                                                            style={{ width: `${item.percentage}%` }}
                                                        ></div>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            )}
                            {currentPage === 'applications' && (() => {
                                const allApplications = applications;

                                // Filter applications
                                const filteredApplications = allApplications.filter(app => {
                                    // Status filter
                                    let matchesStatus = appStatusFilter === 'all';
                                    if (!matchesStatus) {
                                        if (appStatusFilter === 'active') matchesStatus = app.status === 'active';
                                        else if (appStatusFilter === 'deprecated') matchesStatus = app.status === 'deprecated';
                                        else if (appStatusFilter === 'in-development') matchesStatus = app.status === 'in-development';
                                    }
                                    
                                    // Technology filter
                                    const matchesTech = appTechFilter === 'all' || 
                                        app.technology.some(t => t.toLowerCase().includes(appTechFilter.toLowerCase()));
                                    
                                    // Search filter
                                    const matchesSearch = appSearchQuery === '' || 
                                        app.name.toLowerCase().includes(appSearchQuery.toLowerCase()) ||
                                        app.description.toLowerCase().includes(appSearchQuery.toLowerCase()) ||
                                        app.owner.toLowerCase().includes(appSearchQuery.toLowerCase());
                                    
                                    return matchesStatus && matchesTech && matchesSearch;
                                });

                                return (
                                <div className="space-y-6">
                                    <div className="flex items-center justify-between">
                                        <div>
                                            <h1 className="text-3xl font-bold text-white">Application Inventory</h1>
                                            <p className="mt-1 text-gray-400">Track all applications in your architecture</p>
                                        </div>
                                        <button 
                                            onClick={handleOpenAppModal}
                                            className="rounded-lg bg-accent-500 px-4 py-2 text-sm font-semibold text-gray-900 hover:bg-accent-300 transition-colors"
                                        >
                                            + Add Application
                                        </button>
                                    </div>

                                    {/* Filters */}
                                    <div className="flex items-center gap-4">
                                        <select 
                                            value={appStatusFilter}
                                            onChange={(e) => setAppStatusFilter(e.target.value)}
                                            className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                        >
                                            <option value="all">All Status</option>
                                            <option value="active">Active</option>
                                            <option value="deprecated">Deprecated</option>
                                            <option value="in-development">In Development</option>
                                        </select>
                                        <select 
                                            value={appTechFilter}
                                            onChange={(e) => setAppTechFilter(e.target.value)}
                                            className="rounded-lg border border-gray-600 bg-gray-700 px-3 py-2 text-sm text-white focus:border-accent-500 focus:outline-none"
                                        >
                                            <option value="all">All Technologies</option>
                                            <option value="react">React</option>
                                            <option value="node">Node.js</option>
                                            <option value="python">Python</option>
                                            <option value="java">Java</option>
                                            <option value="php">PHP</option>
                                        </select>
                                        {(appStatusFilter !== 'all' || appTechFilter !== 'all' || appSearchQuery !== '') && (
                                            <button
                                                onClick={() => {
                                                    setAppStatusFilter('all');
                                                    setAppTechFilter('all');
                                                    setAppSearchQuery('');
                                                }}
                                                className="text-sm text-accent-500 hover:text-accent-300 transition-colors"
                                            >
                                                Clear filters
                                            </button>
                                        )}
                                        <div className="flex-1"></div>
                                        <div className="relative">
                                            <input
                                                type="text"
                                                value={appSearchQuery}
                                                onChange={(e) => setAppSearchQuery(e.target.value)}
                                                placeholder="Search applications..."
                                                className="rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 pl-10 text-sm text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none w-80"
                                            />
                                            <svg className="absolute left-3 top-2.5 w-4 h-4 text-gray-400 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                            </svg>
                                        </div>
                                        <span className="text-sm text-gray-400 whitespace-nowrap">
                                            Showing {filteredApplications.length} of {allApplications.length}
                                        </span>
                                    </div>

                                    {/* Application Cards */}
                                    <div className="grid gap-4">
                                        {filteredApplications.length === 0 ? (
                                            <div className="text-center py-12 text-gray-400">
                                                <div className="text-4xl mb-2">üîç</div>
                                                <p>No applications match the selected filters</p>
                                                <p className="text-sm text-gray-500 mt-1">Try adjusting your search criteria</p>
                                            </div>
                                        ) : (
                                            filteredApplications.map((app, idx) => (
                                            <div key={idx} className="decision-card rounded-lg p-6">
                                                <div className="flex items-start justify-between mb-4">
                                                    <div className="flex-1">
                                                        <div className="flex items-center gap-3 mb-2">
                                                            <h3 className="text-lg font-semibold text-white">{app.name}</h3>
                                                            <span className={`inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium capitalize ${
                                                                app.status === 'active' 
                                                                    ? 'bg-green-500/10 text-green-400 border-green-500/20'
                                                                    : app.status === 'deprecated'
                                                                        ? 'bg-red-500/10 text-red-400 border-red-500/20'
                                                                        : 'bg-blue-500/10 text-blue-400 border-blue-500/20'
                                                            }`}>
                                                                {app.status}
                                                            </span>
                                                        </div>
                                                        <p className="text-sm text-gray-300">{app.description}</p>
                                                    </div>
                                                    <button
                                                        onClick={() => handleDeleteApplication(app)}
                                                        className="p-1 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors"
                                                        title="Delete application"
                                                    >
                                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                        </svg>
                                                    </button>
                                                </div>

                                                <div className="flex items-center gap-6 text-sm mb-4">
                                                    <div>
                                                        <span className="text-gray-500">Technology: </span>
                                                        <span className="text-gray-300">
                                                            {app.technology.map((tech, i) => (
                                                                <span key={i} className="inline-flex items-center rounded bg-gray-700 px-2 py-1 text-xs mr-1">
                                                                    {tech}
                                                                </span>
                                                            ))}
                                                        </span>
                                                    </div>
                                                </div>

                                                <div className="grid grid-cols-4 gap-4 pt-4 border-t border-gray-700">
                                                    <div>
                                                        <div className="text-xs text-gray-500">Owner</div>
                                                        <div className="text-sm font-medium text-white mt-1">{app.owner}</div>
                                                    </div>
                                                    <div>
                                                        <div className="text-xs text-gray-500">Dependencies</div>
                                                        <div className="text-sm font-medium text-white mt-1">{app.dependencies} apps</div>
                                                    </div>
                                                    <div>
                                                        <div className="text-xs text-gray-500">Decisions</div>
                                                        <div className="text-sm font-medium text-accent-500 mt-1">{app.decisions} tracked</div>
                                                    </div>
                                                    <div>
                                                        <div className="text-xs text-gray-500">Last Discussed</div>
                                                        <div className="text-sm font-medium text-white mt-1">{app.lastDiscussed}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        ))
                                        )}
                                    </div>

                                    {/* Add Application Modal */}
                                    {showAppModal && (
                                        <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50" onClick={handleCloseAppModal}>
                                            <div className="bg-gray-800 rounded-lg border border-gray-700 p-6 max-w-2xl w-full mx-4" onClick={(e) => e.stopPropagation()}>
                                                <div className="flex items-center justify-between mb-6">
                                                    <h2 className="text-2xl font-bold text-white">Add Application</h2>
                                                    <button 
                                                        onClick={handleCloseAppModal}
                                                        className="text-gray-400 hover:text-white transition-colors"
                                                    >
                                                        <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                                        </svg>
                                                    </button>
                                                </div>

                                                <div className="space-y-4">
                                                    <div>
                                                        <label className="block text-sm font-medium text-gray-300 mb-2">Application Name *</label>
                                                        <input
                                                            type="text"
                                                            value={newApplication.name}
                                                            onChange={(e) => setNewApplication({...newApplication, name: e.target.value})}
                                                            className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none"
                                                            placeholder="e.g., PaymentGateway, UserService"
                                                        />
                                                    </div>

                                                    <div>
                                                        <label className="block text-sm font-medium text-gray-300 mb-2">Description *</label>
                                                        <textarea
                                                            value={newApplication.description}
                                                            onChange={(e) => setNewApplication({...newApplication, description: e.target.value})}
                                                            rows={3}
                                                            className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none"
                                                            placeholder="Brief description of the application's purpose and functionality"
                                                        />
                                                    </div>

                                                    <div className="grid grid-cols-2 gap-4">
                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-300 mb-2">Status *</label>
                                                            <select
                                                                value={newApplication.status}
                                                                onChange={(e) => setNewApplication({...newApplication, status: e.target.value})}
                                                                className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white focus:border-accent-500 focus:outline-none"
                                                            >
                                                                <option value="active">Active</option>
                                                                <option value="in-development">In Development</option>
                                                                <option value="deprecated">Deprecated</option>
                                                            </select>
                                                        </div>

                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-300 mb-2">Owner *</label>
                                                            <input
                                                                type="text"
                                                                value={newApplication.owner}
                                                                onChange={(e) => setNewApplication({...newApplication, owner: e.target.value})}
                                                                className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none"
                                                                placeholder="Application owner"
                                                            />
                                                        </div>
                                                    </div>

                                                    <div className="grid grid-cols-2 gap-4">
                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-300 mb-2">Technologies *</label>
                                                            <input
                                                                type="text"
                                                                value={newApplication.technology}
                                                                onChange={(e) => setNewApplication({...newApplication, technology: e.target.value})}
                                                                className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none"
                                                                placeholder="React, Node.js, PostgreSQL (comma-separated)"
                                                            />
                                                        </div>

                                                        <div>
                                                            <label className="block text-sm font-medium text-gray-300 mb-2">Dependencies</label>
                                                            <input
                                                                type="number"
                                                                value={newApplication.dependencies}
                                                                onChange={(e) => setNewApplication({...newApplication, dependencies: e.target.value})}
                                                                className="w-full rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-white placeholder-gray-400 focus:border-accent-500 focus:outline-none"
                                                                placeholder="0"
                                                                min="0"
                                                            />
                                                        </div>
                                                    </div>

                                                    <div className="bg-gray-900 rounded-lg p-3">
                                                        <p className="text-xs text-gray-400">
                                                            üí° <span className="font-semibold">Tip:</span> Technologies should be comma-separated. The application will be immediately added to your inventory and tracked across all architecture discussions.
                                                        </p>
                                                    </div>
                                                </div>

                                                <div className="flex items-center justify-end gap-3 mt-6">
                                                    <button
                                                        onClick={handleCloseAppModal}
                                                        className="rounded-lg border border-gray-600 bg-gray-700 px-4 py-2 text-sm font-semibold text-white hover:bg-gray-600 transition-colors"
                                                    >
                                                        Cancel
                                                    </button>
                                                    <button
                                                        onClick={handleSaveApplication}
                                                        disabled={!newApplication.name || !newApplication.description || !newApplication.owner || !newApplication.technology}
                                                        className="rounded-lg bg-accent-500 px-4 py-2 text-sm font-semibold text-gray-900 hover:bg-accent-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                                    >
                                                        Add Application
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    )}
                                </div>
                                );
                            })()}
                        </main>
                    </div>
                </div>
            );
        }

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
